!function(){var e={770:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});class i{constructor(e,t){this.id=e,this.player=t}}},215:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var i=s(770);class n extends i.Z{constructor(e,t,s){super(e,t),this.progress=s}}},421:function(e,t,s){"use strict";s.d(t,{iZ:function(){return l}});var i=s(578),n=s(862),o=s(102);const r=["event","category","action","label","contentType"],a=new class{constructor(){window.dataLayer=window.dataLayer||[],this.id=(0,i.Z)(),o.Z.subscribe(this.id,this.update.bind(this)),"analyticsQueue"in window&&window.analyticsQueue.forEach((e=>this.dispatch(e)))}update(e){let{type:t,data:s}=e;"ANALYTIC_DISPATCHER/DISPATCH_EVENT"===t&&this.handleDispatchEvent(s)}dispatch(e){this.handleDispatchEvent(e)}handleDispatchEvent(e){const t=window.globalKWCustomDimensions,s=t&&t.contentType;!e.contentType&&s&&(e.contentType=s);const i=this.formatData(e),n=this.buildEvent(i);this.dispatchEvent(n)}formatData(e){return this.validateRequiredAttributes(e),e.label=this.removeTwitterHandles(e.label),e}buildEvent(e){if(!(0,n.kJ)(window.dataLayer))throw new Error("Cannot dispatch analytic event: Invalid DataLayer");const t=0===window.dataLayer.length?{}:window.dataLayer[window.dataLayer.length-1];return this.diffEventData(t,e)}dispatchEvent(e){if(!(0,n.kJ)(window.dataLayer))throw new Error("Cannot dispatch analytic event: Invalid DataLayer");window.dataLayer.push(e)}validateRequiredAttributes(e){for(const t of r)if(!(t in e))throw new Error(`Malformed analytic data provided, missing attribute "${t}".`)}diffEventData(e,t){const s=Object.fromEntries(Object.keys(e).filter((t=>!(0,n.o8)(e[t])&&"gtm.uniqueEventId"!==t)).map((e=>e in t?[e,"undefined"===t[e]?void 0:t[e]]:[e,void 0])));return Object.entries(t).forEach((e=>{let[t,i]=e;s[t]="undefined"===i?void 0:i})),s}removeTwitterHandles(e){return e?e.replace(/@\w+/g,"<Twitter Handle>").replace(/twitter.com\/(?!hashtag)\w+/g,"twitter.com/twitter-handle"):""}},l=()=>{window.uniAnalyticsDispatcher=a,window.me=a};t.ZP=a},754:function(e,t,s){"use strict";var i=s(295);const n={start:!1,pause:!1,play:!1,progress:!1,complete:!1},o={pauseMode:"user",progressStep:.25},r={start:null,pause:null,play:null,progress:null,complete:null},a=new class{constructor(){this.trackers=new Map}track(e,t,s,a){this.trackers.set(e,new i.Z(e,t,(e=>({tracking:Object.assign(n,e.tracking),options:Object.assign(o,e.options),callbacks:Object.assign(r,e.callbacks)}))(s),a))}stopTracking(e){this.trackers.has(e)&&(this.trackers.get(e).stopTracking(),this.trackers.delete(e))}};t.Z=a},13:function(e,t,s){"use strict";s.d(t,{R:function(){return n}});var i=s(64);const n={Tab:9,Enter:13,Escape:27,Space:32,Left:37,Up:38,Right:39,Down:40};class o extends i.Z{constructor(){super(),document.body.addEventListener("keydown",(e=>this.onKeyDown(e)))}onKeyDown(e){const t=Object.values(n);for(let s=0;s<t.length;s++)if(t[s]===e.keyCode)return this.fire(t[s],{preventDefault:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&e.preventDefault.call(e),e.stopImmediatePropagation.call(e)},shiftKey:e.shiftKey})}}const r=new o;t.Z=r},793:function(e,t,s){"use strict";s.d(t,{V:function(){return n}});var i=s(102);const n={SCROLLED:"SCROLL_TRACKER/SCROLLED"};t.Z=class{constructor(){this.lastScroll=this.getScrolledTop(),window.addEventListener("scroll",(()=>this.onScrolled()))}getScrolledTop(){return window.scrollY||window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop}getPageHeight(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}getScrollDelta(e){const t=e-this.lastScroll;return this.lastScroll=e,t}getScrolledData(){const e=this.getScrolledTop(),t=window.innerHeight,s=this.getPageHeight(),i=this.getScrollDelta(e);return{scroll:e,viewportPercent:e/t,pagePercent:Math.ceil(0===e?0:e+t)/s,delta:i}}onScrolled(){const e=this.getScrolledData();i.Z.dispatch(n.SCROLLED,e)}}},295:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var i=s(729),n=s(770),o=s(215),r=s(102);const a="YT_VIDEO_TRACKER/START",l="YT_VIDEO_TRACKER/PAUSE",c="YT_VIDEO_TRACKER/PLAY",h="YT_VIDEO_TRACKER/PROGRESS",u="YT_VIDEO_TRACKER/COMPLETE";class d{constructor(e,t,s,i){this.id=e,this.player=t,this.settings=s,this.eventBuilder=i||null,this.store=r.Z,this.store.subscribe(this.id,this.update.bind(this)),this.disabled=!1,this.player.addEventListener("onStateChange",this.onStateChange),this.initTrackerVars()}onStateChange=e=>{let{data:t,target:s}=e;if(this.disabled)return;const i=s.getVideoData().video_id;switch(t){case YT.PlayerState.PAUSED:i===this.id&&this.onPause();break;case YT.PlayerState.ENDED:i===this.id&&this.onComplete()}};stopTracking(){this.player.removeEventListener("onStateChange",this.onStateChange),this.store.unsubscribe(this.id),this.disabled=!0}update(e){let{type:t,data:s}=e;const{start:n,pause:o,play:r,progress:d,complete:m}=this.settings.callbacks;switch(t){case i.b.VIDEO_PLAYING:s.videoId===this.id?this.onPlay():this.pausedByUser=!1;break;case a:s.id===this.id&&n&&n(s,this.eventBuilder);break;case l:s.id===this.id&&o&&o(s,this.eventBuilder);break;case c:s.id===this.id&&r&&r(s,this.eventBuilder);break;case h:s.id===this.id&&d&&d(s,this.eventBuilder);break;case u:s.id===this.id&&m&&m(s,this.eventBuilder)}}initTrackerVars(){this.hasStarted=!1,this.isPaused=!1,this.hasCompleted=!1,this.progressTimer=null,this.pausedByUser=!0,this.makeProgressSteps()}makeProgressSteps(){if(this.progressLeft=[],this.settings.tracking.progress){const e=this.settings.options.progressStep;if(e&&e>0&&e<1)for(let t=1;t<=1/e;t++)this.progressLeft.push(t*e)}}checkProgress(){const e=this.player.getCurrentTime()/this.player.getDuration();for(;this.progressLeft.length>0&&e>=this.progressLeft[0];){const e=this.progressLeft.shift();this.store.dispatch(h,new o.Z(this.id,this.player,100*e+"%"))}}startProgressTimer(){this.settings.tracking.progress&&this.progressLeft.length>0&&(null!==this.progressTimer&&clearInterval(this.progressTimer),this.progressTimer=setInterval((()=>this.checkProgress()),500),this.checkProgress())}stopProgressTimer(){null!==this.progressTimer&&(clearInterval(this.progressTimer),this.progressTimer=null)}onPlay(){this.triggerStartEvent(),this.triggerPlayEvent(),this.startProgressTimer(),this.pausedByUser=!0,this.isPaused=!1}onPause(){this.stopProgressTimer(),this.triggerPauseEvent(),this.isPaused=!0}onComplete(){this.stopProgressTimer(),this.triggerAllProgressLeft(),this.triggerCompleteEvent(),this.hasCompleted=!0,this.isPaused=!0}triggerStartEvent(){this.settings.tracking.start&&!this.hasStarted&&(this.hasStarted=!0,this.store.dispatch(a,new n.Z(this.id,this.player)))}triggerPauseEvent(){if(this.settings.tracking.pause){const e=this.settings.options.pauseMode;("user"===e&&this.pausedByUser||"all"===e)&&this.store.dispatch(l,new n.Z(this.id,this.player))}}triggerPlayEvent(){this.settings.tracking.play&&this.isPaused&&this.store.dispatch(c,new n.Z(this.id,this.player))}triggerAllProgressLeft(){if(this.settings.tracking.progress&&this.progressLeft.length>0){for(const e of this.progressLeft)this.store.dispatch(h,new o.Z(this.id,this.player,100*e+"%"));this.progressLeft=[]}}triggerCompleteEvent(){this.settings.tracking.complete&&!this.hasCompleted&&this.store.dispatch(u,new n.Z(this.id,this.player))}}},113:function(e,t,s){"use strict";var i=s(13),n=s(494);const o=new class{constructor(){this.actions={},this.currentVideoId=null,this.currentEvents=null,this.alternativeTargets=new Map,this.attachEvents()}attachEvents(){i.Z.on(i.R.Enter,(e=>{let{preventDefault:t}=e;return this.handleEnter(t)})),i.Z.on(i.R.Space,(e=>{let{preventDefault:t}=e;return this.handleEnter(t)})),i.Z.on(i.R.Left,(e=>{let{preventDefault:t}=e;return this.seekBackward(t)})),i.Z.on(i.R.Right,(e=>{let{preventDefault:t}=e;return this.seekForward(t)}))}setVideoReferences(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;const o=(0,n._)(i||document.body),r=o.indexOf(t);if(-1===r)throw console.error("Cannot find",t,"inside of",i||document.body),new Error(`Failed to set accessibility for ${e}`);const a=o[r-1],l=o[r+1];if(a)a.tabIndex=-1;else{if(!l)throw console.error("Unable to find sibling iframe to",t),new Error(`Failed to set accessibility for ${e}`);l.tabIndex=-1}if(!t.dataset.videoId){const e=t.closest("[data-video-id]");e&&this.alternativeTargets.set(t,e)}this.actions[e]=s}seekBackward(e){this.loadFocusedComponentData()&&(e(),this.actions[this.currentVideoId].back())}seekForward(e){this.loadFocusedComponentData()&&(e(),this.actions[this.currentVideoId].forward())}handleEnter(e){if(this.loadFocusedComponentData())switch(e(),this.actions[this.currentVideoId].getState()){case YT.PlayerState.PLAYING:this.currentEvents.pause();break;case YT.PlayerState.PAUSED:this.currentEvents.resume();break;case YT.PlayerState.CUED:this.currentEvents.start()}}loadFocusedComponentData(){const e=document.activeElement;return this.currentVideoId=this.alternativeTargets.has(e)?this.alternativeTargets.get(e).dataset.videoId:e.dataset.videoId,this.currentEvents=this.currentVideoId?this.actions[this.currentVideoId]:null,this.currentVideoId&&this.currentEvents}};t.Z=o},533:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var i=s(421);class n{constructor(){this.analyticsEvent={}}replaceTokens(e,t){const s=goog.dom.getAncestorByTagNameAndClass(e,"a");for(const e in t){let i=t[e];const n=/\{slug\}/g.test(i),o=/\{name\}/g.test(i);if(n&&s&&s.hasAttribute("href")&&(i=i.replace(/\{slug\}/g,s.getAttribute("href").replace(/\/$/,""))),o&&s){const e=s.innerText?s.innerText:s.getAttribute("aria-label");i=i.replace(/\{name\}/g,e)}t[e]=i}return t}setAdditionalValues(e){for(const[t,s]of Object.entries(e))this.analyticsEvent[`${t}`]=s}pushClickEvent(){i.ZP.dispatch(this.analyticsEvent)}}},752:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var i=s(533);class n extends i.Z{constructor(e){let{pageTitle:t="",videoUrl:s="",videoLength:i=0}=e;super(),this.videoUrl=s,this.pageTitle=t,this.videoLength=i,this.analyticsEvent={event:"page interaction",category:"video tracking",label:`${t} - ${s}`,videoLength:this.getVideoLength(i)}}setPageTitle(e){this.pageTitle=e}getVideoLength(e){return isNaN(e)||0===e?void 0:e}setVideoLength(e){this.videoLength=e,this.analyticsEvent.videoLength=this.getVideoLength(e)}pushAction(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.analyticsEvent.action=e;const n=t&&t.getDuration?Math.ceil(t.getDuration()):0,o=(null==i?void 0:i.duration)||n;this.analyticsEvent.videoLength=this.getVideoLength(o)||this.videoLength;const r=t&&t.getVideoUrl?t.getVideoUrl():this.videoUrl,a=(null==i?void 0:i.videoUrl)||r,l=t&&t.getVideoData?t.getVideoData().title:"";let c;switch(this.analyticsEvent.label=`${(null==i?void 0:i.videoTitle)||l||this.pageTitle} - ${a}`,this.analyticsEvent.position=s?`${s.position} of ${s.total}`:void 0,null==i?void 0:i.clickLocation){case"player":c="featured video play button";break;case"cta":c="watch video text";break;case"thumbnail":c="more videos"}this.analyticsEvent.clickLocation="start"===e||"play"===e?c:void 0,this.pushClickEvent()}}},64:function(e,t){"use strict";t.Z=class{constructor(){this.listeners={}}on(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){e in this.listeners&&(this.listeners[e]=this.listener[e].filter((e=>e!==t)))}fire(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];e in this.listeners&&this.listeners[e].forEach((e=>e&&e(...s)))}}},578:function(e,t,s){"use strict";const i=[];t.Z=function(){const e=99999999;let t=Math.floor(Math.random()*(e-1+1)+1);for(;i.includes(t);)t=Math.floor(Math.random()*(e-1+1)+1);return i.push(t),t}},904:function(e,t){"use strict";t.Z=class{constructor(){let{active:e=!1,stream:t=console,title:s=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.active=!1,this.stream=t,this.title=s,e&&this.activate()}activate(){this.active=!0,this.log("Logger activated")}deactivate(){this.active=!1}log(){if(this.active){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this.title&&t.unshift(this.title),this.stream.log(...t)}}info(){if(this.active){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];"info"in this.stream?this.stream.info(...t):this.stream.log("[INFO]",...t)}}warn(){if(this.active){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];"warn"in this.stream?this.stream.warn(...t):this.stream.log("[WARNING]:",...t)}}error(){if(this.active){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];"error"in this.stream?this.stream.error(...t):this.stream.log("[ERROR]:",...t)}}}},87:function(e,t){"use strict";t.Z=function(e,t){return[...e.querySelectorAll(t)]}},494:function(e,t,s){"use strict";s.d(t,{G:function(){return n},_:function(){return i}});const i=e=>Array.from(e.querySelectorAll('a[href]:not([disabled]), area[href]:not([disabled]), input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, [tabindex]:not([disabled]):not([tabindex="-1"]), *[contenteditable=true]')),n=(e,t,s)=>{var i;return null==e||null===(i=e.closest(t))||void 0===i?void 0:i.querySelector(s)}},862:function(e,t,s){"use strict";s.d(t,{HD:function(){return n},hj:function(){return o},kJ:function(){return r},o8:function(){return a}});const i=(e,t)=>Object.prototype.toString.call(e)===t,n=e=>i(e,"[object String]"),o=e=>i(e,"[object Number]"),r=e=>i(e,"[object Array]"),a=e=>i(e,"[object Undefined]")},102:function(e,t){"use strict";t.Z=new class{constructor(){this.subscribers={},this.state={}}dispatch(){const e={type:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};Object.keys(this.subscribers).forEach((t=>{this.subscribers[t](e)}))}subscribe(e,t){this.subscribers[e]=t}unsubscribe(e){delete this.subscribers[e]}setState(e,t){this.state[e]=t}getState(e){return this.state[e]}}},648:function(e,t,s){"use strict";var i=s(578),n=s(904),o=s(102);t.Z=class{constructor(e){e&&(this.el=e,this.document=document,this.id=`${e.getAttribute("data-component")}_${(0,i.Z)()}`,this.store=o.Z,this.update=this.update.bind(this),this.debug=new n.Z)}init(){return this._elements(),this._events(),this.store.subscribe(this.id,this.update),this}afterInit(){}_elements(){}_events(){}update(e){let{type:t,data:s}=e}getOptions(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el).getAttribute(e);let s={};if(t)try{s=JSON.parse(t)}catch(e){this.debug.error("Options are corrupted =>",e)}return s}loadElements(e){const t={};for(const[s,i]of Object.entries(e))t[s]=this.el.querySelector(i);return t}loadElementsAll(e){const t={};for(const[s,i]of Object.entries(e))t[s]=this.el.querySelectorAll(i);return t}}},729:function(e,t,s){"use strict";s.d(t,{b:function(){return m}});var i=s(754),n=s(793),o=s(113),r=s(752),a=s(87),l=s(494),c=s(648);const h="https://www.youtube.com/iframe_api",u={YT_API:"YT_API",YT_API_SCRIPT:`script[src="${h}"]`,YT_IFRAME_WRAPPER:"uni-article-yt-player-",YT_CUSTOM_WRAPPER:".uni-article-video__custom-wrapper",YT_VIDEO_PLAYER:".uni-article-video__embed-container",YT_VIDEO_DURATION:".uni-article-video__duration",YT_DURATION_TIME:".uni-article-video__duration-time",YT_MODULE:".module-yt-homepage-video",YT_CTA:".module-yt-homepage-video__cta",YT_TITLE:".module-yt-homepage-video__info-title"},d="hidden",m={API_LOADED:"API_LOADED",VIDEO_PLAYING:"VIDEO_PLAYING"};class p extends c.Z{constructor(e){super(e),this.elems={el:e},this.videoId=this.el.getAttribute("data-video-id"),this.pageTitle=this.el.getAttribute("data-page-title"),this.videoPlayer=null,this.analytics=new r.Z({pageTitle:this.pageTitle,videoUrl:`https://youtube.com/watch?v=${this.videoId}`,videoLength:0}),this.wasInView=!1,this.playFromCta=!1}init(){return super.init(),this.loadApiScript(),this.testVideoInView(),this}_elements(){this.elems.customWrapper=this.el.querySelector(u.YT_CUSTOM_WRAPPER),this.elems.ytIframeVideo=this.el.querySelector(u.YT_VIDEO_PLAYER),this.elems.duration=this.el.querySelector(u.YT_VIDEO_DURATION),this.elems.durationTime=this.el.querySelector(u.YT_DURATION_TIME),this.elems.cta=(0,l.G)(this.elems.customWrapper,u.YT_MODULE,u.YT_CTA),this.elems.title=(0,l.G)(this.elems.customWrapper,u.YT_MODULE,u.YT_TITLE)}update(e){let{type:t,data:s}=e;switch(t){case m.API_LOADED:this.createIframePlayer();break;case m.VIDEO_PLAYING:this.updateVideoState(s.videoId);break;case n.V.SCROLLED:this.wasInView||this.testVideoInView()}}testVideoInView(){const{y:e,height:t}=this.el.getBoundingClientRect();e+t<=0||e>=window.innerHeight||(this.wasInView=!0,this.analytics.pushAction("in view",this.videoPlayer,null,{videoTitle:this.elems.title?this.elems.title.innerText:""}))}startVideo(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.elems.customWrapper.classList.contains(d)||this.showIframe(),this.playFromCta=e,this.videoPlayer.playVideo()}updateVideoState(e){this.videoPlayer.pauseVideo&&e!==this.videoId&&this.videoPlayer.pauseVideo()}loadApiScript(){const e=this.document.querySelector(u.YT_API_SCRIPT);e?this.updateApiReadyListener(e):this.addScriptTag()}updateApiReadyListener(e){if(e.id!==u.YT_API){const e=angular.element(this.document).scope().$root;window.onYouTubeIframeAPIReady=()=>{this.listenGlueVideoEvents(),e.$broadcast("glue.ng.ytVideo.service.IframeApiInitalized"),this.store.dispatch(m.API_LOADED)}}}addScriptTag(){const e=this.document.createElement("script"),t=this.document.getElementsByTagName("script")[0];e.id=u.YT_API,e.src=h,t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>this.store.dispatch(m.API_LOADED)}createIframePlayer(){this.videoPlayer=new YT.Player(`${u.YT_IFRAME_WRAPPER}${this.videoId}`,{videoId:this.videoId,events:{onReady:()=>this.onPlayerReady(),onStateChange:e=>this.onPlayerStateChange(e)}})}showIframe(){this.elems.customWrapper.classList.toggle(d),this.elems.ytIframeVideo.classList.toggle(d)}setDuration(e){this.analytics.setVideoLength(e);const t=this.formatDuration(e);this.elems.durationTime.innerHTML=t,this.elems.durationTime.setAttribute("aria-label",` Video length is :${t}. Click to play.`),this.elems.duration.classList.remove("loading")}formatDuration(e){let t="";return e>=3600?(t+=`${Math.floor(e/3600)}:`,t+=`${this.padWithZero(Math.floor(e/60)%60)}:`):t+=Math.floor(e/60)%60+":",t+=this.padWithZero(e%60),t}padWithZero(e){return e>=10?`${e}`:`0${e}`}onPlayerStateChange(e){e.data===YT.PlayerState.PLAYING&&this.store.dispatch(m.VIDEO_PLAYING,{videoId:this.videoId})}onPlayerReady(){var e;this.addVideoToTrackingService(),this.setDuration(this.videoPlayer.getDuration()),this.elems.customWrapper.addEventListener("click",(()=>this.startVideo())),null===(e=this.elems.cta)||void 0===e||e.addEventListener("click",(()=>this.startVideo(!0))),o.Z.setVideoReferences(this.videoId,this.elems.customWrapper,{start:()=>this.startVideo(),resume:()=>this.videoPlayer.playVideo(),pause:()=>this.videoPlayer.pauseVideo(),back:()=>this.videoPlayer.seekTo(this.videoPlayer.getCurrentTime()-5,!0),forward:()=>this.videoPlayer.seekTo(this.videoPlayer.getCurrentTime()+5,!0),getState:()=>this.videoPlayer.getPlayerState()},this.elems.el)}addVideoToTrackingService(){i.Z.track(this.videoId,this.videoPlayer,{tracking:{start:!0,pause:!0,play:!0,progress:!0,complete:!0},options:{pauseMode:"user",progressStep:.25},callbacks:{start:e=>{let{player:t}=e;this.analytics.pushAction("start",t,null,{clickLocation:this.playFromCta?"cta":"player"}),this.playFromCta=!1},pause:e=>{let{player:t}=e;return this.analytics.pushAction("pause",t)},play:e=>{let{player:t}=e;this.analytics.pushAction("play",t,null,{clickLocation:this.playFromCta?"cta":"player"}),this.playFromCta=!1},progress:e=>{let{progress:t,player:s}=e;return this.analytics.pushAction(`${t} viewed`,s)},complete:e=>{let{player:t}=e;return this.analytics.pushAction("complete",t)}}})}listenGlueVideoEvents(){(0,a.Z)(this.document.body,".glue-yt-video").forEach((e=>{angular.element(e).scope().$on("glue.isVisible",(()=>{this.store.dispatch(m.VIDEO_PLAYING,{})}))}))}}t.Z=p},155:function(e,t,s){"use strict";s.r(t),s.d(t,{ArticleYoutubePlayerActions:function(){return l},YT_API_SCRIPT_URL:function(){return o},YouTubePlayer:function(){return u},flags:function(){return a},formatDuration:function(){return h},padWithZero:function(){return c},selectors:function(){return r}});var i=s(102),n=s(797);const o="https://www.youtube.com/iframe_api",r={HEADER:"header.uni-header",YT_API:"YT_API",YT_API_SCRIPT:`script[src="${o}"]`,YT_IFRAME_WRAPPER:"uni-article-yt-player-",YT_CUSTOM_WRAPPER:".uni-article-video__custom-wrapper",YT_VIDEO_PLAYER:".uni-article-video__embed-container",YT_VIDEO_DURATION:".uni-article-video__duration",YT_DURATION_TIME:".uni-article-video__duration-time"},a={HIDDEN:"hidden",LOADING:"loading"},l={API_LOADED:"API_LOADED",VIDEO_PLAYING:"VIDEO_PLAYING"},c=e=>e>=10?e:`0${e}`,h=e=>[e>=3600?Math.floor(e/3600):"",e>=60?Math.floor(e/60)%60:"0",e%60].reduce(((e,t)=>{const s=e?c(t):t;return s?e+(e?":":"")+s:e}),"");class u{constructor(e){this.elem=e,this.videoId=e.dataset.videoId||"",this.videoUrl=`https://www.youtube.com/watch?v=${this.videoId}`,this.videoDuration=0,this.playMethod="player",this.trackedId="",this.player=null,this.elems={customWrapper:e.querySelector(r.YT_CUSTOM_WRAPPER),iframe:e.querySelector(r.YT_VIDEO_PLAYER),duration:e.querySelector(r.YT_VIDEO_DURATION),durationTime:e.querySelector(r.YT_DURATION_TIME)},this._trackStarted=!1,this._promise=null,this._resolve=null,this._store=i.Z,this._init()}get ready(){return this._promise}get interactiveElem(){return this.elems.customWrapper}_init(){this.elems.customWrapper.addEventListener("click",(()=>this.playVideo())),this._createIFrame()}async _createIFrame(){return this._promise=new Promise((e=>{n.Z.load.then((()=>{this.player=new YT.Player(`${r.YT_IFRAME_WRAPPER}${this.videoId}`,{videoId:this.videoId,events:{onReady:()=>{this._ready(),e(!0)},onStateChange:e=>this._stateChanged(e)}})}))})),this._promise}_showIFrame(){this.elems.customWrapper.classList.add(a.HIDDEN),this.elems.iframe.classList.remove(a.HIDDEN)}_hideIFrame(){this.elems.customWrapper.classList.remove(a.HIDDEN),this.elems.iframe.classList.add(a.HIDDEN)}async playVideo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";await this._promise,this.playMethod=e,this.player.playVideo()}async pauseVideo(){await this._promise,this.player.pauseVideo()}switchVideo(e){return this.player.loadVideoById(e),this.videoId=e,this._scrollIfNeeded(),this._promise=new Promise((e=>{this._resolve=e,this._trackStarted=!0})),this.elems.duration.classList.add(a.LOADING),this._promise}_scrollIfNeeded(){const e=this.elem.getBoundingClientRect();if(e.top<0||e.bottom>window.innerHeight)if(this.elem.offsetTop<document.scrollingElement.scrollTop){const e=document.querySelector(r.HEADER).clientHeight,t=Math.max(0,this.elem.offsetTop-e);document.scrollingElement.scrollTo({behavior:"smooth",top:t})}else document.scrollingElement.scrollTo({behavior:"smooth",top:this.elem.offsetTop})}_ready(){const e=this.player.getDuration();this.videoDuration=e;const t=h(e);this.elems.durationTime.innerHTML=t,this.elems.durationTime.setAttribute("aria-label",` Video length is: ${t}. Click to play.`),this.elems.duration.classList.remove(a.LOADING)}_stateChanged(e){if(e.data===YT.PlayerState.PLAYING){if(this._trackStarted){this._trackStarted=!1;const e=n.Z.getVideoPosition(this.videoId)||null;n.Z.pushAction("start",this.player,e,{videoUrl:this.videoUrl,duration:this.videoDuration,clickLocation:"thumbnail"}),this._resolve(!0)}this._showIFrame(),this._store.dispatch(l.VIDEO_PLAYING,{videoId:this.videoId})}else e.data!==YT.PlayerState.PAUSED&&this._hideIFrame()}}},797:function(e,t,s){"use strict";var i=s(754),n=s(113),o=s(752),r=s(102),a=s(155);const l=new class{constructor(){this._apiPromise=null,this._apiResolve=null,this._store=r.Z,this._players=new Map,this._videos=new Map,this._videoPositions=new Map,this._analytics=new o.Z({}),this._loadApi()}get load(){return this._apiPromise}registerPlayer(e){const t=new a.YouTubePlayer(e),s=e.dataset.pageTitle;return s&&this._analytics.setPageTitle(s),t.ready.then((()=>{this._players.set(e,t),this._trackVideo(t,!0),this._makeVideoAccessible(t)}))}_trackVideo(e,t){e.trackedId=e.videoId;const s=e.elem.dataset.pageTitle,n=(t,i)=>{const n=this._videoPositions.get(i.getVideoData().video_id),o=i.getVideoUrl(),r=i.getDuration(),a=i.getVideoData().title;this._analytics.setPageTitle(s),this._analytics.setVideoLength(r),this._analytics.pushAction(t,i,n,{videoTitle:a,videoUrl:o,duration:r,clickLocation:e.playMethod}),e.playMethod="player"};i.Z.track(e.trackedId,e.player,{tracking:{start:t,pause:!0,play:!0,progress:!0,complete:!0},options:{pauseMode:"user",progressStep:.25},callbacks:{start:e=>{let{player:t}=e;return n("start",t)},pause:e=>{let{player:t}=e;return n("pause",t)},play:e=>{let{player:t}=e;return n("play",t)},progress:e=>{let{progress:t,player:s}=e;return n(`${t} viewed`,s)},complete:e=>{let{player:t}=e;return n("complete",t)}}})}_makeVideoAccessible(e){n.Z.setVideoReferences(e.videoId,e.interactiveElem,{start:()=>e.playVideo(),resume:()=>e.playVideo(),pause:()=>e.pauseVideo(),back:()=>e.player.seekTo(e.player.getCurrentTime()-5,!0),forward:()=>e.player.seekTo(e.player.getCurrentTime()+5,!0),getState:()=>{var t;return null===(t=e.player)||void 0===t?void 0:t.getPlayerState()}},e.elem)}getPlayer(e){if(!this._players.has(e))throw new Error("The requested player does not exists!");return this._players.get(e)}registerVideo(e,t,s,i){this._videos.set(e,t),"number"==typeof s&&i&&this._videoPositions.set(t,{position:s,total:i})}getVideoPosition(e){if(!this._videoPositions.has(e))throw new Error("Cannot retrieve video position: The video ID does not exists!");return this._videoPositions.get(e)}async playVideoIn(e,t){if(await this.load,!this._videos.has(e)||!this._players.has(t))throw new Error("Cannot play the provided video in the provided player!");const s=this._players.get(t),n=this._videos.get(e);if(s.trackedId&&(i.Z.stopTracking(s.trackedId),s.player.getPlayerState&&s.player.getPlayerState()===YT.PlayerState.PLAYING)){await s.pauseVideo();const e=this._videoPositions.get(s.trackedId);this.pushAction("pause",s.player,e,{videoUrl:s.videoUrl,duration:s.videoDuration})}await s.switchVideo(n),this._trackVideo(s)}async pauseVideo(e){if(await this.load,!this._players.has(e))throw new Error("Cannot pause the provided player!");const t=this._players.get(e);await t.pauseVideo()}_loadApi(){this._apiPromise=new Promise((e=>{this._apiResolve=e,Promise.resolve().then(s.bind(s,155)).then((e=>{let{selectors:{YT_API_SCRIPT:t}}=e;const s=document.querySelector(t);s?this._hijackAngularForApiLoadedEvent(s):this._addYouTubeApiScriptTag()}))}))}_addYouTubeApiScriptTag(){const e=document.createElement("script"),t=document.querySelectorAll("script")[0];e.id=a.selectors.YT_API,e.src=a.YT_API_SCRIPT_URL,t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=()=>{this._store.dispatch(a.ArticleYoutubePlayerActions.API_LOADED),this._apiResolve(null)}}_hijackAngularForApiLoadedEvent(e){if(e.id!==a.selectors.YT_API){const e=angular.element(document).scope().$root;window.onYouTubeIframeAPIReady=()=>{this._enableAutoPauseWhenGlueVideoPlays(),e.$broadcast("glue.ng.ytVideo.service.IframeApiInitalized"),this._store.dispatch(a.ArticleYoutubePlayerActions.API_LOADED),this._apiResolve(null)}}else window.onYouTubeIframeAPIReady=()=>{this._store.dispatch(a.ArticleYoutubePlayerActions.API_LOADED),this._apiResolve(null)}}_enableAutoPauseWhenGlueVideoPlays(){const e=document.querySelectorAll(".glue-yt-video");for(const t of e)angular.element(t).scope().$on("glue.isVisible",(()=>{this._store.dispatch(a.ArticleYoutubePlayerActions.VIDEO_PLAYING,{})}))}pushAction(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._analytics.pushAction(e,t,s,i)}};t.Z=l},202:function(){!function(){"use strict";function e(e){var t=!0,s=!1,i=null,n={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function o(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function r(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function a(e){t=!1}function l(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(s){s.metaKey||s.altKey||s.ctrlKey||(o(e.activeElement)&&r(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",a,!0),document.addEventListener("pointerdown",a,!0),document.addEventListener("touchstart",a,!0),document.addEventListener("visibilitychange",(function(e){"hidden"==document.visibilityState&&(s&&(t=!0),l())}),!0),l(),e.addEventListener("focus",(function(e){var s,i,a;o(e.target)&&(t||(s=e.target,i=s.type,"INPUT"==(a=s.tagName)&&n[i]&&!s.readOnly||"TEXTAREA"==a&&!s.readOnly||s.isContentEditable))&&r(e.target)}),!0),e.addEventListener("blur",(function(e){var t;o(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(s=!0,window.clearTimeout(i),i=window.setTimeout((function(){s=!1,window.clearTimeout(i)}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&document.documentElement.classList.add("js-focus-visible")}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";s(202);const e=()=>document.documentElement.dataset.locale||"en-us",t=["img",".glue-o-pagination__page-list li"],i=document.querySelector(".uni-container"),n=()=>{const e=document.querySelector('[data-reading-time="true"]'),s=i?i.textContent.replace(/(\r\n|\n|\r)/gm,"").split(" "):"";let n=0;if(e){t.forEach((s=>{const i=e.querySelectorAll(s);s!==t[0]&&s!==t[1]||i.forEach((()=>{n+=12}))}));const i=60*s.filter((e=>""!==e)).length/265;n=i+n,n=Math.round(n/60)}return n};var o=s(87),r=s(421),a=s(533),l=s(578),c=s(102);const h="RELATED_ARTICLES_ANALYTICS/CLICK_ARROW",u="RELATED_ARTICLES/CLICK_CARD",d="RELATED_ARTICLES/CLICK_DOT";let m=null;class p{constructor(){this.id=(0,l.Z)(),c.Z.subscribe(this.id,(e=>this.update(e)))}update(e){let{type:t,data:s}=e;switch(t){case h:this.handleAnalytics({action:"arrow",label:`arrow - ${s.arrow}`,hasCarousel:void 0,hasImage:void 0,clickLocation:void 0,sourceContent:`arrow - ${s.source}`,relatedIndex:void 0});break;case u:this.handleAnalytics({action:"article lead",label:`article: ${s.slug}`,hasCarousel:`${s.hasCarousel}`,hasImage:`${s.hasImage}`,clickLocation:`${s.target}`,sourceContent:`${s.source}`,relatedIndex:`${s.index}`,relatedArticleTag:`${s.primaryTag}`});break;case d:this.handleAnalytics({action:"dot",label:`dot: ${s.index}`,hasCarousel:void 0,hasImage:void 0,clickLocation:void 0,sourceContent:`${s.source}`,relatedIndex:void 0},!1)}}handleAnalytics(e){const t={event:"page interaction",category:"related article - footer",...e,...arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?[]:window.globalKWCustomDimensions},s=new a.Z;s.setAdditionalValues(t),s.pushClickEvent()}}class g extends a.Z{constructor(){super(),this.analyticsEvent={event:"trackSurvey",category:"survey"}}launchSlide(e){this.analyticsEvent.action="launch",this.analyticsEvent.label=`${e}`,this.pushClickEvent()}welcomeScreen(e){this.analyticsEvent.action="start",this.analyticsEvent.label=`${e}`,this.pushClickEvent()}close(){this.analyticsEvent.action="close",this.analyticsEvent.label="closed",this.pushClickEvent()}complete(){this.analyticsEvent.action="complete",this.analyticsEvent.label="close survey",this.pushClickEvent()}navigation(e,t){this.analyticsEvent.action=`${e} click`,this.analyticsEvent.label=`${t}`,this.pushClickEvent()}responseQuestion(e,t){if(this.analyticsEvent.action=`${e} response`,"7"===e)this.analyticsEvent.label=t.length>0?"comment":"no comment";else if(t.includes("OthR/")){const e=t.split("OthR/")[0];this.analyticsEvent.label="Other",e.length>0&&(this.analyticsEvent.label=`${t.split("OthR/")[0]}, Other`)}else this.analyticsEvent.label=`${t.includes("Oth/")?"Other":t}`;this.pushClickEvent()}}const v="SURVEY_ANALYTICS/SHOW",y="SURVEY_ANALYTICS/NEXT",b="SURVEY_ANALYTICS/PREV",f="SURVEY_ANALYTICS/CLOSE",w="SURVEY_ANALYTICS/SUBMIT",S="SURVEY_ANALYTICS/COLLECT_DATA";class _{constructor(){this.id=(0,l.Z)(),c.Z.subscribe(this.id,(e=>this.update(e))),this.analyticsSurveyLayer=new g}update(e){let{type:t,data:s}=e;switch(t){case y:1===s.step?this.analyticsSurveyLayer.welcomeScreen("take survey"):this.analyticsSurveyLayer.navigation(s.step,"next"),8===s.step?(this.analyticsSurveyLayer.launchSlide("thank you"),this.analyticsSurveyLayer.complete()):this.analyticsSurveyLayer.launchSlide(`question ${s.step}`);break;case b:this.analyticsSurveyLayer.navigation(s.step,"back");break;case f:0!==s.step?this.analyticsSurveyLayer.close():this.analyticsSurveyLayer.welcomeScreen("close");break;case v:this.analyticsSurveyLayer.launchSlide("launched");break;case w:this.analyticsSurveyLayer.responseQuestion(s.step,s.value);break;case S:""!==s.value&&this.analyticsSurveyLayer.responseQuestion(s.step,s.value)}}}let E=null;class A extends a.Z{constructor(e){let{action:t="",label:s=""}=e;super(),this.analyticsEvent={event:"page interaction",category:"navigation",action:t,label:s}}}const L="TOP_NAV_ANALYTICS/CLICK_LOGO",C="TOP_NAV_ANALYTICS/CLICK_KEBAB",k="TOP_NAV_ANALYTICS/CLICK_NAV_ITEM",T="TOP_NAV_ANALYTICS/CLICK_CATEGORY_TITLE",I="TOP_NAV_ANALYTICS/CLICK_PRODUCT_ITEM",O="TOP_NAV_ANALYTICS/CLICK_NEWS_ITEM",x="TOP_NAV_ANALYTICS/CLICK_CTA_PRODUCTS",P="TOP_NAV_ANALYTICS/CLICK_CTA_NEWS",B="TOP_NAV_ANALYTICS/CLICK_AUTOCOMPLETE_ITEM",D="TOP_NAV_ANALYTICS/CLICK_CLOSE_MENU",R="TOP_NAV_ANALYTICS/CLICK_HAMBURGUER_ICON",q="TOP_NAV_ANALYTICS/SEARCH_BAR_ACTION";class M{constructor(){this.id=(0,l.Z)(),c.Z.subscribe(this.id,(e=>this.update(e)))}update(e){let{type:t,data:s}=e;switch(t){case L:this.getAnaliticsObject({label:"navlink: home"}).pushClickEvent();break;case C:this.getAnaliticsObject({label:"navlink: kebab menu"}).pushClickEvent();break;case k:const e=this.getAnaliticsObject({label:`navlink: ${s.target.innerText}`});s.target.href&&e.setAdditionalValues({pagePath:`${s.target.getAttribute("href")}`}),e.pushClickEvent();break;case T:const t=this.getAnaliticsObject({action:"subheader",label:`category: ${s.target.innerText}`});s.target.href&&t.setAdditionalValues({pagePath:`${s.target.getAttribute("href")}`}),t.pushClickEvent();break;case I:const i=this.getAnaliticsObject({action:"subheader",label:`product: ${s.target.innerText}`});s.target.href&&i.setAdditionalValues({pagePath:`${s.target.getAttribute("href")}`}),i.pushClickEvent();break;case O:const n=this.getAnaliticsObject({action:"subheader",label:`topic: ${s.target.innerText}`});s.target.href&&n.setAdditionalValues({pagePath:`${s.target.getAttribute("href")}`}),n.pushClickEvent();break;case x:const o=this.getAnaliticsObject({action:"subheader",label:`${s.target.innerText}`});s.target.href&&o.setAdditionalValues({pagePath:`${s.target.getAttribute("href")}`}),o.pushClickEvent();break;case P:const r=this.getAnaliticsObject({action:"subheader",label:`${s.event.target.innerText}: ${s.slug}`});s.event.target.href&&r.setAdditionalValues({pagePath:`${s.event.target.getAttribute("href")}`}),r.pushClickEvent();break;case q:this.getAnaliticsObject({label:`search bar: ${s}`}).pushClickEvent();break;case B:this.getAnaliticsObject({label:`search bar article - ${s.index} - ${s.slug}`}).pushClickEvent();break;case D:this.getAnaliticsObject({label:"navlink: exit button"}).pushClickEvent();break;case R:this.getAnaliticsObject({label:`navmenu: ${s}`}).pushClickEvent()}}getAnaliticsObject(e){let{action:t="header",label:s=""}=e;return new A({action:t,label:s})}}let N=null;const V="DOCUMENT_CLICK_TRACKER/CLICKED";var F=s(862);const $=(e,t)=>{(0,F.HD)(t)&&(t=document.querySelector(t));let s=e.target||e.srcElement;for(;s&&s!==document.body&&s!==t;)s=s.parentElement;return s!==document.body},H="CLICK_OUTSIDE/REGISTER",W="CLICK_OUTSIDE/PAYLOAD";const U={"en-us":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"},"pt-br":{mainText:"O Google usa cookies para analisar o tráfego para este site. As informações sobre seu uso do nosso site são compartilhadas com o Google para esse fim.",moreText:"Ver detalhes",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=pt-BR"},"de-de":{mainText:"Google verwendet Cookies, um Zugriffe auf diese Website zu analysieren. Informationen zu deiner Nutzung dieser Website werden deshalb mit Google geteilt.",moreText:"Details ansehen",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=de"},"es-419":{mainText:"Google utiliza cookies para analizar el tráfico a este sitio. La información sobre tu uso de nuestro sitio se comparte con Google para ese propósito.",moreText:" Ver detalles",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=es-419"},"en-au":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"},"en-ca":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"},"en-in":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"},"fr-ca":{mainText:"Google utilise des cookies pour analyser le trafic vers ce site. Les informations relatives à votre utilisation de notre site sont partagées avec Google à cette fin.",moreText:"Lire les détails.",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=fr-CA"},"fr-fr":{mainText:"Google utilise des cookies pour analyser le trafic vers ce site. Les informations relatives à votre utilisation de notre site sont partagées avec Google à cette fin.",moreText:"Lire les détails",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=fr-FR"},"it-it":{mainText:"Google utilizza i cookie per analizzare il traffico su questo sito. Le informazioni sulla tua visita sono condivise con Google per questo scopo.",moreText:"Scopri di più",consentText:"OK",moreUrl:"https://policies.google.com/technologies/cookies?hl=it-IT"},"ar-mena":{mainText:"تستخدم Google ملفات تعريف الارتباط لتحليل عدد الزيارات إلى هذا الموقع الإلكتروني. ولهذا الغرض، تتم مشاركة المعلومات حول استخدامك للموقع الإلكتروني مع Google.",moreText:"الاطّلاع على التفاصيل",consentText:"حسنًا",moreUrl:"https://policies.google.com/technologies/cookies?hl=ar"},"en-africa":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"},"en-mena":{mainText:"Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose.",moreText:"See details",consentText:"OK"}};function Z(){const e=window.navigator.userAgent;return e.match(/iPad/i)||e.match(/iPhone/i)}const K={CLICK:"click",FOCUS:"focus",FOCUSOUT:"focusout",KEYDOWN:"keydown",LOAD:"load",MOUSE_LEAVE:"mouseleave",MOUSE_OVER:"mouseover",TIMEUPDATE:"timeupdate"},Y="aria-label",G="data-state",j="xlink:href",z="hidden",X="play",J="yt-mp4-video__button-container";class Q{constructor(){this.init()}init(){this._events()}_events(){window.addEventListener(K.LOAD,(()=>this.initCustomVideos()))}initCustomVideos(){document.querySelectorAll("[yt-mp4-video-custom]").forEach((e=>{const t=e.nextElementSibling.querySelector(".yt-mp4-video__button use"),s=e.nextElementSibling.querySelector(".yt-mp4-video__button-container"),i=e.nextElementSibling.querySelector(".yt-mp4-video__progress-bar-clickable"),n=e.nextElementSibling.querySelector(".yt-mp4-video__progress-bar-container"),o=e.nextElementSibling.querySelector(".yt-mp4-video__progress-bar-progress");e.controls=!1;const r=e=>{e===X?t.setAttribute(j,"#yt_mp4_video_play_button"):t.setAttribute(j,"#yt_mp4_video_pause_button")};if(Z()){const t=e.getAttribute("title"),s=e.parentNode.querySelector(".yt-mp4-video__button-container"),i=s.getAttribute(Y);s.setAttribute(Y,`Video ${t} - ${i}`)}e.addEventListener(K.TIMEUPDATE,(()=>{if(e.currentTime>0){const t=Math.trunc(Number(e.currentTime/e.duration*100)),s=Math.trunc(e.currentTime),n=Math.trunc(e.duration);i.ariaValueNow=t,o.setAttribute("style",`width: ${t}%`),i.ariaValueText=`${s} Seconds of ${n}`}})),e.parentNode.classList.add("yt-mp4-video__parent-container"),e.parentNode.setAttribute("tabindex","0"),e.parentNode.setAttribute(Y,`${e.title} video`),[K.FOCUS,K.MOUSE_OVER].forEach((t=>{e.parentNode.addEventListener(t,(()=>{e.nextElementSibling.setAttribute(G,"visible")}))})),e.parentNode.addEventListener(K.MOUSE_LEAVE,(()=>{e.nextElementSibling.setAttribute(G,z)})),e.parentNode.addEventListener(K.FOCUSOUT,(t=>{var s,i;null!==(s=t.relatedTarget)&&void 0!==s&&s.classList.contains(J)||null!==(i=t.relatedTarget)&&void 0!==i&&i.classList.contains("yt-mp4-video__progress-bar-clickable")?t.preventDefault():e.nextElementSibling.setAttribute(G,z)})),s.addEventListener(K.CLICK,(t=>{t.preventDefault(),e.paused||e.ended?(e.play(),r("pause")):(e.pause(),r(X))})),i.addEventListener(K.KEYDOWN,(t=>{"ArrowLeft"===t.key&&e.currentTime>0?e.currentTime=e.currentTime-.5:"ArrowRight"===t.key&&e.currentTime<e.duration&&(e.currentTime=e.currentTime+.5)})),n.addEventListener(K.CLICK,(e=>e.preventDefault())),i.addEventListener(K.CLICK,(t=>{t.preventDefault(),e.currentTime=t.offsetX/i.offsetWidth*e.duration}))}))}}class ee{constructor(){this.init()}init(){this._events()}_events(){document.body.addEventListener("click",this._downloadDocument.bind(this))}_forceDownload(e,t){const s=document.createElement("a");s.download=t,s.href=e,document.body.appendChild(s),s.click(),s.remove()}_downloadResource(e,t){t||(t=e.split("\\").pop().split("/").pop()),fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then((e=>e.blob())).then((e=>{const s=window.URL.createObjectURL(e);this._forceDownload(s,t)})).catch((e=>console.error(e)))}_downloadDocument(e){const t=e.target;if("A"===t.tagName&&t.hasAttribute("download")&&-1===t.href.indexOf("blob")){e.preventDefault();const s=t.getAttribute("href");this._downloadResource(s)}}}const te="xl",se={xs:330,s:600,sl:768,m:1023,l:1024,[te]:1441};function ie(){return window.matchMedia(`(min-width: ${se.s}px) and (max-width: ${se.m}px)`).matches}function ne(){return window.matchMedia(`(min-width: ${se.l}px) and (max-width: ${se.xl-1}px)`).matches}function oe(){return window.matchMedia(`(min-width: ${se.xl}px)`).matches}const re="lazy-image--no-blur",ae=/[\w\\.\\$]+(?=gif)\w+/g;class le{constructor(){this._elements=[],this.init()}init(){this._events()}_events(){window.addEventListener("load",(()=>{this._elements=document.querySelectorAll("[data-loading]");for(const e of this._elements){const t="IMG"===e.nodeName?e.src:e.style.backgroundImage;t&&t.match(ae)?delete e.dataset.loading:this.setLazyLoading(e)}}))}setLazyLoading(e){"IMG"!==e.nodeName||e.complete?this.setObserver(e):e.onload=()=>{this.setObserver(e)}}setObserver(e){const t=this.getDataLoadingAttributes(e);new IntersectionObserver(this.intersectionHandler.bind(this),{threshold:null!=t&&t.threshold?parseInt(t.threshold):.25}).observe(e)}getDataLoadingAttributes(e){try{return JSON.parse(e.getAttribute("data-loading"))}catch(e){return console.error(e.message),null}}intersectionHandler(e){e.forEach((e=>{const t=this.getDataLoadingAttributes(e.target);if(e.isIntersecting&&!e.target.classList.contains(re)){const s=window.matchMedia(`(max-width: ${se.s}px)`).matches?t.mobile:t.desktop;if("IMG"===e.target.nodeName)e.target.setAttribute("src",s);else{const t=e.target.style.backgroundImage;e.target.style.backgroundImage=`url(${s}), ${t}`}e.target.classList.add(re)}}))}}var ce=s(793);class he{constructor(){}static createCookie(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;const i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3),document.cookie=`${e}=${t}; expires=${i.toGMTString()}`}static accessCookie(e){const t=`${e}=`,s=document.cookie.split(";");for(let e=0;e<s.length;e++){const i=s[e].trim();if(0===i.indexOf(t))return i.substring(t.length,i.length)}return""}}const ue=e=>{"body"===e.srcElement.localName&&e.preventDefault()};var de=s(648);const me="FOCUS_TRACKER/FOCUS_CHANGED";var pe=s(13);const ge=(e,t)=>{if(e.fireEvent)e.fireEvent(`on${t}`);else{const s=document.createEvent("Events");s.initEvent(t,!0,!1),e.dispatchEvent(s)}};var ve=s(64),ye=s(494);class be extends ve.Z{constructor(e,t){super(),this.elems={root:e,title:e.querySelector("h3"),buttons:e.querySelectorAll(".uni-survey-button"),closeButton:document.querySelector("#survey > .uni-survey__close"),otherField:e.querySelector(".uni-survey__text"),otherFieldHelpText:e.querySelector(".uni-survey__helper-text"),focused:null},this.index=t,this.focused=-1,this.focusables=this.getFocusableElements()||[],this.active=!1,this.id=(0,l.Z)(),c.Z.subscribe(this.id,this.update.bind(this)),this.configureNavigation(),this.configureOtherField(),this.addTitleToButtons()}update(e){let{type:t,data:s}=e;this.active&&t===me&&(this.focused=this.focusables.indexOf(s.to))}getFocusableElements(){return[...(0,ye._)(this.elems.root),this.elems.closeButton]}configureNavigation(){pe.Z.on(pe.R.Escape,(e=>this.active&&this.onEscape(e))),pe.Z.on(pe.R.Enter,(e=>this.active&&this.onEnter(e))),pe.Z.on(pe.R.Tab,(e=>this.active&&this.onTab(e))),pe.Z.on(pe.R.Down,(e=>this.active&&this.onDown(e))),pe.Z.on(pe.R.Up,(e=>this.active&&this.onUp(e))),pe.Z.on(pe.R.Left,(e=>this.active&&this.onLeft(e))),pe.Z.on(pe.R.Right,(e=>this.active&&this.onRight(e)))}configureOtherField(){const e=this.elems.otherField,t=this.elems.otherFieldHelpText;if(e&&t){const s=(0,l.Z)();t.id=s,e.setAttribute("aria-describedby",s)}}hasFocus(){return this.focused>=0}getFocused(){return this.hasFocus()?this.elems.focused:null}focus(e){(0,F.hj)(e)?this.elems.focused=this.focusables[this.focused]:this.elems.focused=e,this.elems.focused.focus()}blur(){this.focused=-1,this.elems.focused=null}addTitleToButtons(){this.elems.closeButton.setAttribute("title","Close survey"),this.elems.buttons.forEach((e=>{let t="";switch(e.innerText.trim()){case"Close":t="Close Survey";break;case"Take Survey":t="Take Survey";break;case"Back":t="Back to previous question";break;case"Next":t="Next question";break;case"Done":t="Finish and close survey"}e.setAttribute("title",t)}))}activate(){this.active=!0,this.focusFirst()}deactivate(){this.active=!1,this.blur()}onEscape(){this.leaveFocusTrap()}onEnter(e){let{preventDefault:t}=e;this.selectFocused(t)}onDown(e){let{preventDefault:t}=e;t(),this.focusNext()}onUp(e){let{preventDefault:t}=e;t(),this.focusPrevious()}onLeft(e){let{preventDefault:t}=e;t(),this.focusPrevious()}onRight(e){let{preventDefault:t}=e;t(),this.focusNext()}onTab(e){let{preventDefault:t,shiftKey:s}=e;t(),s?this.focusPrevious():this.focusNext()}areAllDisabled(){for(let e=0;e<this.focusables.length;e++)if(!this.focusables[e].disabled)return!1;return!0}selectFocused(e){if(this.hasFocus()){const t=this.getFocused();switch((t.getAttribute("type")||t.tagName).toLowerCase()){case"radio":case"checkbox":t.checked=!0,ge(t,"change"),e();break;case"button":case"text":case"input":case"select":ge(t,"click"),e()}}}focusFirst(){this.elems.title.focus(),this.focused=-1,this.focus(this.elems.title)}focusNext(){this.areAllDisabled()||(this.focused++,this.focused>=this.focusables.length&&(this.focused=0),this.focusables[this.focused].disabled&&this.focusNext(),this.focus(this.focused))}focusPrevious(){this.areAllDisabled()||(this.focused--,this.focused<0&&(this.focused=this.focusables.length-1),this.focusables[this.focused].disabled&&this.focusPrevious(),this.focus(this.focused))}leaveFocusTrap(){this.blur(),this.active=!1,this.fire("leaveFocus")}}var fe=be;var we=class extends fe{getFocusableElements(){return[...this.elems.root.querySelectorAll(".uni-survey__checkinput"),...this.elems.otherField?[this.elems.otherField]:[],...this.elems.buttons,this.elems.closeButton]}},Se=class extends fe{getFocusableElements(){return[...this.elems.buttons,this.elems.closeButton]}};const _e=".uni-input__radioinput";var Ee=class extends fe{constructor(e,t){super(e,t),this.elems.radios=Array.from(this.elems.root.querySelectorAll(_e))}getFocusableElements(){return[this.elems.root.querySelector(_e),...this.elems.otherField?[this.elems.otherField]:[],...this.elems.buttons,this.elems.closeButton]}update(e){let{type:t,data:s}=e;this.active&&t===me&&(this.elems.radios.some((e=>e===s.to))?this.focused=0:this.focused=this.focusables.indexOf(s.to))}onUp(e){0!==this.focused&&super.onUp(e)}onDown(e){0!==this.focused&&super.onDown(e)}onLeft(e){0!==this.focused&&super.onLeft(e)}onRight(e){0!==this.focused&&super.onRight(e)}focusNext(){if(super.focusNext(),0===this.focused){const e=this.elems.radios.findIndex((e=>e.checked));e>0&&this.focus(this.elems.radios[e])}}focusPrevious(){if(super.focusPrevious(),0===this.focused){const e=this.elems.radios.findIndex((e=>e.checked));e>0&&this.focus(this.elems.radios[e])}}},Ae=class extends fe{getFocusableElements(){return[this.elems.root.querySelector("select"),...this.elems.buttons,this.elems.closeButton]}};const Le={S_NEXT:"SURVEY/NEXT",S_PREV:"SURVEY/PREV",S_SUBMIT:"SURVEY/SUBMIT",S_CLOSE:"SURVEY/CLOSE",S_CLOSE_COLLECT:"SURVEY/CLOSE_COLLECT",S_ENABLE:"SURVEY/ENABLE_BTN",S_DISABLE:"SURVEY/DISABLE_BTN",S_SHOW_OTHER:"SURVEY/SHOW_OTHER",S_ACTIVE:"SURVEY/ACTIVE"},Ce=".uni-survey__content",ke="uni-survey__first-view",Te="overlaybodysurvey",Ie="uni-show-slide",Oe="uni-survey--show",xe="uni-survey";class Pe extends de.Z{constructor(e){var t;super(e),this.doneLoadingFeed=!1,this.currentStep=0,this.showSurveyByUser=(t=10,Math.floor(100*Math.random())<=t),this.hasPreviewslySetCookieSurvey=he.accessCookie(xe),this._slides=[]}init(){return super.init(),this.setupSurveySlides(),this.selectSlideSurvey(),this.setupCookieLottery(),this.hideAccessibility(),this.tryToShowSurvey(),setTimeout((()=>{this.store.dispatch(Le.S_ACTIVE)}),1),this}_elements(){this.surveyContainer=this.document.querySelector(".uni-survey"),this.slides=[...this.el.querySelectorAll(".uni-survey__slide")],this.closeIcon=this.el.querySelector(".uni-survey__close"),this.logoGoogle=this.document.querySelector(".uni-header__logo-google");const e=navigator.userAgent.split(")").reverse()[0].match(/(?!Gecko|Version|[A-Za-z]+?Web[Kk]it)[A-Z][a-z]+/g);e?(this.browser=e[0],"Mobile"===this.browser&&this.el.querySelector(Ce).classList.add("uni-survey--safari-mobile")):(this.browser="IE",this.el.querySelector(Ce).classList.add("uni-survey--ie"))}_events(){this.closeIcon.addEventListener("click",(()=>{this.store.dispatch(Le.S_CLOSE,{step:this.currentStep})}))}update(e){let{type:t,data:s}=e;switch(t){case Le.S_NEXT:this.navigate(1),this.store.dispatch(y,{step:this.currentStep});break;case Le.S_PREV:this.navigate(-1),this.store.dispatch(b,{step:this.currentStep});break;case Le.S_CLOSE:this.closeSurvey(),this.store.dispatch(f,{step:this.currentStep}),8!==this.currentStep&&this.store.dispatch(Le.S_CLOSE_COLLECT,{step:this.currentStep});break;case Le.S_SUBMIT:this.store.dispatch(Le.S_NEXT);break;case ce.V.SCROLLED:this.onPageScrolled(s)}}canShowSurvey(){return""===this.hasPreviewslySetCookieSurvey&&this.showSurveyByUser}onPageScrolled(e){let{pagePercent:t,delta:s}=e;this.doneLoadingFeed&&this.canShowSurvey()&&s>0&&t>.7&&this.openSurvey()}setupCookieLottery(){this.showSurveyByUser||this.hasPreviewslySetCookieSurvey||this.setupCookieValue({value:"not show"})}setupCookieValue(e){let{value:t=""}=e;he.createCookie(xe,t),this.hasPreviewslySetCookieSurvey=he.accessCookie(xe)}setupSurveySlides(){this._slides=this.slides.map(((e,t)=>{if(0===t)return new Se(e,t);const s=e.querySelector(".uni-survey-input");if(s)switch(s.getAttribute("data-survey-type")){case"radiobutton":return new Ee(e,t);case"dropdown":return new Ae(e,t);case"checkbox":return new we(e,t)}return new fe(e,t)}))}selectSlideSurvey(){this.slides.forEach(((e,t)=>{e.classList.remove(Ie),this._slides[t].deactivate()})),this.slides[this.currentStep].classList.add(Ie),this.currentStep>=1&&setTimeout((()=>this._slides[this.currentStep].activate()),500),0!==this.currentStep?(this.surveyContainer.classList.remove(ke),this.document.body.classList.add(Te),this.document.body.addEventListener("touchmove",ue,{passive:!1})):this.surveyContainer.classList.add(ke)}pageIsSmallerThanViewport(){return document.body.clientHeight<=window.innerHeight}showSurveyOnSmallPage(){this.pageIsSmallerThanViewport()&&this.canShowSurvey()&&this.openSurvey()}waitForFeedToLoad(e){return new Promise((t=>{const s=new MutationObserver((e=>{let i=!1;for(let t=0;t<e.length;t++)if("childList"===e[t].type){i=!0;break}i&&(s.disconnect(),t())}));s.observe(e,{childList:!0,subtree:!0})}))}enableShowingSurvey(){this.doneLoadingFeed=!0,this.showSurveyOnSmallPage()}tryToShowSurvey(){const e=document.querySelector(".uni-latest-articles");e?this.waitForFeedToLoad(e).then((()=>this.enableShowingSurvey())):this.enableShowingSurvey()}navigate(e){this.currentStep=this.currentStep+e,this.selectSlideSurvey()}openSurvey(){this.isOpen||(this.isOpen=!0,this.surveyContainer.classList.add(Oe),setTimeout((()=>this._slides[this.currentStep].activate()),2e3),this.store.dispatch(v),Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)<780&&(this.document.body.classList.add(Te),this.document.body.addEventListener("touchmove",ue,{passive:!1})))}closeSurvey(){this.surveyContainer.classList.remove(Oe),this.document.querySelector("body").classList.remove(Te),this.document.body.classList.remove(Te),this.document.body.removeEventListener("touchmove",ue,{passive:!1}),this._slides[this.currentStep].deactivate(),this.logoGoogle.focus(),this.setupCookieValue({value:"decline"})}hideAccessibility(){this.canShowSurvey()||(this.surveyContainer.style.visibility="hidden")}}var Be=Pe;class De{constructor(){this.id=(0,l.Z)(),c.Z.subscribe(this.id,(e=>this.update(e))),this.buttonStates=new Array(7).fill(!1)}update(e){let t,{type:s,data:i}=e;switch(s){case"SR_ACTION/SPEAK":this.speak(i.message,i.force||!1);break;case Le.S_ENABLE:t=i.step?parseInt(i.step):-1,this.buttonStates[t-1]||(this.buttonStates[t-1]=!0,this.speak("The button which navigates to the next question has been enabled."));break;case Le.S_DISABLE:t=i.step?parseInt(i.step):-1,this.buttonStates[t-1]&&(this.buttonStates[t-1]=!1,this.speak("The button which navigates to the next question has been disabled."));break;case Le.S_SHOW_OTHER:this.speak('Since you have selected the "Other" option, a new input was added below where you should describe your answer.')}}speak(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=document.createElement("div"),i=`speak-${Date.now()}`;s.setAttribute("id",i),s.setAttribute("aria-live",t?"assertive":"polite"),s.classList.add("sr-only"),document.body.appendChild(s),setTimeout((()=>s.innerText=e),100),setTimeout((()=>document.body.removeChild(s)),1e3)}}let Re=null;const qe="yt-image-bk";class Me{constructor(){this._elements=[],this.init()}init(){this._events()}_events(){window.addEventListener("load",(()=>this.initVideoObserver()))}initVideoObserver(){const e=document.querySelectorAll("video.lazy"),t=new IntersectionObserver((function(e){e.forEach((e=>{if(e.isIntersecting){for(const t in e.target.children){const s=e.target.children[t];"string"==typeof s.tagName&&"SOURCE"===s.tagName&&(s.src=s.dataset.src)}e.target.load(),e.target.classList.add("yt-image-blur"),e.target.classList.remove("yt-blur"),e.target.classList.remove("lazy"),e.target.parentElement.classList.contains(qe)&&e.target.parentElement.classList.remove(qe),t.unobserve(e.target)}}))}));e.forEach((e=>t.observe(e)))}}const Ne=".webstory__overlay",Ve="webstory__overlay--visible",Fe="amp-story-player",$e="aria-hidden";class He{constructor(){this._elements=[],this.overlay=!1,this.init()}init(){this._events()}_events(){localStorage.removeItem("amp-story-state"),window.addEventListener("load",(()=>{this._elements=document.querySelectorAll(".webstory");for(const e of this._elements)new IntersectionObserver(this._intersect,{threshold:.5}).observe(e),e.addEventListener("click",(e=>{e.preventDefault(),e.currentTarget.querySelector(Ne).classList.remove(Ve),e.currentTarget.querySelector(Fe).play(),this.handleAccessibility(e)}))}),!1),this.initAccessibleElements()}_intersect(e){for(const t of e){const e=t.target,s=e.querySelector(Ne).classList.contains("clicked");t.isIntersecting&&!s?this.overlay||(e.querySelector(Ne).classList.add(Ve),setTimeout((()=>{e.querySelector(Ne).classList.remove(Ve)}),4e3),this.overlay=!0):this.overlay=!1}}initAccessibleElements(){const e=document.querySelectorAll(Fe);for(const t of e){const e=t.getStories()[0].iframe;e.setAttribute($e,"true"),e.setAttribute("title","Web Story"),e.setAttribute("tabindex","0"),e.parentElement&&e.parentElement.setAttribute($e,"true")}}handleAccessibility(e){const t=e.currentTarget.querySelector(Fe).getStories()[0].iframe;e.currentTarget.querySelector(Ne).setAttribute($e,"true"),t&&t.parentElement&&(t.parentElement.setAttribute($e,"false"),t.setAttribute($e,"false"),t.focus())}}let We=null;const Ue=/<[^>]*>?\s/gm;const Ze="SCROLL_TRACKER/SCROLLED";const Ke="RESIZE/WINDOW",Ye="ORIENTATION/WINDOW";const Ge=".article-carousel__media";class je extends de.Z{constructor(e){super(e),this.elements={}}init(){return super.init(),this}afterInit(){this._playVideos()}_elements(){this.elements.videoWrap=this.document.querySelector(Ge),this.elements.arrowButton=this.document.querySelectorAll(".h-c-carousel__paginate"),this.elements.slideWrap=this.document.querySelector(".article-carousel__slide-img"),this.elements.glueCarousel=this.document.querySelector(".glue-carousel")}_events(){this.elements.glueCarousel&&this.elements.glueCarousel.addEventListener("touchmove",(()=>{this._playVideos()})),this.elements.arrowButton.forEach((e=>{e.addEventListener("click",(()=>{setTimeout((()=>{this._playVideos()}),800)}))}))}_playVideos(){this.elements.videos=this.document.querySelectorAll(Ge),this.elements.videos&&this.elements.videos.forEach((e=>{e.muted=!0,e.play()}))}}var ze=je,Xe=s(729);const Je="--hidden",Qe="--visible",et=(e,t)=>`${e.replace(".","")}${t}`,tt=".audio-player__current-time",st=".audio-player__duration-time",it=".audio-player__pause",nt=".audio-player__icon-pause",ot=".audio-player__icon-play",rt=".audio-player__preview-play",at=".audio-player__start",lt=".audio-player__time-bar",ct="--slider-before-width",ht="click",ut="input",dt="none",mt="block",pt="aria-label",gt=[{percent:25,saved:!1},{percent:50,saved:!1},{percent:75,saved:!1},{percent:100,saved:!1}];class vt extends de.Z{constructor(e){super(e)}init(){super.init()}_elements(){this.audioSource=this.el.querySelector(".audio-player__audio").getAttribute("src"),this.audio=new Audio(this.audioSource),this.pauseAudioVisible=et(it,Qe),this.pauseIconHidden=et(nt,Je),this.playIconVisible=et(ot,Qe),this.previewPlayAudioHidden=et(rt,Je),this.startContentVisible=et(at,Qe),this.timeBarAudioVisible=et(lt,Qe),this.l10n=JSON.parse(this.el.getAttribute("uni-l10n")),this.audioContent=this.el.querySelector(".audio-player__content"),this.audioTitle=this.el.querySelector(".audio-player__content--title").innerHTML,this.forwardAudio=this.el.querySelector(".audio-player__forward"),this.muteAudioIcon=this.el.querySelector(".audio-player__mute-icon"),this.pauseAudio=this.el.querySelector(it),this.pauseIcon=this.el.querySelector(nt),this.playIcon=this.el.querySelector(ot),this.previewPlayAudio=this.el.querySelector(rt),this.previewPlayIcon=this.el.querySelector(".audio-player__play-icon"),this.replayAudio=this.el.querySelector(".audio-player__replay"),this.startContent=this.el.querySelector(at),this.timeBarAudio=this.el.querySelector(lt),this.volumeButton=this.el.querySelector(".audio-player__volume"),this.volumeIcon=this.el.querySelector(".audio-player__volume-icon"),this.interval=null,this.analyticsBaseObj={event:"page interaction",category:"audio player tracking",label:this.audioTitle,slug:location.pathname},this.timeSlider=this.el.querySelector(".timeline__slider"),this.volumeSlider=this.el.querySelector(".volume__slider"),this.wasPlaying=!1,this.initialOffsetX=0,this.finalOffsetX=0}update(e){let{type:t}=e;t===Ze&&(this.wasInView||this.audioPlayerInView())}audioPlayerInView(){const{y:e,height:t}=this.el.getBoundingClientRect(),s=e+t<=0,i=e>=window.innerHeight;s||i||(this.wasInView=!0,this.handleClickAnalytics({...this.analyticsBaseObj,action:"in view"}))}watchAudio(){this.currentTimeAudio=this.el.querySelector(tt),this.interval=()=>{const e=this.audio.currentTime/this.audio.duration*100,t=Math.floor(e),s=this.formatTime(this.audio.currentTime);this.currentTimeAudio.textContent=s,this.currentTimeAudio.setAttribute(pt,this.l10n.progress),0!==t&&t%25==0&&this.setQuarterProgress(t),this.audio.currentTime===this.audio.duration&&this.resetTimeAudio()}}_events(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&(this.audio.autoplay=!0),this.audio.addEventListener("loadeddata",(()=>{this.el.querySelector(".audio-player__duration").textContent=this.formatTime(this.audio.duration),this.el.querySelector(".audio-player__duration--large-viewport").textContent=this.formatTime(this.audio.duration),this.el.querySelector(st).textContent=this.formatTime(this.audio.duration),this.el.querySelector(st).setAttribute(pt,this.l10n.duration),this.el.querySelector(tt).textContent=this.formatTime(this.audio.currentTime)})),this.previewPlayAudio.addEventListener(ht,(()=>{this.handlePlayInitButton(),this.handlePauseButton(),this.watchAudio(),this.setSliderMax(),this.intervalAudio=setInterval(this.interval,500),this.volumeSlider.style.setProperty(ct,100*this.audio.volume+"%")})),this.pauseAudio.addEventListener(ht,(()=>this.handlePauseButton())),this.replayAudio.addEventListener(ht,(()=>{this.moveProgressTime(-10),this.handleClickAnalytics(null,this.replayAudio)}),!1),this.forwardAudio.addEventListener(ht,(()=>{this.moveProgressTime(10),this.handleResetAudio(),this.handleClickAnalytics(null,this.forwardAudio)}),!1),window.addEventListener("resize",(()=>{this.handlePositionPause()})),this.volumeButton.addEventListener(ht,(()=>this.a11yVolume())),this.handlePositionPause(),this.audio.addEventListener("timeupdate",(()=>{this.timeSlider.value=Math.floor(this.audio.currentTime),this.timeSlider.style.setProperty(ct,this.audio.currentTime/this.audio.duration*100+"%")})),this.timeSlider.addEventListener("mousedown",(e=>this.finalOffsetX=e.offsetX)),this.timeSlider.addEventListener("mouseup",(e=>this.initialOffsetX=e.offsetX)),this.timeSlider.addEventListener(ut,(()=>{this.currentTimeAudio.textContent=this.formatTime(this.timeSlider.value),this.pauseIcon.classList.contains(this.pauseIconHidden)||(this.audio.pause(),this.wasPlaying=!0,(!this.checkApprox(this.initialOffsetX,this.finalOffsetX)||window.innerWidth<1024)&&(this.audio.currentTime=this.timeSlider.value,this.timeSlider.style.setProperty(ct,this.audio.currentTime/this.audio.duration*100+"%"),this.audio.play(),clearInterval(this.intervalAudio),this.wasPlaying=!1)),this.handleClickAnalytics({...this.analyticsBaseObj,action:`drag [${this.formatTime(this.audio.currentTime)}]`})}),!1),this.timeSlider.addEventListener("change",(()=>{this.audio.currentTime=this.timeSlider.value,this.wasPlaying&&(this.audio.play(),clearInterval(this.intervalAudio),this.wasPlaying=!1)}),!1),this.volumeSlider.addEventListener(ut,(e=>{const t=e.target.value;this.audio.volume=t/100,this.handlesMutesIcon(this.audio.volume),this.volumeSlider.setAttribute("value",t),this.volumeSlider.style.setProperty(ct,100*this.audio.volume+"%"),this.handleClickAnalytics({...this.analyticsBaseObj,action:`volume control ${t}%`})}))}resetTimeAudio(){this.currentTimeAudio.textContent="0:0",this.audio.currentTime=0,clearInterval(this.intervalAudio),this.isAudioFinished=!0,this.handleClickAnalytics({...this.analyticsBaseObj,action:"complete"}),this.handlePauseButton()}a11yVolume(){this.audio.volume>0?(this.audio.volume=0,this.volumeButton.setAttribute(pt,this.l10n.mute),this.handleClickAnalytics({...this.analyticsBaseObj,action:"mute"})):(this.audio.volume=this.volumeSlider.value/100,this.volumeButton.setAttribute(pt,this.l10n.volume),this.handleClickAnalytics({...this.analyticsBaseObj,action:"unmute"})),this.handlesMutesIcon(this.audio.volume)}handlesMutesIcon(e){if(0===e)return this.muteAudioIcon.style.display=mt,void(this.volumeIcon.style.display=dt);this.muteAudioIcon.style.display=dt,this.volumeIcon.style.display=mt}handlePositionPause(){window.innerWidth>=600?this.insertAfter(this.pauseAudio,this.audioContent):this.insertAfter(this.pauseAudio,this.replayAudio)}insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}moveProgressTime(e){const t=this.audio.currentTime+e;this.audio.currentTime=t}formatTime(e){const t=parseInt(e%60),s=t<10?`0${t}`:t;return`${parseInt(e/60%60)}:${s}`}handlePlayInitButton(){this.isPlayed||(this.isPlayed=!0,this.previewPlayAudio.classList.add(this.previewPlayAudioHidden),this.startContent.classList.add(this.startContentVisible),this.pauseAudio.classList.add(this.pauseAudioVisible),this.timeBarAudio.classList.add(this.timeBarAudioVisible))}handlePauseButton(){this.stopNotCurrentAudios(),this.pauseAudio.blur(),this.pauseIcon.classList.contains(this.pauseIconHidden)?(this.pauseIcon.classList.remove(this.pauseIconHidden),this.playIcon.classList.remove(this.playIconVisible),this.pauseAudio.setAttribute(pt,this.l10n.stop),this.audio.play(),this.watchAudio(),this.intervalAudio=setInterval(this.interval,500),this.isAudioFinished||this.handleClickAnalytics({...this.analyticsBaseObj,action:"play"}),this.handleResetAudio()):(this.pauseIcon.classList.add(this.pauseIconHidden),this.playIcon.classList.add(this.playIconVisible),this.pauseAudio.setAttribute(pt,this.l10n.play),this.audio.pause(),this.isAudioFinished||this.handleClickAnalytics({...this.analyticsBaseObj,action:"pause"}),clearInterval(this.intervalAudio))}handleResetAudio(){this.isAudioFinished&&(this.currentTimeAudio.textContent=this.formatTime(this.audio.currentTime),clearInterval(this.intervalAudio),this.isAudioFinished=!1)}stopNotCurrentAudios(){[...document.querySelectorAll(nt)].filter((e=>e!==this.pauseIcon)).forEach((e=>{e.classList.contains(this.pauseIconHidden)||e.parentElement.click()}))}setQuarterProgress(e){const t=gt.find((t=>t.percent===e));t.saved||this.handleClickAnalytics({...this.analyticsBaseObj,action:`${e}% progress`}),t.saved=!0}handleClickAnalytics(e,t){const s=this.audio.duration,i=e||this.getAnalyticsAttribute(t),n=new a.Z;n.setAdditionalValues({...i,audioLength:s}),n.pushClickEvent()}getAnalyticsAttribute(e){return{...JSON.parse(e.getAttribute("data-analytics")),slug:this.analyticsBaseObj.slug}}setSliderMax=()=>{this.timeSlider.max=Math.floor(this.audio.duration)};checkApprox=(()=>function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Math.abs(e-t)<s})()}var yt=vt;class bt extends de.Z{}const ft={close:Le.S_CLOSE,submit:Le.S_SUBMIT,forward:Le.S_NEXT,backward:Le.S_PREV};var wt=s(904);const St={Unfocused:0,Card:1,Previous:2,Next:3,Pagination:4};var _t=class{constructor(e){this.carousel=e,this.isFocused=!1,this.skipFocus=!1,this.focusState=St.Unfocused,this.debug=new wt.Z({title:"[ Carousel KB Accessibility ]",active:!1}),c.Z.subscribe(`${this.carousel.id}-kb-accessibility`,this.update.bind(this))}update(e){let{type:t,data:s}=e;this.focusState===St[s]&&t===At.C_DEACTIVATE_ARROW&&("Previous"===s?this.moveFocusStateForward():this.moveFocusStateBackward())}getButtons(){return{previous:this.carousel.elements.arrowPrevious,next:this.carousel.elements.arrowNext}}getPagination(){return this.carousel.elements.slidePagination}getPaginationDots(){return Array.from(this.getPagination().querySelectorAll(Et.slidePagination))}getCards(){return this.carousel.elements.cardCount}focusActiveCard(){this.debug.log("Current Card To Focus is",this.carousel.activeCard),this.getCards().forEach((e=>e.classList.remove("focused")));const e=this.getCards()[this.carousel.activeCard];e.classList.add("focused"),e.querySelector("a").focus()}focusActiveDot(){this.debug.log("Current Pagination Dot to focus is:",this.carousel.activeCard),this.getPaginationDots().forEach((e=>e.classList.remove("focused")));const e=this.getPaginationDots()[this.carousel.activeCard];e.classList.add("focused"),e.querySelector('input[type="radio"]').focus()}attachFocusAndBlurToArrowButtons(){const e=this.getButtons();e.previous.addEventListener("blur",(e=>this.handleBlur(e))),e.previous.addEventListener("focus",(()=>this.onButtonFocused(!0))),e.next.addEventListener("blur",(e=>this.handleBlur(e))),e.next.addEventListener("focus",(()=>this.onButtonFocused(!1)))}attachFocusAndBlurToPagination(){this.getPaginationDots().forEach((e=>{const t=e.querySelector('input[type="radio"]');t.addEventListener("blur",(e=>this.handleBlur(e))),t.addEventListener("focus",(e=>this.onPaginationFocused(e)))}))}attachClickFocusAndBlurToCards(){this.getCards().forEach((e=>{const t=e.querySelector("a");e.addEventListener("mousedown",(e=>this.onCardClicked(e))),e.addEventListener("touchstart",(e=>this.onCardClicked(e))),t.addEventListener("focus",(()=>this.onCardFocused())),t.addEventListener("blur",(e=>this.handleBlur(e)))}))}attachFocusAndBlurEvents(){this.attachFocusAndBlurToArrowButtons(),this.attachFocusAndBlurToPagination(),this.attachClickFocusAndBlurToCards()}attach(){this.attachFocusAndBlurEvents(),pe.Z.on(pe.R.Tab,(e=>this.handleTabKey(e))),pe.Z.on(pe.R.Left,(e=>this.handleArrowKeys(e,!0))),pe.Z.on(pe.R.Right,(e=>this.handleArrowKeys(e,!1)))}handleTabKey(e){let{preventDefault:t,shiftKey:s}=e;this.isFocused&&(s?this.moveFocusStateBackward(t):this.moveFocusStateForward()),this.isFocused&&this.carousel.hasPaginator&&t()}handleArrowKeys(e){let{preventDefault:t}=e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isFocused&&(t(),s?this.carousel.activeCard>0&&this.carousel.activeCard--:this.carousel.activeCard+1<this.getCards().length&&this.carousel.activeCard++,this.focusState===St.Card&&this.focusActiveCard(),this.focusState===St.Pagination&&this.focusActiveDot(),this.carousel.updateScroll(this.carousel.activeCard))}isElemInsideCarousel(e){if(!e)return!1;if(!e.parentElement&&e!==this.carousel.el)return!1;do{if(e===this.carousel.el)return!0;e=e.parentElement}while(e);return!1}focusStateToCard(){this.focusActiveCard(),this.debug.log("     * Focusing:",document.activeElement)}focusStateToPreviousButton(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.getButtons().previous;t.disabled?e?this.moveFocusStateForward():this.moveFocusStateBackward():(t.focus(),this.debug.log("     * Focusing:",document.activeElement))}focusStateToNextButton(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.getButtons().next;t.disabled?e?this.moveFocusStateForward():this.moveFocusStateBackward():(t.focus(),this.debug.log("     * Focusing:",document.activeElement))}focusStateToPagination(){const e=this.getPaginationDots().map((e=>(e.radio=e.querySelector("input"),e.radio.checked=!1,e.classList.remove("active"),e.classList.remove("focused"),e)))[this.carousel.activeCard];e.classList.add("active"),e.radio.checked=!0,this.focusActiveDot(),this.debug.log("     * Focusing:",document.activeElement)}focusStateToUnfocused(){this.isFocused=!1,this.getCards().forEach((e=>e.classList.remove("focused"))),this.debug.log("     * Unfocusing!")}handleFocusState(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch(this.debug.log("   -> Handling Focus:",Object.keys(St)[this.focusState],e?"(Forward)":"(Backward)"),this.focusState){case St.Card:this.focusStateToCard();break;case St.Previous:this.focusStateToPreviousButton(e);break;case St.Next:this.focusStateToNextButton(e);break;case St.Pagination:this.focusStateToPagination();break;case St.Unfocused:this.focusStateToUnfocused()}}focusElementBeforeCarousel(){const e=(0,ye._)(document.body),t=e.indexOf(this.getCards()[0].querySelector("a"));t>0&&e[t-1].focus()}moveFocusStateForward(){this.focusState++,this.focusState>St.Pagination&&(this.focusState=St.Unfocused),this.handleFocusState(!0)}moveFocusStateBackward(e){this.focusState===St.Card?(e(),this.focusState=St.Unfocused,this.handleFocusState(!1),this.focusElementBeforeCarousel()):(this.focusState--,this.focusState<0&&(this.focusState=St.Pagination),this.debug.log(" => ",Object.keys(St)[this.focusState]),this.handleFocusState(!1))}handleBlur(e){if(!this.isFocused)return;const t=e.currentTarget,s=!this.isElemInsideCarousel(e.relatedTarget);this.focusState!==St.Card&&this.getCards().forEach((e=>e.classList.remove("focused"))),"INPUT"===t.tagName&&"radio"===t.getAttribute("type")&&t.parentElement.classList.remove("focused"),s&&(this.debug.log({isFocused:this.isFocused,target:e.relatedTarget,root:this.carousel.el,state:Object.keys(St)[this.focusState]}),this.focusState=St.Unfocused,this.handleFocusState())}onCardFocused(){this.isFocused||this.skipFocus||(this.debug.log("Card got focus!"),this.isFocused=!0,this.carousel.activeCard=0,this.moveFocusStateForward()),this.skipFocus&&(this.skipFocus=!1,this.debug.log("Skipped Focus"))}onCardClicked(e){this.debug.log("Clicked on a card!"),this.getCards().forEach((e=>e.classList.remove("focused"))),this.skipFocus=!0,(uniblog.utils.isMobile||uniblog.utils.isTablet)&&e.currentTarget.classList.add("focused")}onButtonFocused(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.debug.log("Arrow button got focus!"),this.getCards().forEach((e=>e.classList.remove("focused"))),this.isFocused||(this.isFocused=!0,this.focusState=e?St.Previous:St.Next,this.handleFocusState())}onPaginationFocused(e){e.currentTarget.classList.add("focused"),this.isFocused||(this.isFocused=!0,this.focusState=St.Pagination,this.handleFocusState())}};Math.easeInOutQuad=(e,t,s,i)=>(e/=i/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t;const Et={arrowPrevious:".uni-related-articles-cards__arrow--prev",arrowNext:".uni-related-articles-cards__arrow--next",articleCard:".uni-related-articles-cards__item",articleCardAnchor:".uni-related-articles-cards__link",articleCardTitle:".uni-related-articles-cards__headline",articleTrack:".uni-related-articles-cards__track",articleWrap:".uni-related-articles-cards__wrap",articlePagination:".uni-related-articles-cards__pagination",slidePagination:".dot",slideOffset:".uni-related-articles-cards__item--placeholder",dataSource:".uni-related-articles-cards__title"},At={C_CLICK_ARROW_P:"ARROW_P/CLICK",C_CLICK_ARROW_N:"ARROW_N/CLICK",C_SCROLL:"CAROUSEL/SCROLL",C_CLICK_PAGINATOR:"DOT/CLICK",C_ACTIVATE_ARROW:"CAROUSEL/ACTIVATE_ARROW",C_DEACTIVATE_ARROW:"CAROUSEL/DEACTIVATE_ARROW"};class Lt extends de.Z{constructor(e){super(e),this.elements={},this.scroll=0,this.offset=0,this.slideCounter=0,this.activeCard=0,this.accessibility={keyboard:new _t(this)},this.hasPaginator=!1,this.paginatorMobile=!1,this.isScrolling=0}init(){return super.init(),this.handleScroll(),this.setPaginator(),this.setAnalyticsCards(),this}_elements(){this.elements.articleWrap=this.el.querySelector(Et.articleWrap),this.elements.articleCard=this.el.querySelector(Et.articleCard),this.elements.articleTrack=this.el.querySelector(Et.articleTrack),this.elements.cardCount=Array.from(this.el.querySelectorAll(Et.articleCard)),this.elements.arrowPrevious=this.el.querySelector(Et.arrowPrevious),this.elements.arrowNext=this.el.querySelector(Et.arrowNext),this.elements.slidePagination=this.el.querySelector(Et.articlePagination),this.elements.carouselOffset=this.el.querySelector(Et.slideOffset),this.elements.dataSource=this.el.querySelector(Et.dataSource)}_events(){this.elements.arrowNext.addEventListener("click",(()=>{this.store.dispatch(At.C_CLICK_ARROW_N),this.store.dispatch(h,{source:this.elements.dataSource.innerText,arrow:"right"})})),this.elements.arrowPrevious.addEventListener("click",(()=>{this.store.dispatch(At.C_CLICK_ARROW_P),this.store.dispatch(h,{source:this.elements.dataSource.innerText,arrow:"left"})})),this.elements.articleWrap.addEventListener("scroll",(()=>{window.clearTimeout(this.isScrolling),this.isScrolling=setTimeout((()=>{this.store.dispatch(At.C_SCROLL)}),66)})),this.accessibility.keyboard.attach()}update(e){let{type:t,data:s}=e;switch(t){case At.C_CLICK_ARROW_N:this.clickNextArrow();break;case At.C_CLICK_ARROW_P:this.clickPreviousArrow();break;case At.C_SCROLL:this.handleScroll();break;case At.C_ACTIVATE_ARROW:this.handleActivateArrow(s);break;case At.C_DEACTIVATE_ARROW:this.handleDeactivateArrow(s)}}getOffsetCarousel(){const e=this.elements.carouselOffset,t=getComputedStyle(e);return parseInt(t.width)+parseInt(t.marginLeft)+parseInt(t.marginRight)}getCard(){return this.elements.articleCard}calculateCardCounter(){return this.elements.cardCount}calculateCardWidth(){const e=this.getCard(),t=window.getComputedStyle(e);return parseInt(t.width)}calculateSlideWidth(){return this.elements.articleWrap.scrollWidth-this.elements.articleTrack.clientWidth}updateScroll(e){const t=this.calculateCardCounter()[e],s=t.offsetLeft+.5*parseInt(getComputedStyle(t).width)-.5*parseInt(getComputedStyle(this.elements.articleTrack).width);(this.hasPaginator||this.paginatorMobile)&&("scrollBehavior"in document.documentElement.style?this.elements.articleWrap.scrollLeft=s:this.scrollTo(this.elements.articleWrap,s,500))}scrollTo(e,t,s){const i=e.scrollLeft,n=t-i;let o=0;const r=()=>{o+=20;const t=Math.easeInOutQuad(o,i,n,s);e.scrollLeft=t,o<s&&setTimeout(r,20)};r()}setActivePagination(){const e=this.el.querySelectorAll(Et.slidePagination);e.forEach((e=>{e.classList.remove("active"),e.querySelector("input").checked=!1})),e[this.activeCard].classList.add("active"),e[this.activeCard].querySelector("input").checked=!0}clickNextArrow(){this.activeCard+1<this.elements.cardCount.length&&(this.activeCard++,this.debug.log("Next Card:",this.activeCard),this.updateScroll(this.activeCard))}clickPreviousArrow(){this.activeCard>0&&(this.activeCard--,this.debug.log("Previous Card:",this.activeCard),this.updateScroll(this.activeCard))}handleScroll(){let e;this.scroll=this.elements.articleWrap.scrollLeft,uniblog.utils.isMobile?(e=this.scroll,this.setActiveCardWhileScroll(e)):(e=this.scroll+this.getOffsetCarousel(),0===this.scroll?this.activeCard=0:this.scroll===this.calculateSlideWidth()-this.getOffsetCarousel()?this.activeCard=this.calculateCardCounter().length-1:this.setActiveCardWhileScroll(e)),this.setActivePagination(),this.hideArrows()}setActiveCardWhileScroll(e){this.activeCard=Array.from(this.elements.cardCount).map(((t,s)=>({index:s,diff:Math.abs(e-t.offsetLeft)}))).sort(((e,t)=>e.diff-t.diff))[0].index}hideArrows(){0===Math.floor(this.scroll)?this.store.dispatch(At.C_DEACTIVATE_ARROW,"Previous"):this.store.dispatch(At.C_ACTIVATE_ARROW,"Previous"),this.activeCard===this.calculateCardCounter().length-1?this.store.dispatch(At.C_DEACTIVATE_ARROW,"Next"):this.store.dispatch(At.C_ACTIVATE_ARROW,"Next")}handleActivateArrow(e){const t=`arrow${e}`;this.elements[t].classList.remove("hide"),this.elements[t].disabled=!1}handleDeactivateArrow(e){const t=`arrow${e}`;this.elements[t].classList.add("hide"),this.elements[t].disabled=!0}setPaginator(){const e=this.calculateCardCounter().length;this.slideCounter=e,this.setInteractionPaginator(),this.setActivePagination()}setInteractionPaginator(){const e=[...this.el.querySelectorAll(Et.slidePagination)];this.hasPaginator=e.length>2,this.paginatorMobile=!!(e.length>=2&&uniblog.utils.isMobile),e.forEach(((e,t)=>{e.addEventListener("click",(s=>{s.stopPropagation(),s.preventDefault(),this.activeCard=t,this.setActivePagination(),this.updateScroll(this.activeCard),this.store.dispatch(d,{source:this.elements.dataSource.innerText,index:e.getAttribute("data-index")})}))}))}setAnalyticsCards(){this.el.querySelectorAll(Et.articleCardAnchor).forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),this.store.dispatch(u,{source:this.elements.dataSource.innerText,index:e.getAttribute("data-index"),target:t.target.getAttribute("data-target")||"card",hasImage:e.getAttribute("data-image"),hasCarousel:this.hasPaginator,slug:e.getAttribute("href"),primaryTag:e.getAttribute("data-primaryTag")})}))}))}}var Ct=Lt;class kt extends de.Z{constructor(e){super(e),this.elements={}}init(){super.init();const[e]=this.elements.dialogs,{copyTextButton:t}=JSON.parse(e.getAttribute("uni-options"));this.copiedButtonText=t||"COPIED TO CLIPBOARD"}_elements(){this.elements.dialogs=this.document.querySelectorAll(".copy-link__dialog"),this.elements.urlInput=this.document.querySelectorAll(".h-c-copy.copy-link__url"),this.elements.copyButton=this.document.querySelectorAll(".copy-link__copy-btn"),this.elements.wrapper=this.document.querySelectorAll(".copy-link")}_events(){this.el.addEventListener("click",(()=>{this.toggleDialog("block"),this.copyToClipboard()})),Z()?this.document.body.addEventListener("touchstart",(e=>this.handleClickOutside(e))):this.document.body.addEventListener("click",(e=>this.handleClickOutside(e)))}toggleDialog(e){this.elements.dialogs.forEach((t=>{t.style.display=e}))}copyToClipboard(){let e="";this.elements.urlInput.forEach((t=>{e=t.value,Z()||t.select(),window.chrome&&t.blur()})),window.safari||Z()?(this.safariCopyToClipboard(e),window.innerWidth>768&&this.document.querySelector("#copy-link").setSelectionRange(0,999999)):this.document.execCommand("copy"),this.setCopiedState()}setCopiedState(){this.elements.copyButton.forEach((e=>{e.classList.add("is-copied"),e.innerText=this.copiedButtonText}))}checkClickInside(e){const t=[];return this.elements.wrapper.forEach((s=>{t.push(s.contains(e))})),t.reduce(((e,t)=>e||t))}safariCopyToClipboard(e){const t=this.document.createElement("textArea"),s=this.document.createRange(),i=this.document.getSelection();t.readOnly=!0,t.contentEditable=!0,t.value=e,this.document.body.appendChild(t),s.selectNodeContents(t),i.removeAllRanges(),i.addRange(s),t.setSelectionRange(0,999999),this.document.execCommand("copy"),this.document.body.removeChild(t)}handleClickOutside(e){this.checkClickInside(e.target)||this.toggleDialog("none")}}class Tt extends de.Z{constructor(e){super(e),this.hasImageArticle=!1,this.iteratorContent=0,this.currentCategoryTag=[]}init(){super.init(),this.setSubcategories(),this.getLatestArticlesByTag()}_elements(){this.options_=this.getOptions("data-request-options",this.el),this.contentsImageArticles=this.el.querySelectorAll(".uni-descriptive-dynamic-up__content"),this.subContentsArticles=this.el.querySelectorAll(".uni-descriptive-dynamic-up__subcontent"),this.storiesLinks=this.el.querySelectorAll(".uni-descriptive-dynamic-up-subheading__link")}getLatestArticlesByTag(){if(!this.options_.tags)return;const e=new URLSearchParams(this.options_);fetch(`/api/v2/latest?${e}`).then((e=>e.json())).then((e=>this.addResults(e))).catch((e=>this.handleError(e)))}setSubcategories(){this.setNextCategoryTag();const e=this.currentCategoryTag.subcategories;this.options_={...this.options_,tags:e};for(const e of this.storiesLinks)e.removeAttribute("target")}setNextCategoryTag(){const e=this.options_.categoryTags;e&&(this.currentCategoryTag=JSON.parse(e[this.iteratorContent].replace(/'/g,'"')))}addResults(e){const{results:t=[]}=e,s=this.currentCategoryTag.url;this.hasImageArticle=!1,this.storiesLinks[this.iteratorContent].setAttribute("href",s);for(const e of t)this.validateTemplate(e);this.loadNextCategory()}loadNextCategory(){this.iteratorContent++;const e=this.options_.categoryTags[this.iteratorContent];this.options_&&e&&(this.setSubcategories(),this.getLatestArticlesByTag())}validateTemplate(e){if(!this.hasImageArticle){const t=this.contentsImageArticles,s=this.options_.image_template;return this.renderTemplate(s,t,e),void(this.hasImageArticle=!0)}const t=this.subContentsArticles,s=this.options_.template;this.renderTemplate(s,t,e)}renderTemplate(e,t,s){const i={article:s},n=window.uniblogSoy.templates[e](i),o=window.angular.element(n);t[this.iteratorContent].appendChild(o[0])}}var It=Tt;class Ot extends de.Z{constructor(e){super(e)}init(){super.init(),this.searchFirstParagraph()}_elements(){this.elementWithRichText=this.el.querySelectorAll(".uni-paragraph .rich-text")}searchFirstParagraph(){for(const e of this.elementWithRichText)if(!e.parentElement.classList.contains("article-image__caption"))return this.firstParagraph=e.querySelector("p"),void(this.firstParagraph&&this.firstParagraph.classList.add("drop-cap"))}}var xt=Ot;const Pt="(max-width: 1024px)",Bt=window.matchMedia(Pt),Dt={dynamicCarousel:".dynamic-carousel",carouselWrapper:".dynamic-carousel__list",arrowLeft:".dynamic-carousel__left-arrow",arrowRight:".dynamic-carousel__right-arrow",stories:".dynamic-carousel__carousel-story",bullets:".dynamic-carousel__bullets li",bulletsContainer:".dynamic-carousel__bullets",bulletsActive:"dynamic-carousel__bullets--active",storyLink:".dynamic-carousel__carousel-story--link",storyWithOpacity:"story--with-opacity"},Rt="click";class qt extends de.Z{constructor(e){super(e),this.isRtlDirection="rtl"===this.document.documentElement.getAttribute("dir")}init(){super.init(),this.chunkIndex=0,this.scrollLeft}_elements(){this.dynamicCarousel=this.el,this.carouselWrapper=this.el.querySelector(Dt.carouselWrapper),this.arrowLeft=this.el.querySelector(Dt.arrowLeft),this.arrowRight=this.el.querySelector(Dt.arrowRight),this.stories=this.el.querySelectorAll(Dt.stories),this.bullets=this.el.querySelectorAll(Dt.bullets),this.bulletsContainer=this.el.querySelector(Dt.bulletsContainer),this.active=this.el.querySelectorAll(Dt.active),this.checkVisibleStories(),this.chunkIndex=0,this.setArrowsAnalytics()}_events(){this.arrowLeft&&this.arrowRight&&(this.arrowLeft.addEventListener(Rt,this.moveToLeft.bind(this)),this.arrowRight.addEventListener(Rt,this.moveToRight.bind(this))),this.carouselWrapper.addEventListener("touchstart",this.dragStart.bind(this)),this.carouselWrapper.addEventListener("mousedown",this.dragStart.bind(this)),this.carouselWrapper.addEventListener("touchmove",this.dragMove.bind(this)),this.carouselWrapper.addEventListener("dragover",this.dragMove.bind(this)),this.carouselWrapper.addEventListener("dragend",this.checkVisibleStories.bind(this)),this.carouselWrapper.addEventListener("touchend",this.checkVisibleStories.bind(this)),Bt.addEventListener("change",this.onResize.bind(this)),this.bullets&&this.bullets.forEach(((e,t)=>{e.addEventListener(Rt,(()=>{this.setBullet(this.chunkIndex,t),this.chunkIndex=t,this.setArrowsAnalytics(),this.scrollStory()}))})),this.stories.forEach(((e,t)=>{e.querySelector(Dt.storyLink).addEventListener("focus",(()=>this.setStoryFocus(t)))}))}setStoryFocus(e){const t=0===e,s=e===this.stories.length-1;if(this.checkArrowsDisplayByStoryIndex(t,s),t?this.carouselWrapper.scrollLeft=0:s&&(this.carouselWrapper.scrollLeft=this.carouselWrapper.scrollWidth),e%3==0){const t=e/3;this.setBullet(this.chunkIndex,t),this.chunkIndex=t}this.resetStoriesOpacity(),this.timeout=setTimeout((()=>this.checkVisibleStories()),1e3)}resetStoriesOpacity(){this.stories.forEach((e=>{e.classList.remove(Dt.storyWithOpacity)}))}moveToRight(){this.isRtlDirection?(this.setBullet(this.chunkIndex,this.chunkIndex-1),this.chunkIndex--):(this.setBullet(this.chunkIndex,this.chunkIndex+1),this.chunkIndex++),this.setArrowsAnalytics(),this.scrollStory()}moveToLeft(){this.isRtlDirection?(this.setBullet(this.chunkIndex,this.chunkIndex+1),this.chunkIndex++):(this.setBullet(this.chunkIndex,this.chunkIndex-1),this.chunkIndex--),this.setArrowsAnalytics(),this.scrollStory()}setBullet(e,t){this.bullets[e]&&this.bullets[e].classList.remove(Dt.bulletsActive),this.bullets[t]&&this.bullets[t].classList.add(Dt.bulletsActive)}dragStart(e){Bt.matches&&(this.startX=e.pageX||e.touches[0].pageX,this.scrollLeft=this.carouselWrapper.scrollLeft,this.resetStoriesOpacity())}dragMove(e){if(Bt.matches){const t=(e.pageX||e.touches[0].pageX)-this.startX;this.carouselWrapper.scrollLeft=this.scrollLeft-t,this.resetStoriesOpacity()}}onResize(){this.carouselWrapper.scrollLeft=0,this.setBullet(this.chunkIndex,0),this.chunkIndex=0,this.scrollStory()}scrollStory(){const e=this.stories[1],t=e.getBoundingClientRect().width,s=parseInt(this.isRtlDirection?getComputedStyle(e).marginRight.replace("px",""):getComputedStyle(e).marginLeft.replace("px","")),i=0===this.chunkIndex?0:(3*this.chunkIndex*t+3*s)*(this.isRtlDirection?-1:1);this.smoothScrollTo(this.carouselWrapper,i,1e3),this.checkArrowsDisplayByChunkIndex(),this.resetStoriesOpacity(),setTimeout((()=>this.checkVisibleStories()),1e3)}smoothScrollTo(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;const i=e.scrollLeft,n=t-i,o=(new Date).getTime(),r=setInterval((()=>{const t=(new Date).getTime()-o,a=((e,t,s,i)=>(e/=i/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t)(t,i,n,s);t>=s&&clearInterval(r),e.scrollLeft=Math.round(a)}),1e3/60)}checkVisibleStories(){Bt.matches||this.stories.forEach((e=>{const t=this.carouselWrapper.getBoundingClientRect(),s=e.getBoundingClientRect(),i=s.left-t.left,n=t.right-s.right,o=i>=0&&i<=t.width,r=n>=0&&n<=t.width;o&&r?e.classList.remove(Dt.storyWithOpacity):e.classList.add(Dt.storyWithOpacity)}))}setArrowsAnalytics(){if(this.arrowLeft){const e=this.getArrowsAnalyticsOnClick(this.arrowLeft);e.position=`${this.chunkIndex+1} of ${this.bullets.length}`,this.arrowLeft.setAttribute("data-analytics-onclick",JSON.stringify(e))}if(this.arrowRight){const e=this.getArrowsAnalyticsOnClick(this.arrowRight);e.position=`${this.chunkIndex+1} of ${this.bullets.length}`,this.arrowRight.setAttribute("data-analytics-onclick",JSON.stringify(e))}}getArrowsAnalyticsOnClick(e){const t=e.getAttribute("data-analytics-onclick")||"";let s;try{s=JSON.parse(t)}catch{s={}}return s}checkArrowsDisplayByStoryIndex(e,t){this.isRtlDirection?(this.arrowLeft&&(this.arrowLeft.style.display=e?"flex":"none"),this.arrowRight&&(this.arrowRight.style.display=t?"flex":"none")):(this.arrowLeft&&(this.arrowLeft.style.display=e?"none":"flex"),this.arrowRight&&(this.arrowRight.style.display=t?"none":"flex"))}checkArrowsDisplayByChunkIndex(){this.isRtlDirection?(this.arrowRight&&(this.arrowRight.style.display=0===this.chunkIndex?"none":"flex"),this.arrowLeft&&(this.arrowLeft.style.display=this.chunkIndex===Math.ceil(this.stories.length/3)-1?"none":"flex")):(this.arrowLeft&&(this.arrowLeft.style.display=0===this.chunkIndex?"none":"flex"),this.arrowRight&&(this.arrowRight.style.display=this.chunkIndex===Math.ceil(this.stories.length/3)-1?"none":"flex"))}}var Mt=qt;const Nt="#F8F9FA",Vt=1024,Ft="focus",$t="mouseleave",Ht="mouseover",Wt="homepage",Ut="focus",Zt="colored-background",Kt="large",Yt="two-articles",Gt="three-articles",jt="four-articles",zt="special",Xt="aria-hidden";class Jt extends de.Z{init(){super.init()}_elements(){this.ctaButton=this.el.querySelector(".featured-article__link > .cta--button"),this.header=document.querySelector("header"),this.articleInfo=this.el.querySelector(".featured-article__content .featured-article__link"),this.ctaSpecialHeroButton=this.el.querySelector(".featured-article__wrapper.hero .cta.cta--button"),this.featureArticleCard=this.el.querySelector(".featured-article__card"),this.largeSpecialInfo=this.el.querySelector(".featured-article__large-info > p"),this.mainImage=this.el.querySelector(".featured-article__link img"),this.showNeutralColor=this.el.getAttribute("showNeutralColor"),this.specialColor=this.el.getAttribute("color"),this.specialHeroCardEyebrow=this.el.querySelector(".featured-article__wrapper.hero .featured-article__eyebrow"),this.specialHeroWrapper=this.el.querySelector(".featured-article__wrapper.hero"),this.specialHeroCardMedia=this.el.querySelector(".featured-article__wrapper.hero > .featured-article__link"),this.wrapperHome=this.el.querySelectorAll(".featured-article__wrapper"),this.cardContent=this.el.querySelector(".featured-article__content"),this.topSection=document.querySelector(".featured-article__top-section"),this.infoSection=document.querySelector(".featured-article__info-section"),this.additionalArticlesContainer=this.el.querySelector(".featured-article__additional-articles"),this.additionalArticlesTitles=[...this.el.querySelectorAll(".article__title")],this.summaries=this.el.querySelectorAll(".article__summary"),this.specialHeroCardTitle=this.el.querySelector(".featured-article__content.special .featured-article__link h2"),this.specialHeroCardCta=this.el.querySelector(".featured-article__content.special .featured-article__link button"),this.featureArticleContainer=this.el.querySelector(".featured-article__container")}_events(){const e=this.largeSpecialInfo&&this.specialHeroCardEyebrow,t=this.wrapperHome[0].classList.contains("curated");window.addEventListener("resize",(()=>{if(e){const e=window.innerWidth>=Vt;(this.largeSize!==e||e)&&(this.largeSize=e,setTimeout((()=>{this.setBackground()}),800))}})),t||(this.articleInfo.addEventListener(Ht,(()=>{this.mainImage.classList.add(Wt)})),this.articleInfo.addEventListener($t,(()=>{this.mainImage.classList.remove(Wt)})),this.articleInfo.addEventListener(Ft,(()=>{var e,t,s;null===(e=this.featureArticleCard)||void 0===e||e.classList.add(Ut),null===(t=this.specialHeroCardTitle)||void 0===t||t.classList.add(Ut),null===(s=this.specialHeroCardCta)||void 0===s||s.setAttribute(Xt,!0)})),this.articleInfo.addEventListener("blur",(()=>{var e,t,s;null===(e=this.featureArticleCard)||void 0===e||e.classList.remove(Ut),null===(t=this.specialHeroCardTitle)||void 0===t||t.classList.remove(Ut),null===(s=this.specialHeroCardCta)||void 0===s||s.setAttribute(Xt,!1)}))),this.wrapperHome.forEach((e=>{if(e.classList.contains("home")){const t=this.cardContent,s=e.getBoundingClientRect().height;if(null!==this.featureArticleCard){s-36<this.featureArticleCard.getBoundingClientRect().height&&t.classList.add("extra-padding-default-hero")}}})),e&&(this.addSpecialHeroListeners(),setTimeout((()=>{this.setBackground(48)}),800)),this.additionalArticlesContainer&&(this.addClassToAdditionalArticleContainer(e),this.addClassesToArticles(),this.formatSummaryText(),this.titlesEqualHeights())}update(e){let{type:t}=e;switch(t){case"API_LOADED":case Ze:this.largeSpecialInfo&&this.specialHeroCardEyebrow&&this.largeInfoInView()}}largeInfoInView(){const{y:e,height:t}=this.largeSpecialInfo.getBoundingClientRect(),s=e+t-this.header.getBoundingClientRect().height+55<=0,i=e>=window.innerHeight,n=!(s||i);if(this.wasInView!==n){if(this.wasInView=n,this.wasInView)return this.specialHeroWrapper.classList.add(Kt);this.specialHeroWrapper.classList.remove(Kt)}}addClassesToArticles(){const e=[...this.additionalArticlesContainer.children];if(2===e.length){this.additionalArticlesContainer.classList.add(Yt);for(const t of e)t.classList.add(Yt)}else if(3===e.length){this.additionalArticlesContainer.classList.add(Gt);for(const t of e)t.classList.add(Gt)}else if(4===e.length){this.additionalArticlesContainer.classList.add(jt);for(const t of e)t.classList.add(jt)}}addClassToAdditionalArticleContainer(e){const t=this.cardContent.getBoundingClientRect().height;t>=505&&t<565&&(this.additionalArticlesContainer.style.marginTop=t-505+"px"),!e&&t>=565&&this.additionalArticlesContainer.classList.add("no-margin")}formatSummaryText(){this.summaries.length>0&&this.summaries.forEach((e=>{const t=e.parentElement.parentElement.parentElement.parentElement,s=e.innerText,i=e.innerText;let n="";if(t.classList.contains(zt)){const t=e.previousElementSibling.innerText;n=window.innerWidth>=Vt?t.length>35?i.substring(0,60):i.substring(0,130):i.length>150?i.substring(0,150):e.innerText}else n=i.length>150?i.substring(0,150):e.innerText;return e.innerHTML=n!==s?`${n}...`:n}))}shadeColor(e,t){const s=e.startsWith("#")?1:0;let i=parseInt(e.substring(s,3),16),n=parseInt(e.substring(s+2,5),16),o=parseInt(e.substring(s+4,7),16);return i=Math.round(i/t),n=Math.round(n/t),o=Math.round(o/t),i=i<255?i:255,n=n<255?n:255,o=o<255?o:255,`#${1===i.toString(16).length?`0${i.toString(16)}`:i.toString(16)}${1===n.toString(16).length?`0${n.toString(16)}`:n.toString(16)}${1===o.toString(16).length?`0${o.toString(16)}`:o.toString(16)}`.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,s,i)=>`#${t}${t}${s}${s}${i}${i}`)).substring(1).match(/.{2}/g).map((e=>parseInt(e,16)))}setSpecialHeroColors(e){const t=this.shadeColor(this.specialColor,1.2),s=`rgba(${t}, 0.05)`,i=`rgba(${t}, 0.2)`,n=`rgba(${t}, 0.1)`;this.createColorDiv(s,e),this.buttonColorIdle=n,this.buttonColorHover=i,this.topSection.style.backgroundColor=s,this.ctaSpecialHeroButton&&(this.ctaSpecialHeroButton.style.backgroundColor=n)}createColorDiv(e,t){var s;null===(s=document.querySelectorAll(".colored-background"))||void 0===s||s.forEach((e=>e.remove()));const i=this.document.createElement("div"),n=this.backgroundColorDivHeight(t);i.classList.add(Zt),i.style.backgroundColor=e,i.style.height=n,this.infoSection.prepend(i)}addSpecialHeroListeners(){this.specialHeroCardMedia.addEventListener(Ft,(()=>{const e=this.specialHeroWrapper.getBoundingClientRect().top+window.pageYOffset+-90;window.scrollTo({top:e,behavior:"smooth"})})),this.articleInfo.addEventListener(Ht,(()=>{this.ctaButton.style.backgroundColor=this.buttonColorHover})),this.articleInfo.addEventListener($t,(()=>{this.ctaButton.style.backgroundColor=this.buttonColorIdle})),this.mainImage.addEventListener(Ht,(()=>{this.ctaButton.style.backgroundColor=this.buttonColorHover})),this.mainImage.addEventListener($t,(()=>{this.ctaButton.style.backgroundColor=this.buttonColorIdle}))}setBackground(e){"True"!==this.showNeutralColor?this.setSpecialHeroColors(e):(this.topSection.style.backgroundColor=Nt,this.createColorDiv(Nt))}backgroundColorDivHeight(){var e,t,s,i,n,o;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const a=null===(e=this.infoSection)||void 0===e?void 0:e.getBoundingClientRect().height,l=null===(t=this.wrapperHome[0])||void 0===t?void 0:t.getBoundingClientRect().height,c=null===(s=this.cardContent)||void 0===s?void 0:s.getBoundingClientRect().height,h=null===(i=this.featureArticleContainer)||void 0===i?void 0:i.getBoundingClientRect().height,u=null===(n=this.articleInfo)||void 0===n?void 0:n.getBoundingClientRect().height,d=null===(o=this.specialHeroCardMedia)||void 0===o?void 0:o.getBoundingClientRect().height;if(null===this.additionalArticlesContainer){if(window.innerWidth>Vt&&l>c)return a-36+"px";if(window.innerWidth>=Vt&&l<=c){const e=h+(c-l);return this.featureArticleContainer&&(this.featureArticleContainer.style.height=`${e}px`),`${e+r}px`}return this.featureArticleContainer&&(this.featureArticleContainer.style.height="auto"),"100%"}return window.innerWidth>=Vt&&d<=u?(this.specialHeroCardMedia.style.marginBottom=c-d-48+"px",a-this.additionalArticlesContainer.getBoundingClientRect().height+144+"px"):a-this.additionalArticlesContainer.getBoundingClientRect().height+72+"px"}titlesEqualHeights(){setTimeout((()=>{const e=this.additionalArticlesTitles.map((e=>e.clientHeight)),t=Math.max(...e);this.additionalArticlesTitles.forEach((e=>{e.parentElement.parentElement.parentElement.parentElement.classList.contains(zt)&&window.innerWidth>Vt&&null!==e.parentElement.previousElementSibling.previousElementSibling&&(e.style.height=`${t}px`)}))}),800)}}var Qt=Jt;const es="featured-article-carousel__dot--active",ts="featured-article-carousel__left--hidden",ss="featured-article-carousel__right--hidden";class is extends de.Z{constructor(e){super(e),this.index=0,this.touchstartX=0,this.touchendX=0,this.dir="rtl"===this.document.documentElement.getAttribute("dir")?1:-1}_elements(){this.slidesWrapper=this.el.querySelector(".featured-article-carousel__boxes"),this.slides=this.el.querySelectorAll(".featured-article-carousel__box"),this.left=this.el.querySelector(".featured-article-carousel__left"),this.right=this.el.querySelector(".featured-article-carousel__right"),this.bullets=this.el.querySelectorAll(".featured-article-carousel__dot"),this.carouselInfo=this.document.querySelector(".featured-article-carousel__info"),this.featuredArticleRightLinks=[...this.el.querySelectorAll(".featured-article-carousel__boxes .featured-article__content .featured-article__link")],this.featuredArticleWrappers=[...this.el.querySelectorAll(".featured-article-carousel__boxes .featured-article")]}afterInit(){this.setSlideInfo(),this.updateArrowVisibility(0)}_events(){this.lastIndex=this.slides.length-1,this.left.addEventListener("click",(()=>this.moveLeft())),this.right.addEventListener("click",(()=>this.moveRight())),this.el.addEventListener("touchstart",(e=>{this.touchstartX=e.changedTouches[0].screenX})),this.el.addEventListener("touchend",(e=>{this.touchendX=e.changedTouches[0].screenX,this.checkDirection()})),this.bullets[this.index].classList.add(es),this.bullets.forEach((e=>e.addEventListener("click",(()=>{const t=e.getAttribute("value"),s=this.index;let i=this.index-t;if(t!==s){for(;i>0;)this.moveLeft(),i--;for(;i<0;)this.moveRight(),i++}})))),this.slidesWrapper.addEventListener("keydown",this.onKeyDown.bind(this))}onKeyDown(e){const t=this.featuredArticleRightLinks.indexOf(document.activeElement),s=this.featuredArticleWrappers.indexOf(document.activeElement),i=!e.shiftKey;i&&-1!==t&&t<2?this.moveRight():!i&&-1!==s&&s>0&&this.moveLeft()}checkDirection(){this.touchendX<this.touchstartX&&this.moveRight(),this.touchendX>this.touchstartX&&this.moveLeft()}moveCarousel(){this.setSlideInfo(),this.updateArrowVisibility(this.index),this.markDot(this.index),this.slides.forEach(((e,t)=>{const s=t===this.index,i=t>this.index,n=`translateX(${this.dir*this.index*24}px) `,o=this.dir*(t-this.index-1)*25,r=i?`translateX(${o}%)`:"",a=`translateX(${this.dir*this.index*100}%) `,l=s?"scale(1)":"scale(0.75)";e.style.transform=n+r+a+l}))}moveRight(){this.index!==this.lastIndex&&(this.unmarkDot(this.index),this.index++,this.moveCarousel())}moveLeft(){0!==this.index&&(this.unmarkDot(this.index),this.index--,this.moveCarousel())}markDot(e){this.bullets[e].classList.add(es)}unmarkDot(e){this.bullets[e].classList.remove(es)}setSlideInfo(){this.carouselInfo.textContent=`Article ${this.index+1} of ${this.bullets.length}`}updateArrowVisibility(e){0===e?(this.left.classList.add(ts),this.right.classList.remove(ss)):e===this.lastIndex?(this.right.classList.add(ss),this.left.classList.remove(ts)):(this.left.classList.remove(ts),this.right.classList.remove(ss))}}var ns=is;class os extends de.Z{constructor(e){super(e),this.elements={},this.popupOpened=!1}init(){super.init()}_elements(){this.elements.dialog=this.document.querySelector(".h-c-social__dialog"),this.elements.trigger=this.document.querySelector(".h-c-social__title.h-c-social__title--trigger")}_events(){this.elements.trigger.addEventListener("click",(()=>{this.toggleDialog("block"),this.popupOpened=!0})),this.document.addEventListener("click",(e=>{this.popupOpened&&!this.checkClickInside(e.target)&&(this.toggleDialog("none"),this.popupOpened=!1)}))}toggleDialog(e){this.elements.dialog.style.display=e}checkClickInside(e){return this.el.contains(e)}}var rs;const as="PADDING_ON/FOOTER",ls="VISIBLE/COOKIE_BANNER",cs="HIDE/COOKIE_BANNER",hs="VISIBILITY/COOKIE_BANNER",us="cookieBar",ds={OK_TEXT:(null===(rs=U[e()])||void 0===rs?void 0:rs.consentText)||"OK",PUNCTUATION:"."};class ms extends de.Z{constructor(e){super(e),this.elements={},this.id=(0,l.Z)()}init(){return super.init(),this.setAnalytics(),setTimeout((()=>{this.store.dispatch(ls),this.store.dispatch(hs)}),1),this}_elements(){this.elements.bodyContent=this.document.querySelector("body"),this.elements.cookieBanner=this.document.getElementById(us),this.elements.moreButton=this.document.querySelector(".cookieBarMoreButton"),this.elements.acceptButton=this.document.querySelector(".cookieBarConsentButton"),this.elements.cookieText=this.document.querySelector(".cookieBarText")}_events(){this.elements.cookieBanner.addEventListener("click",(()=>{this.existCookieBanner(us)}))}update(e){let{type:t}=e;switch(t){case Ke:case Ye:this.store.dispatch(as);break;case hs:this.fixTextButtons(),this.showElement()}}existCookieBanner(e){document.getElementById(e)?this.store.dispatch(ls):this.store.dispatch(cs)}fixTextButtons(){const e=this.elements.acceptButton,t=this.elements.moreButton;e.innerHTML=ds.OK_TEXT,t.textContent+=ds.PUNCTUATION}showElement(){document.getElementById(us).classList.add("cookie-show"),this.focusBanner()}focusBanner(){setTimeout((()=>{this.elements.cookieBanner.tabIndex=-1,this.elements.cookieBanner.focus(),this.elements.cookieText.tabIndex=0,this.elements.cookieBanner.setAttribute("aria-modal","true"),this.elements.cookieBanner.setAttribute("aria-label","Google serves cookies to analyze traffic to this site. Information about your use of our site is shared with Google for that purpose"),this.elements.cookieBanner.setAttribute("role","dialog"),this.elements.cookieText.setAttribute("role","text"),this.elements.cookieText.focus()}),300)}setAnalytics(){const e={event:"page interaction",category:"cookie banner"},t={...e,action:"user consent",label:"ok"},s={...e,action:"see details",label:`${this.elements.moreButton.getAttribute("href")}`};this.elements.acceptButton.addEventListener("click",(()=>this.sendClickAnalytics(t))),this.elements.moreButton.addEventListener("click",(()=>this.sendClickAnalytics(s)))}sendClickAnalytics(e){const t=new a.Z;t.setAdditionalValues(e),t.pushClickEvent()}}class ps{constructor(){}static setValue(e,t){const s={value:t};localStorage.setItem(e,JSON.stringify(s))}static getValue(e){const t=localStorage.getItem(e);return t?JSON.parse(t).value:null}static setWithExpiry(e,t,s){const i={value:t,expiry:(new Date).getTime()+s};localStorage.setItem(e,JSON.stringify(i))}static getWithExpiry(e){const t=localStorage.getItem(e);if(t){const s=JSON.parse(t);return(new Date).getTime()>s.expiry?(localStorage.removeItem(e),null):s.value}return null}}const gs="MODAL_OPEN",vs="NEWSLETTER_TOAST/OPENED",ys="NEWSLETTER_TOAST/CLOSED";class bs extends de.Z{constructor(e){super(e),this.elements={},this.hasCookieBanner=!1,this.hasSurvey=!1,this.isShowingSurvey=!1,this.isDeclined=!1,this.isSuscribed=!1,this.toastIsVisible=!1}init(){return super.init(),this.validateDeclinedValue(),this.validateSurveyCookie(),this.validateIsSuscribed(),this.setBottomPosition(),this}_elements(){this.elements.suscribeButton=this.el.querySelector(".uni-newsletter-toast__cta--sub"),this.elements.declineButton=this.el.querySelector(".uni-newsletter-toast__cta--no"),this.elements.isIOS=Z()}_events(){this.elements.suscribeButton.addEventListener("click",(e=>{this.hideToast(),this.store.dispatch(gs,e)})),this.elements.declineButton.addEventListener("click",(()=>{this.hideToast(),this.setDeclinedLocalValue()}))}update(e){let{type:t,data:s}=e;switch(t){case ls:this.hasCookieBanner=!0;break;case Le.S_ACTIVE:this.hasSurvey=!0;break;case ce.V.SCROLLED:this.onPageScrolled(s);break;case Ke:case Ye:this.resizeToast();break;case"NEWSLETTER_MODAL/SUSCRIBED":this.setSuscribedLocalvalue(),this.hideToast();break;case gs:this.hideToast()}}onPageScrolled(e){let{pagePercent:t,delta:s}=e;s>0&&t>.5&&this.canShowToast()&&this.showToast(),this.elements.isIOS&&this.handleMobileLandscape(t)}showToast(){this.el.style.visibility="visible",this.toastIsVisible=!0,this.el.style.bottom=0,this.store.dispatch(vs,{size:this.getHeight()})}hideToast(){this.el.style.visibility="hidden",this.toastIsVisible=!1,this.setBottomPosition(),this.store.dispatch(ys,{size:"0px"})}canShowToast(){return!(this.hasCookieBanner||this.hasSurvey&&this.isShowingSurvey||this.isDeclined||this.isSuscribed)}getHeight(){return getComputedStyle(this.el).height}setBottomPosition(){const e=this.getHeight();this.el.style.bottom=`-${e}`}setSuscribedLocalvalue(){ps.setValue("suscribed",!0),this.isSuscribed=!0}setDeclinedLocalValue(){ps.setWithExpiry("suscriptionDeclined",!0,2592e6),this.isDeclined=!0}validateDeclinedValue(){ps.getWithExpiry("suscriptionDeclined")&&(this.isDeclined=!0)}validateIsSuscribed(){ps.getValue("suscribed")&&(this.isSuscribed=!0)}validateSurveyCookie(){he.accessCookie("uni-survey")||(this.isShowingSurvey=!0)}resizeToast(){this.toastIsVisible&&this.store.dispatch(vs,{size:this.getHeight()})}handleMobileLandscape(e){window.matchMedia("(orientation: landscape)").matches&&this.toastIsVisible&&(this.elements.prevScrollPercent>e&&e<1?"-100%"!==this.el.style.bottom&&(this.el.style.bottom="-100%"):this.el.style.bottom="0",this.elements.prevScrollPercent=e)}}const fs="cookieBar";class ws extends de.Z{constructor(e){super(e),this.elements={}}init(){return super.init(),this.existCookieBanner(fs),this}_elements(){this.elements.cookieBanner=null}update(e){let{type:t,data:s}=e;switch(t){case ls:this.adjustBodyPadding();break;case cs:this.observeBody();break;case as:this.adjustBodyPadding();break;case vs:case ys:this.adjustFooterPadding(s)}}existCookieBanner(e){const t=document.getElementById(e);t?(this.elements.cookieBanner=new ms(t),this.elements.cookieBanner.init(),this.adjustBodyPadding()):this.observeBody()}observeBody(){const e=document.querySelector("body"),t=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.length&&[...e.addedNodes].forEach((e=>{e.id===fs&&(this.elements.cookieBanner=new ms(e),this.elements.cookieBanner.init(),this.adjustBodyPadding())}))}))}));t.observe(e,{attributes:!0,childList:!0}),setTimeout((()=>t.disconnect()),300)}adjustBodyPadding(){const e=document.querySelector("footer"),t=document.getElementById(fs);if(t){const s=getComputedStyle(t);e.style.paddingBottom=s.height}else e.style.paddingBottom="0px"}adjustFooterPadding(e){let{size:t=""}=e;this.el.style.paddingBottom=t}}const Ss=".cookie-show",_s="rich-text",Es="uni-window__read--visible",As="uni-window-popup",Ls="uni-window-popup__content",Cs="scroll-off",ks="uni-window-popover",Ts="up",Is="uni-window-popover__content",Os="uni-window__content",xs="visible";let Ps;const Bs="popup",Ds="popover",Rs="cookieBanner",qs="newsLetter",Ms="href",Ns="style",Vs="--content-height",Fs="aria-hidden",$s="auto",Hs="100%";class Ws extends de.Z{constructor(e){super(e)}initWindow(){super.init(),this.elements(),this.events()}elements(){this.main=document.querySelector("main"),this.header=document.querySelector("header"),this.footer=document.querySelector("footer"),this.window=document.querySelector(".uni-window"),this.windowContent=document.querySelector(".uni-window__content"),this.readMore=document.querySelector(".uni-window__read"),this.newsLetter=document.querySelector(".uni-newsletter-toast")}events(){this.isMediumViewport()?this.activeTypePopUp(Bs):this.activeTypePopUp(Ds),window.addEventListener("resize",(()=>{this.isMediumViewport()?this.activeTypePopUp(Bs):(this.activeTypePopUp(Ds),this.removeContent())}))}isMediumViewport(){return window.innerWidth<=1024}activeTypePopUp(e){switch(e){case Bs:this.window.classList.remove(ks),this.windowContent.classList.remove(Is),this.window.classList.add(As),this.windowContent.classList.add(Ls),this.window.classList.contains(xs)&&(this.changePopUpPosition(),this.handleScroll());break;case Ds:this.window.classList.remove(As),this.windowContent.classList.remove(Ls),this.window.classList.add(ks),this.windowContent.classList.add(Is),this.closePopup()}}setPopUp(e,t){e&&(this.removeContent(),this.sendPopUpToBody(),this.windowContent.insertBefore(t,this.windowContent.firstElementChild),this.windowContent.setAttribute("aria-modal","true"),this.windowContent.setAttribute("role","dialog"),this.windowContent.firstElementChild.setAttribute("tabindex","0"),setTimeout((()=>this.windowContent.firstElementChild.focus()),100),this.changePopUpPosition(),this.handleScroll(),this.focusToPopUp(!0),document.body.style.overflowY="hidden",this.window.classList.add(xs))}setPopOver(e,t){this.removeContent(),this.window.classList.remove(xs),this.sendPopOverLink(e);const s=document.createElement("div");s.classList.add(_s);for(const e of t)e.classList.remove("uni-window--p-highlight"),s.append(e);this.windowContent.append(s),this.validateDirection(e),this.window.classList.add(xs)}validateDirection(e){const t=window.innerHeight;if(e.getBoundingClientRect().y+(this.windowContent.offsetHeight+40)<t)return this.window.classList.remove(Ts),void this.windowContent.classList.remove(Ts);const s=this.windowContent.offsetHeight;this.window.style.bottom=`${s+40}px`,this.window.classList.add(Ts),this.windowContent.classList.add(Ts)}getContentOfLink(e){const t="sup"===e.nodeName.toLowerCase()?e.parentElement.getAttribute(Ms):e.getAttribute(Ms);if(t)return document.querySelector(t)}maxOfCharacters(e){let t=[...e.querySelectorAll("p")],s=0,i=0;for(const[e,n]of t.entries()){if(s+=n.textContent.length,s>=395){const s=0===e?395:i;return t[e].textContent=n.textContent.substring(0,s).concat("..."),t=t.slice(0,e+1),this.readMore.classList.add(Es),t}i=395-s,this.readMore.classList.remove(Es)}return t}removeContent(){this.richContent=this.windowContent.querySelector(".rich-text"),this.richContent&&this.richContent.remove()}sendPopUpToBody(){document.querySelector("body").append(this.window)}sendPopOverLink(e){e.classList.contains(Os)||e.append(this.window)}changePopUpPosition(){var e;this.isCookieBannerOpen=document.querySelector(Ss),this.isNewsLetterOpen="visible"===(null===(e=this.newsLetter)||void 0===e?void 0:e.style.visibility),this.isCookieBannerOpen=document.querySelector(Ss),this.isCookieBannerOpen?this.adjustHeightWindow(Rs):this.isNewsLetterOpen?this.adjustHeightWindow(qs):(this.window.style.height=Hs,this.windowContent.style.setProperty(Vs,`calc(${this.window.offsetHeight}px - 64px)`))}adjustHeightWindow(e){var t;const s=this.isCookieBannerOpen.offsetHeight,i=null===(t=this.newsLetter)||void 0===t?void 0:t.offsetHeight;switch(e){case Rs:this.window.style.height=`calc(100% - ${s}px)`;break;case qs:this.window.style.height=`calc(100% - ${i}px)`}this.windowContent.style.setProperty(Vs,`calc(${this.window.offsetHeight}px - 64px)`)}handleScroll(){this.textContentPopUp=this.windowContent.querySelector(".rich-text");let e=0;if(e=this.isNewsLetterOpen?this.newsLetter.offsetHeight:0,e=this.isCookieBannerOpen?this.isCookieBannerOpen.offsetHeight:48,this.textContentPopUp&&this.textContentPopUp.offsetHeight+64+e<this.window.offsetHeight)return this.windowContent.classList.add(Cs),void this.windowContent.style.setProperty(Vs,$s);this.windowContent.classList.remove(Cs)}closePopup(){var e;document.body.style.overflowY=$s,this.window.classList.remove(xs),this.window.removeAttribute(Ns),this.windowContent.removeAttribute(Ns),this.windowContent.classList.remove(Cs),null===(e=Ps)||void 0===e||e.focus(),this.focusToPopUp(!1)}closePopOver(){this.window.classList.remove(xs)}focusToPopUp(e){if(e)return this.main.setAttribute(Fs,"true"),this.header.setAttribute(Fs,"true"),void this.footer.setAttribute(Fs,"true");this.main.removeAttribute(Fs),this.header.removeAttribute(Fs),this.footer.removeAttribute(Fs)}}var Us=Ws;const Zs=".uni-footnotes__index",Ks="superscript",Ys=".uni-footnotes__text",Gs="sup",js="click",zs="keydown",Xs="href",Js={event:"page interaction",category:"interaction"},Qs="footnotes - footnotes - superscript pop-up click",ei="superscript",ti="footnote";var si=class{constructor(e){this.url_=e.url,this.method_=e.method||"POST",this.request_=new XMLHttpRequest}convertToString(e){const t=[];for(const s in e)s&&t.push(`${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`);return t.join("&")}postToFBX(e){const t=this.convertToString(e);return this.request_.open(this.method_,this.url_),this.request_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.request_.send(t),new Promise(function(e,t){this.request_.onerror=function(){t()},this.request_.onreadystatechange=function(){if(4===this.readyState){const s=JSON.parse(this.responseText);200===this.status&&"accepted"===s.result?e(s):t(s)}}}.bind(this))}};const ii="FORM/COLLECT";class ni extends de.Z{constructor(e){super(e),this.url=this.el.getAttribute("data-action"),this.method=this.el.getAttribute("data-method")||"POST",this.formData={}}_events(){this.el.addEventListener("submit",(e=>(e.preventDefault(),!1)))}update(e){let{type:t,data:s}=e;if(t===ii){const[e,t]=s;this.setFormData(parseInt(e),t)}}onSubmitAttempt(){this.submit().then((()=>!0)).catch((()=>!1))}setFormData(e,t){const s=`question-${e}`;this.formData[s]=t,7===e&&this.onSubmitAttempt()}submit(){return this.postData()}postData(){const e={url:this.url,method:this.method};return new si(e).postToFBX(this.formData).then(this.success.bind(this)).catch()}}var oi=ni;const ri=e=>new Promise((t=>setTimeout(t,e)));var ai=class{constructor(){this.callbacks=[],this.state=0,this.currentCallback=null,this.onErrorCallback=null,this.onCompletedCallback=null}enqueue(e,t){this.callbacks.push({name:e,callback:t}),this.isIdle()&&this.play()}dequeue(e){let t=!1;this.callbacks=this.callbacks.filter((s=>!(!t&&s.name===e&&(t=!0,1))))}clear(){this.callbacks=[],this.state=0}onError(e){this.onErrorCallback=e}onCompleted(e){this.onCompletedCallback=e}play(){this.state=1,this.runNextCallback()}resume(){this.play()}pause(){this.isRunning()&&(this.state=2)}isIdle(){return 0===this.state}isPaused(){return 2===this.state}isRunning(){return 1===this.state}isEmpty(){return 0===this.callbacks.length}getRunningName(){return this.isRunning()?this.currentCallback.name:null}async runNextCallback(){if(this.isRunning())if(this.isEmpty())this.state=0,this.currentCallback=null,this.onQueueEmpty();else{this.currentCallback=this.callbacks.shift();try{await this.currentCallback.callback(),this.runNextCallback()}catch(e){this.onCallbackError(e)}}}onCallbackError(e){this.onErrorCallback&&this.onErrorCallback(e,this.currentCallback)}onQueueEmpty(){this.onCompletedCallback&&this.onCompletedCallback()}};const li={steps:[],completed:null,errored:e=>console.error("[ SEQUENCER ]: An unknown error occurred!")&&console.error(e)};var ci=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li;this.options=e,this.steps=e.steps,this.completed=e.completed,this.errored=e.errored}async start(){try{for(let e=0;e<this.steps.length;e++)await this.steps[e]();this.completed&&this.completed()}catch(e){this.errored&&this.errored(e)}}addStep(e){this.steps.push(e)}onCompleted(e){this.completed=e}onError(e){this.errored=e}};const hi="menu-is-closing",ui="wait-before-showing",di="with-transition",mi=e=>{let t="0px",s="0px";return new ci({...li,steps:[()=>new Promise((i=>{({subMenuHeight:t,subMenuWrapperHeight:s}=e.getMegaMenuHeights()),i()})),()=>new Promise((async s=>{e.open().raise(),e.elements.subMenu.style.height=t,e.elements.subMenuWrapper.style.height="0",e.elements.subMenu.classList.add(ui),await ri(10),s()})),()=>new Promise((async t=>{e.elements.subMenuWrapper.classList.add(di),e.elements.subMenuWrapper.style.height=s,e.elements.subMenu.classList.remove(ui),await ri(500),t()})),()=>new Promise((t=>{e.elements.subMenu.style.height="",e.elements.subMenuWrapper.style.height="",e.elements.subMenuWrapper.classList.remove(di),e.lower(),t()}))]})},pi=e=>{let t="0px",s="0px";return new ci({...li,steps:[()=>new Promise((i=>{({subMenuHeight:t,subMenuWrapperHeight:s}=e.getMegaMenuHeights()),i()})),()=>new Promise((async i=>{e.elements.subMenu.style.height=t,e.elements.subMenuWrapper.style.height=s,e.elements.subMenuWrapper.classList.add(di),await ri(10),i()})),()=>new Promise((async t=>{e.elements.subMenu.style.opacity="0",e.el.classList.add(hi),e.elements.closeBtn.style.display="none",e.elements.viewAll&&(e.elements.viewAll.style.opacity="0",e.elements.viewAll.style.webkitTransition="none",e.elements.viewAll.style.transition="none"),await ri(100),t()})),()=>new Promise((async t=>{e.elements.subMenuWrapper.style.height="0",await ri(350),t()})),()=>new Promise((t=>{e.elements.subMenu.style.height="",e.elements.subMenu.style.opacity="",e.elements.subMenuWrapper.style.height="",e.elements.closeBtn.style.display="",e.elements.viewAll&&(e.elements.viewAll.style.opacity="",e.elements.viewAll.style.webkitTransition="",e.elements.viewAll.style.transition=""),e.el.classList.remove(hi),e.close(),e.elements.subMenuWrapper.classList.remove(di),t()}))]})};var gi=class{constructor(e){let{navigation:t,classes:s}=e;this.nav=t,this.classes=s}attachEvents(){pe.Z.on(pe.R.Tab,(e=>this.onKeyTab(e))),pe.Z.on(pe.R.Space,(e=>this.onKeyEnterOrSpace(e))),pe.Z.on(pe.R.Enter,(e=>this.onKeyEnterOrSpace(e))),pe.Z.on(pe.R.Escape,(()=>this.onKeyEscape())),pe.Z.on(pe.R.Left,(e=>this.onKeyLeft(e))),pe.Z.on(pe.R.Right,(e=>this.onKeyRight(e))),pe.Z.on(pe.R.Up,(e=>this.onKeyUp(e))),pe.Z.on(pe.R.Down,(e=>this.onKeyDown(e)))}getItems(){return this.nav.elems.items}getElement(e){let{navItem:t=null,query:s,insideOf:i=null,single:n=!0}=e,o=document;return t&&i?o=t.elements[i]:t?o=t.el:i&&(o=i),n?o.querySelector(s):o.querySelectorAll(s)}getActiveContext(){const e=document.activeElement,t=this.getNavItemFromElem(e),s=this.nav.getOpenMegaMenu();return{focusedElement:e,focusedNavItem:t,openNavItem:s,isNavItemFocused:!!t,isMegaMenuOpen:!!s}}elemIsViewAll(e){return e.parentElement.classList.contains(this.classes.viewAll.substr(1))}elemIsClose(e){return e.classList.contains(this.classes.closeIcon.substr(1))}isElementFirstOfMegaMenu(e,t){return t.hasSubNav&&e===this.getElement({navItem:t,insideOf:"subMenuWrapper",query:this.classes.firstLinkInSubMenuWrapper})}isElementLastOfMegaMenu(e,t){if(t&&t.hasSubNav)return t.elements.viewAll?e===this.getElement({navItem:t,insideOf:"viewAll",query:"a"}):e===this.getElement({navItem:t,insideOf:"subMenuWrapper",query:this.classes.lastSeeAllInSubMenuWrapper})}getNavItemFromElem(e){const t=this.getItems();for(let s=0;s<t.length;s++)if(t[s].elements.label===e)return t[s];return null}getPreviousNavItem(e){const t=this.getItems(),s=t.indexOf(e);return s>0?t[s-1]:null}getNextNavItem(e){const t=this.getItems(),s=t.indexOf(e);return s>=0&&s<t.length-1?t[s+1]:null}getFocusData(){const e=document.activeElement,t=(0,ye._)(this.nav.el),s=t.indexOf(e);return{focusedElement:e,focusable:t,index:s}}getPreviousFocusableElement(){const{index:e,focusable:t}=this.getFocusData();return e>0?t[e-1]:null}getNextFocusableElement(){const{index:e,focusable:t}=this.getFocusData();return e>=0&&e+1<t.length?t[e+1]:null}getCategoryFromLink(e){return e.classList.contains(this.classes.seeAll.substr(1))?e.parentElement:e.parentElement.parentElement.parentElement}getNextCategoryFromCategory(e){if(e){const t=e.parentElement,s=Array.from(t.querySelectorAll(`.${e.className}`)),i=s.indexOf(e);if(i>=0&&i+1<s.length)return s[i+1]}return null}getPreviousCategoryFromCategory(e){if(e){const t=e.parentElement,s=Array.from(t.querySelectorAll(`.${e.className}`)),i=s.indexOf(e);if(i>0)return s[i-1]}return null}getCategoryFirstLink(e){if(e){const t=e.querySelector(this.classes.firstLinkInCategory);if(t)return t;const s=e.querySelector(this.classes.seeAll);if(s)return s}return null}getNextCategoryFirstLinkFromLink(e){const t=this.getCategoryFromLink(e),s=this.getNextCategoryFromCategory(t);return this.getCategoryFirstLink(s)}getPreviousCategoryFirstLinkFromLink(e){const t=this.getCategoryFromLink(e),s=this.getPreviousCategoryFromCategory(t);return this.getCategoryFirstLink(s)}focusPreviousElement(){const e=this.getPreviousFocusableElement();e&&e.focus()}focusNextElement(){const e=this.getNextFocusableElement();e&&e.focus()}navigateToPreviousNavItem(e){const t=this.getPreviousNavItem(e);t&&(e.isOpen&&this.nav.requestCloseMegaMenu(e),t.hasSubNav&&this.nav.requestOpenMegaMenu(t),t.elements.label.focus())}navigateToNextNavItem(e){const t=this.getNextNavItem(e);t&&(e.isOpen&&this.nav.requestCloseMegaMenu(e),t.hasSubNav&&this.nav.requestOpenMegaMenu(t),t.elements.label.focus())}openMegaMenuAndFocusFirstLink(e){e.isOpen||this.nav.requestOpenMegaMenu(e),this.getElement({navItem:e,insideOf:"subMenuWrapper",query:this.classes.firstLinkInSubMenuWrapper}).focus()}focusFirstLinkOfPreviousCategoryFromLink(e){const t=this.getPreviousCategoryFirstLinkFromLink(e);return t&&t.focus(),!!t}focusFirstLinkOfNextCategoryFromLink(e){const t=this.getNextCategoryFirstLinkFromLink(e);return t&&t.focus(),!!t}focusFirstLinkOfLastCategoryFromViewAll(){const e=this.getPreviousFocusableElement(),t=this.getCategoryFromLink(e),s=this.getCategoryFirstLink(t);return s&&s.focus(),!!s}tryToFocusFirstLinkOfPreviousCategory(e){return this.elemIsViewAll(e)?this.focusFirstLinkOfLastCategoryFromViewAll():this.focusFirstLinkOfPreviousCategoryFromLink(e)}tryToFocusFirstLinkOfNextCategory(e,t){if(this.elemIsViewAll(e))return!1;const s=this.getNextCategoryFirstLinkFromLink(e);if(s)s.focus();else{if(!t.elements.closeBtn)return!1;t.elements.closeBtn.focus()}return!0}handleForwardTab(e,t,s){const i=t.isOpen;if(i&&this.nav.requestCloseMegaMenu(t),document.activeElement!==t.el){const e=this.getNextNavItem(t);e&&e.hasSubNav&&(s({prevent:!0}),e.elements.label.focus(),i&&this.nav.requestOpenMegaMenu(e))}}handleBackwardTab(e,t,s){const i=t.isOpen;i&&this.nav.requestCloseMegaMenu(t);const n=this.getPreviousNavItem(t);n&&n.hasSubNav?(s({prevent:!0}),i?(this.nav.requestOpenMegaMenu(n),n.elements.viewAll?this.getElement({navItem:n,insideOf:"viewAll",query:"a"}).focus():this.getElement({navItem:n,insideOf:"subMenuWrapper",query:this.classes.lastSeeAllInSubMenuWrapper}).focus()):n.elements.label.focus()):n&&(s({prevent:!0}),n.elements.label.focus())}onKeyTab(e){let{preventDefault:t,shiftKey:s}=e;const{focusedElement:i,focusedNavItem:n,isNavItemFocused:o,isMegaMenuOpen:r}=this.getActiveContext();s&&o?this.handleBackwardTab(i,n,t):o&&!r?this.handleForwardTab(i,n,t):!s&&r&&this.elemIsClose(i)&&this.handleForwardTab(i,this.nav.getOpenMegaMenu(),t)}onKeyEnterOrSpace(e){let{preventDefault:t}=e;const{focusedElement:s,focusedNavItem:i,isNavItemFocused:n,isMegaMenuOpen:o,openNavItem:r}=this.getActiveContext();n&&i.hasSubNav?(t(),i.isOpen?this.nav.requestCloseMegaMenu(i):this.nav.requestOpenMegaMenu(i)):!i&&o&&(s.hasAttribute("href")?(t(),window.location.href=s.getAttribute("href")):s===r.elements.closeBtn&&(t(),o&&this.nav.requestCloseMegaMenu(r),r&&r.elements.label.focus()))}onKeyEscape(){const{openNavItem:e,isMegaMenuOpen:t}=this.getActiveContext();t&&this.nav.requestCloseMegaMenu(e),e&&e.elements.label.focus()}onKeyLeft(e){let{preventDefault:t}=e;const{focusedElement:s,focusedNavItem:i,openNavItem:n,isMegaMenuOpen:o,isNavItemFocused:r}=this.getActiveContext();(o||r)&&(t({prevent:!0}),r?this.navigateToPreviousNavItem(i):s===n.elements.closeBtn?this.focusFirstLinkOfLastCategoryFromViewAll():o&&!this.tryToFocusFirstLinkOfPreviousCategory(s)&&n.elements.label.focus())}onKeyRight(e){let{preventDefault:t}=e;const{focusedElement:s,focusedNavItem:i,openNavItem:n,isMegaMenuOpen:o,isNavItemFocused:r}=this.getActiveContext();(o||r)&&(t({prevent:!0}),r?this.navigateToNextNavItem(i):o&&!this.tryToFocusFirstLinkOfNextCategory(s,n)?n.elements.label.focus():s===n.elements.closeBtn?n.elements.viewAll?this.getElement({navItem:n,insideOf:"viewAll",query:"a"}).focus():n.elements.label.focus():o&&this.isElementLastOfMegaMenu(s,n)&&this.navigateToNextNavItem(n))}onKeyUp(e){let{preventDefault:t}=e;const{focusedElement:s,focusedNavItem:i,openNavItem:n,isMegaMenuOpen:o,isNavItemFocused:r}=this.getActiveContext(),{index:a,focusable:l}=this.getFocusData();(r||n)&&(t({prevent:!0}),r?this.handleBackwardTab(s,i,t):o&&this.isElementFirstOfMegaMenu(s,n)?n.elements.label.focus():this.isElementLastOfMegaMenu(s,n)?l[a-2].focus():s===n.elements.closeBtn&&n.elements.viewAll?this.focusNextElement():o&&this.focusPreviousElement())}onKeyDown(e){let{preventDefault:t}=e;const{focusedElement:s,focusedNavItem:i,openNavItem:n,isMegaMenuOpen:o,isNavItemFocused:r}=this.getActiveContext();(o||r)&&(t({prevent:!0}),r?this.openMegaMenuAndFocusFirstLink(i):this.getNextFocusableElement()===n.elements.closeBtn?n.elements.viewAll?n.elements.closeBtn.focus():this.focusNextElement():s===n.elements.closeBtn&&n.elements.viewAll?this.navigateToNextNavItem(n):s===n.elements.closeBtn?(o&&this.nav.requestCloseMegaMenu(n),n&&n.elements.label.focus()):this.isElementLastOfMegaMenu(s,n)?this.focusPreviousElement():o&&this.focusNextElement())}},vi=class{constructor(e){this.nav=e,this.items=[]}attachPopupToMenuItems(){this.nav.elems.items.forEach((e=>{if(e.hasSubNav){const t=((e,t)=>new class{constructor(e,t){this.elems={toggle:e,popup:t},this.isOpen=!1,this.initialize()}initialize(){this.elems.toggle.id||(this.elems.toggle.id=(0,l.Z)()),this.elems.popup.id||(this.elems.popup.id=(0,l.Z)()),this.elems.toggle.setAttribute("aria-haspopup","menu"),this.elems.toggle.setAttribute("aria-expanded","false"),this.elems.toggle.setAttribute("aria-controls",this.elems.popup.id),this.elems.popup.setAttribute("role","menu"),this.elems.popup.setAttribute("aria-hidden","true"),this.elems.popup.setAttribute("aria-expanded","false")}open(){this.isOpen=!0,this.elems.toggle.setAttribute("aria-expanded","true"),this.elems.popup.setAttribute("aria-hidden","false"),this.elems.popup.setAttribute("aria-expanded","true")}close(){this.isOpen=!1,this.elems.toggle.setAttribute("aria-expanded","false"),this.elems.popup.setAttribute("aria-hidden","true"),this.elems.popup.setAttribute("aria-expanded","false")}toggle(){this.isOpen?this.close():this.open()}}(e,t))(e.elements.label,e.elements.subMenuWrapper);this.items.push(t),e.setPopupHandler(t)}}))}};const yi={OPEN_MEGA_MENU:"NAVIGATION/OPEN_MEGA_MENU",CLOSE_MEGA_MENU:"NAVIGATION/CLOSE_MEGA_MENU",CLOSE_BUTTON:"NAVIGATION/CLOSE_BUTTON"},bi={menuFirstLevelItem:".uni-main-menu__item",menuFirstLevelItemLabel:".uni-main-menu__item-label",submenuWrapper:".uni-main-menu__submenu-wrapper",submenu:".uni-main-menu__submenu",viewAll:".uni-main-menu__submenu-view-all",seeAll:".uni-main-menu__submenu-item-see-all",subMenuLink:".uni-main-menu__submenu-link",firstLinkInSubMenuWrapper:".uni-main-menu__submenu .uni-main-menu__submenu-item:first-child .uni-main-menu__submenu-links .uni-main-menu__submenu-link:first-child > a",firstLinkInCategory:".uni-main-menu__submenu-links .uni-main-menu__submenu-link:first-child > a",lastSeeAllInSubMenuWrapper:".uni-main-menu__submenu .uni-main-menu__submenu-item:last-child .uni-main-menu__submenu-item-see-all",categoryTitles:".uni-main-menu__submenu-item .uni-main-menu__submenu-item-label",productLinksItems:"[data-navigation='Product-updates']",newsLinksItems:"[data-navigation='Company-news']",newsCtas:".uni-main-menu__submenu-item-see-all",seeAllProducts:".uni-main-menu__submenu-view-all-link",closeIcon:".uni-main-menu__submenu-close"};class fi extends de.Z{constructor(e){super(e),this.elems={items:[]},this.assets={},this.accessibility={keyboard:new gi({navigation:this,classes:bi}),screenReader:new vi(this)},this.store.dispatch(H,{id:this.id,handle:this.el})}_elements(){const e=this.el.querySelectorAll(bi.menuFirstLevelItem);this.elems.items=Array.from(e).map((e=>{const t=e.querySelector(bi.menuFirstLevelItemLabel),s=t.classList.contains("has-submenu");return(new class{constructor(e){this.el=e,this.id="",this.isOpen=!1,this.isActive=!1,this.hasSubNav=!1,this.elements={label:null,viewAll:null,subMenu:null,subMenuWrapper:null},this.popup=null,this.animations={open:null,close:null,queue:new ai}}getMegaMenuHeights(){return this.open(),{subMenuHeight:getComputedStyle(this.elements.subMenu).height,subMenuWrapperHeight:getComputedStyle(this.elements.subMenuWrapper).height}}setElement(e){return this.el=e,this}setId(e){return this.id=e,this}setPopupHandler(e){return this.popup=e,this}open(){return this.isOpen=!0,this.el.classList.add("open"),this.popup&&this.popup.open(),this}close(){return this.isOpen=!1,this.el.classList.remove("open"),this.popup&&this.popup.close(),this}raise(){return this.el.classList.add("show-above-others"),this}lower(){return this.el.classList.remove("show-above-others"),this}activate(){return this.isActive=!0,this}deactivate(){return this.isActive=!1,this}setHasSubNav(e){return this.hasSubNav=e,this}addElement(e,t){return this.elements[e]=t,this}buildAnimations(){return this.hasSubNav&&(this.animations={queue:this.animations.queue,open:mi(this),close:pi(this)}),this}async playAnimation(e){return e in this.animations&&this.animations.queue.getRunningName()!==e&&this.animations.queue.enqueue(e,this.animations[e].start.bind(this.animations[e])),this}clickItem(){}}).setElement(e).setId(`${this.id}-${t.textContent}`).setHasSubNav(s).addElement("label",t).addElement("viewAll",e.querySelector(bi.viewAll)).addElement("closeBtn",e.querySelector(bi.closeIcon)).addElement("subMenu",e.querySelector(bi.submenu)).addElement("subMenuWrapper",e.querySelector(bi.submenuWrapper)).buildAnimations()})),this.elems.categorieTitles=[...this.el.querySelectorAll(bi.categoryTitles)],this.elems.productLinks=[...this.el.querySelectorAll(bi.productLinksItems)],this.elems.newsLinks=[...this.el.querySelectorAll(bi.newsLinksItems)],this.elems.newsCtas=this.el.querySelectorAll(bi.newsCtas),this.elems.seeAllProducts=this.el.querySelector(bi.seeAllProducts),this.elems.closeIcon=this.el.querySelectorAll(bi.closeIcon)}_events(){this.elems.items.forEach((e=>(e.el.querySelector(".uni-main-menu__item-label").addEventListener("click",(e=>{this.store.dispatch(k,e)})),e.hasSubNav&&e.el.addEventListener("click",(t=>this.onClickItem(t,e)))))),this.elems.categorieTitles.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(T,e)}))})),this.elems.productLinks.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(I,e)}))})),this.elems.newsLinks.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(O,e)}))})),this.elems.newsCtas.forEach((e=>{e.addEventListener("click",(t=>{const s={slug:e.getAttribute("data-navigation"),event:t};this.store.dispatch(P,s)}))})),this.elems.seeAllProducts&&this.elems.seeAllProducts.addEventListener("click",(e=>{this.store.dispatch(x,e)})),this.elems.closeIcon.forEach((e=>{e.addEventListener("click",(t=>{this.store.dispatch(yi.CLOSE_BUTTON,e),this.store.dispatch(D,t)}))})),this.accessibility.keyboard.attachEvents(),this.accessibility.screenReader.attachPopupToMenuItems()}update(e){let{type:t,data:s}=e;switch(t){case yi.OPEN_MEGA_MENU:s.hasSubNav&&this.openMegaMenu(s);break;case yi.CLOSE_MEGA_MENU:s.hasSubNav&&this.closeMegaMenu(s);break;case Si.BOX_OPENED:this.el.classList.add("hidden");break;case Si.BOX_CLOSED:this.el.classList.remove("hidden");break;case W:s===this.id&&this.isMegaMenuOpen()&&this.requestCloseMegaMenu(this.getOpenMegaMenu());break;case yi.CLOSE_BUTTON:this.requestCloseMegaMenu(this.getOpenMegaMenu())}}requestCloseMegaMenu(e){this.store.dispatch(yi.CLOSE_MEGA_MENU,e)}requestOpenMegaMenu(e){this.store.dispatch(yi.OPEN_MEGA_MENU,e)}isMegaMenuOpen(){return this.elems.items.some((e=>e.isOpen))}getOpenMegaMenu(){const e=this.elems.items.filter((e=>e.isOpen));return e.length>0?e[0]:null}async openMegaMenu(e){e.isOpen||await e.playAnimation("open")}async closeMegaMenu(e){e.isOpen&&await e.playAnimation("close")}async onClickItem(e,t){if(!$(e,t.elements.subMenuWrapper))if(this.isMegaMenuOpen()){const e=this.getOpenMegaMenu();this.requestCloseMegaMenu(e),t!==e&&t.hasSubNav&&this.requestOpenMegaMenu(t)}else t.hasSubNav&&await this.requestOpenMegaMenu(t)}}var wi=fi;const Si={BOX_OPENED:"SEARCH/OPEN",BOX_CLOSED:"SEARCH/CLOSE",INPUT_FILLED:"INPUT/FILLED",INPUT_CLEARED:"INPUT/CLEARED"};class _i extends de.Z{constructor(e){super(e),this.isExpanded=!1,this.elements={},this.query="",this.typingTimer=null,this.doneTypingInterval=250,this.isMobile=!1,this.suscriptionActive=!1}_elements(){this.elements.closeButton=this.selectElement(".uni-search__button-close"),this.elements.searchInput=this.selectElement(".uni-search__input"),this.elements.searchButton=this.selectElement(".uni-search__button-search"),this.elements.searchToggle=document.querySelector(Pi.searchIcon),this.elements.body=document.body,this.elements.logoBlock=document.querySelector(".uni-header__site-title"),this.elements.root=document.querySelector(":root")}_events(){this.el.addEventListener("submit",(()=>{this.store.dispatch(q,"submit")})),this.elements.closeButton.addEventListener("click",(e=>this.manageClickCloseButton(e))),this.elements.closeButton.addEventListener("touchend",(e=>this.manageDisplay({action:Si.BOX_CLOSED,event:e}))),this.elements.searchButton.addEventListener("click",(e=>this.submitQuery(e))),this.elements.searchButton.addEventListener("touchend",(e=>this.submitQuery(e))),this.elements.searchInput.addEventListener("keyup",(e=>{window.clearTimeout(this.typingTimer),this.manageKeyUp(e)})),this.elements.searchInput.addEventListener("keydown",(e=>this.manageKeyDown(e))),this.elements.body.addEventListener("click",(e=>this.onBodyClick(e))),pe.Z.on(pe.R.Tab,(e=>this.handleFocusTrap(e))),this.setVariableCSSWidth()}update(e){let{type:t,data:s}=e;switch(t){case Bi.S_CLICK:this.manageDisplay({action:Si.BOX_OPENED,event:s});break;case Si.BOX_CLOSED:this.clearInput(),this.store.dispatch(q,"close");break;case yi.HAS_SUSCRIPTION:this.suscriptionActive=!0}}manageKeyUp(e){switch(e.keyCode){case pe.R.Escape:this.manageDisplay({action:Si.BOX_CLOSED,handleFocus:!0,event:e});break;case pe.R.Enter:this.submitQuery(e);break;default:this.manageTyping()}}manageKeyDown(){window.clearTimeout(this.typingTimer)}manageTyping(){const e=this.elements.searchInput.value;this.setQuery(e),""===e?this.store.dispatch(Si.INPUT_CLEARED):this.typingTimer=window.setTimeout((()=>{this.store.dispatch(Si.INPUT_FILLED,this.query)}),this.doneTypingInterval)}manageDisplay(e){let{action:t,event:s,handleFocus:i=!0}=e;s.preventDefault(),s.stopPropagation(),window.TouchEvent&&(this.isMobile=s instanceof TouchEvent),this.isExpanded||window.setTimeout((()=>{this.elements.searchInput.focus()}),35),this.clearInput(),this.toggleBodyOverlay(),this.toggleSearchBox(i),this.isExpanded=!this.isExpanded,this.store.dispatch(t)}manageClickCloseButton(e){return e.preventDefault(),e.stopPropagation(),this.manageDisplay({action:Si.BOX_CLOSED,event:e}),!1}submitQuery(e){const t=`?${new URLSearchParams({query:this.query}).toString()}`,s=`${window.location.search}`,i=window.location.pathname;if(t!==s&&this.query.length>0)if(0===i.indexOf("/search/"))this.store.dispatch(q,"submit"),this.emitNewSearch(),this.manageDisplay({action:Si.BOX_CLOSED,event:e});else{const e=i.match(/\/intl\/\w+.\w+/);window.location.assign(`${e?e[0]:""}/search/${t}`)}}emitNewSearch(){const e=document.querySelector(".uni-search-results"),t=angular.element(e).scope(),s=new URLSearchParams({query:this.query}).toString();window.history.pushState({query:this.elements.searchInput.value},"",`?${s}`),t.$root.$broadcast("updateSearch")}onBodyClick(e){this.isExpanded&&!this.eventIsFromInside(e)&&this.manageDisplay({action:Si.BOX_CLOSED,handleFocus:!1,event:e})}eventIsFromInside(e){let{target:t}=e;for(;t!==document.body&&!t.classList.contains("uni-search")&&!t.classList.contains("uni-header__kebab-search");)t=t.parentElement;return t!==document.body}clearInput(){this.elements.searchInput.value="",this.setQuery("")}setQuery(e){this.query!==e&&(this.query=e)}selectElement(e){return this.el.querySelector(e)}toggleBodyOverlay(){document.body.classList.toggle("overlaybodysearch")}toggleSearchBox(e){this.handleSRAccessibility(e),this.el.classList.toggle("uni-search--visible")}async handleSRAccessibility(e){this.isExpanded?(this.el.setAttribute("aria-hidden","true"),this.el.setAttribute("aria-expanded","false"),e&&(await ri(350),this.elements.searchToggle.focus(),this.el.style.display="none")):(this.el.style.display="flex",this.el.setAttribute("aria-hidden","false"),this.el.setAttribute("aria-expanded","true"))}handleFocusTrap(e){let{preventDefault:t,shiftKey:s}=e,i=!1;s&&document.activeElement===this.elements.searchInput?(i=!0,this.elements.closeButton.focus()):s||document.activeElement!==this.elements.closeButton||(i=!0,this.elements.searchInput.focus()),i&&t()}getLogoSize(){const e=this.elements.logoBlock,t=getComputedStyle(e);return parseInt(t.width)}setVariableCSSWidth(){const e=this.elements.root,t=this.getLogoSize()+290;e.style.setProperty("--widthLogo",`${t}px`)}}var Ei=_i;const Ai="hide-component",Li="slide-up",Ci="hide-progress-bar",ki="VISIBLE/PROGRESS_BAR",Ti="HIDE/PROGRESS_BAR_MENU_COMPONENTS",Ii="HIDE/PROGRESS_BAR";class Oi extends de.Z{constructor(e){super(e),this.elements={},this.isArticleComponent=!1,this.progressBarPercentages=new Set,this.isMobile=!ie()&&!ne()&&!oe(),this.isProgressBarVisible=!1}init(){return super.init(),this.makeAccesibleElements(!0),this}_elements(){this.elements.articleWrapper=this.document.querySelector(".uni-article-wrapper"),this.elements.progressBarIndicator=this.document.querySelector(".uni-article-progress-bar__indicator"),this.elements.progressBarSocial=this.el.querySelector(".uni-article-progress-bar__social"),this.elements.progressBarTitle=this.el.querySelector(".uni-article-progress-bar__title"),this.elements.desktopMenuContainer=this.document.querySelector(".uni-navigation"),this.elements.newsletterHeader=this.document.querySelector(".uni-header__newsletter--cta--desktop"),this.elements.kebabButton=this.document.querySelector(".uni-header__kebab-toggle"),this.elements.searchBox=this.document.querySelector(".uni-search"),this.elements.kebabMenu=this.document.querySelector(".uni-header__kebab"),this.elements.kebabIcon=this.document.querySelector(".uni-header__kebab-rss-icon"),this.elements.socialShareButton=this.el.querySelector(".uni-social-share")}_events(){this.elements.articleWrapper&&(this.store.dispatch(ki),this.isArticleComponent=!0),window.addEventListener("resize",(()=>{this.isMobile=!ie()&&!ne()&&!oe()}))}update(e){let{type:t,data:s}=e;switch(t){case ce.V.SCROLLED:this.isArticleComponent&&this.scrolledProgressBar(s);break;case Ti:this.isArticleComponent&&this.displayMenuComponents(!0);break;case Ii:this.isArticleComponent&&this.isProgressBarVisible&&(this.hideProgressBar(),this.displayMenuComponents(!1));break;case Si.BOX_OPENED:this.isArticleComponent&&this.elements.searchBox.classList.add(Ci);break;case Si.BOX_CLOSED:this.isArticleComponent&&this.elements.searchBox.classList.remove(Ci)}}makeAccesibleElements(e){this.elements.socialShareButton.setAttribute("aria-hidden",e),this.elements.socialShareButton.classList.add(Ci)}getArticleHeight(){return this.elements.articleWrapper.clientHeight}scrolledProgressBar(e){const t=e.scroll/this.getArticleHeight()*100;this.elements.progressBarIndicator.style.width=`${t}%`,e.scroll>=600&&e.delta>0&&!this.isProgressBarVisible?(this.store.dispatch(Ti),this.showProgressBar()):e.delta<0&&this.isProgressBarVisible&&this.displayMenuComponents(!1),t>100&&this.isProgressBarVisible&&(this.store.dispatch(Ii),this.displayMenuComponents(!1))}hideProgressBar(){new Promise((e=>{this.elements.progressBarIndicator.classList.add(Ci),this.elements.socialShareButton.classList.add(Ci),this.el.classList.add(Li),setTimeout(e,50)})),this.isMobile&&this.elements.kebabMenu.classList.remove(Ai),this.isProgressBarVisible=!1}showProgressBar(){new Promise((e=>{this.el.classList.remove(Li),this.elements.socialShareButton.classList.remove(Ci),setTimeout(e,200)})).then((()=>this.elements.progressBarIndicator.classList.remove(Ci))),this.isMobile&&this.elements.kebabMenu.classList.add(Ai),this.isProgressBarVisible=!0}displayMenuComponents(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const s=e(),i=[this.elements.desktopMenuContainer,this.elements.kebabButton,this.elements.kebabIcon];this.elements.desktopMenuContainer?"en-us"===s?this.hideMenuComponents(t,[...i,this.elements.newsletterHeader]):(this.el.classList.add("uni-progress-bar__de"),this.hideMenuComponents(t,i)):(this.elements.kebabButton.classList.add(Ai),this.elements.kebabIcon.classList.add(Ai))}hideMenuComponents(e,t){t.forEach((t=>{e?null==t||t.classList.add(Ai):null==t||t.classList.remove(Ai)}))}}var xi=Oi;const Pi={iconHamburger:".uni-header__hamburguer-button",kebabWrapper:".uni-header__kebab",kebabButton:".uni-header__kebab-toggle",kebabMenu:".uni-header__kebab-menu",kebabMenuItem:".uni-header__kebab-menu-item > a",searchIcon:".uni-header__kebab-search",skipContent:".h-c-header__jump-to-content",siteTitle:".uni-header__site-title-link",siteSpaceTitle:".uni-header__site-title > a",mobileMenuContainer:".uni-navigation--mobile",newsletterHeader:".uni-header__newsletter--cta--desktop",skipContentActive:"h-c-header__jump-to-content--active",closeButton:".uni-navigation__close"},Bi={H_CLICK:"HAMBURGER/CLICK",S_CLICK:"SEARCH_ICON/CLICK",S_TOUCH:"SEARCH_ICON/TOUCH"},Di="focus",Ri="focusout";class qi extends de.Z{constructor(e){super(e),this.isShown=!0,this.isMegaMenuOpen=!1,this.isKebabOpen=!1,this.elems={el:e},this.accessibility=new class{constructor(e,t){this.header=e,this.classes=t}attach(){pe.Z.on(pe.R.Down,(e=>this.onKeyDown(e))),pe.Z.on(pe.R.Up,(e=>this.onKeyUp(e))),pe.Z.on(pe.R.Left,(e=>this.onKeyLeftOrRight(e))),pe.Z.on(pe.R.Right,(e=>this.onKeyLeftOrRight(e))),pe.Z.on(pe.R.Escape,(()=>this.onKeyEscape()))}isLink(e){return this.header.elems.kebabMenuItems.indexOf(e)>=0}getFirstLink(){return this.header.elems.kebabMenuItems[0]}getLastLink(){return this.header.elems.kebabMenuItems[this.header.elems.kebabMenuItems.length-1]}isToggle(e){return e===this.header.elems.kebabButton}isFirstLink(e){return e===this.getFirstLink()}isLastLink(e){return e===this.getLastLink()}focusNextLink(){const e=this.header.elems.kebabMenuItems.indexOf(document.activeElement);e>=0&&e+1<this.header.elems.kebabMenuItems.length&&this.header.elems.kebabMenuItems[e+1].focus()}focusPreviousLink(){const e=this.header.elems.kebabMenuItems.indexOf(document.activeElement);e>0&&this.header.elems.kebabMenuItems[e-1].focus()}onKeyEscape(){this.header.isKebabOpen&&this.header.closeKebab()}onKeyLeftOrRight(e){let{preventDefault:t}=e;this.isLink(document.activeElement)&&(t(),this.header.elems.kebabButton.focus())}onKeyUp(e){let{preventDefault:t}=e;this.isToggle(document.activeElement)?this.isToggle(document.activeElement)&&t():(this.isLink(document.activeElement)&&t(),this.isFirstLink(document.activeElement)?this.header.elems.kebabButton.focus():this.isFirstLink(document.activeElement)||this.focusPreviousLink())}onKeyDown(e){let{preventDefault:t}=e;this.isToggle(document.activeElement)?(t(),this.header.isKebabOpen||this.header.openKebab(),this.getFirstLink().focus()):this.isLastLink(document.activeElement)?this.isLastLink(document.activeElement)&&t():(t(),this.focusNextLink())}}(this,Pi),this.isIOS=Z(),this.isVisibleprogressBar=!1}update(e){let{type:t,data:s}=e;switch(t){case yi.CLOSE_MEGA_MENU:this.isMegaMenuOpen=!1;break;case yi.OPEN_MEGA_MENU:this.showHeader(),this.isMegaMenuOpen=!0;break;case ce.V.SCROLLED:this.onPageScrolled(s);break;case Le.S_NEXT:this.hideHeader();break;case Si.BOX_OPENED:this.elems.searchIcon.classList.add("hidden"),this.elems.newsletterBtn&&this.elems.newsletterBtn.classList.add("hidden"),this.isKebabOpen&&this.closeKebab();break;case Si.BOX_CLOSED:this.elems.searchIcon.classList.remove("hidden"),this.elems.newsletterBtn&&this.elems.newsletterBtn.classList.remove("hidden");break;case W:s===this.id&&this.isKebabOpen&&this.closeKebab();break;case ki:this.isVisibleprogressBar=!0}}_elements(){this.elems.hamburguerIcon=this.el.querySelector(Pi.iconHamburger),this.elems.kebabWrapper=this.el.querySelector(Pi.kebabWrapper),this.elems.kebabButton=this.el.querySelector(Pi.kebabButton),this.elems.kebabMenu=this.el.querySelector(Pi.kebabMenu),this.elems.searchIcon=this.el.querySelector(Pi.searchIcon),this.elems.kebabMenuItems=Array.from(this.el.querySelectorAll(Pi.kebabMenuItem)),this.elems.keywordLogo=this.el.querySelector(Pi.siteTitle)||this.el.querySelector(Pi.siteSpaceTitle),this.elems.mobileMenuContainer=this.document.querySelector(Pi.mobileMenuContainer),this.elems.newsletterBtn=this.el.querySelector(Pi.newsletterHeader)||null,this.elems.skipContent=this.el.querySelector(Pi.skipContent),this.elems.closeButton=document.querySelector(Pi.closeButton)}_events(){this.elems.hamburguerIcon.addEventListener("click",(()=>{this.store.dispatch(Bi.H_CLICK),this.store.dispatch(R,"open"),this.focusCloseHamburguerMenu(),this.isIOS&&window.matchMedia("(orientation: landscape)").matches&&this.handleLandscapeIOS()})),this.elems.searchIcon.addEventListener("click",(e=>{this.store.dispatch(Bi.S_CLICK,e),this.store.dispatch(q,"open")})),this.elems.searchIcon.addEventListener("touchend",(e=>{this.store.dispatch(Bi.S_CLICK,e),this.store.dispatch(q,"open")})),this.elems.kebabButton.addEventListener("click",(e=>{this.toggleKebab(),this.store.dispatch(C,e)})),pe.Z.on(pe.R.Space,(e=>this.onKeySpace(e))),this.accessibility.attach(),this.store.dispatch(H,{id:this.id,handle:this.elems.kebabWrapper}),this.elems.keywordLogo.addEventListener("click",(e=>{this.store.dispatch(L,e)})),this.elems.kebabMenuItems.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(k,e)}))})),this.elems.skipContent&&(this.elems.skipContent.addEventListener(Di,(e=>{this.focusSkipContent(e)})),this.elems.skipContent.addEventListener(Ri,(e=>{this.focusSkipContent(e)}))),this.isIOS&&window.addEventListener("resize",(()=>{this.handleLandscapeIOS()}))}onPageScrolled(e){let{viewportPercent:t,delta:s}=e;s>0?(this.isIOS&&this.isMegaMenuOpen&&this.handleLandscapeIOS(),t>=.42&&!this.isVisibleprogressBar?this.hideHeader():this.showHeader()):s<0&&(this.showHeader(),this.store.dispatch(Ii))}toggleKebab(){this.isKebabOpen?this.closeKebab():this.openKebab()}openKebab(){this.isKebabOpen=!0,this.elems.kebabMenu.classList.add("menu-is-open"),this.elems.kebabMenu.setAttribute("aria-open","true"),this.elems.kebabMenu.setAttribute("aria-hidden","false")}closeKebab(){this.isKebabOpen=!1,this.elems.kebabMenu.classList.remove("menu-is-open"),this.elems.kebabMenu.setAttribute("aria-open","false"),this.elems.kebabMenu.setAttribute("aria-hidden","true")}onKeySpace(e){let{preventDefault:t}=e;const s=document.activeElement;if(s.classList.contains(Pi.skipContent.substr(1))){t();const e=s.getAttribute("href");window.location.hash=e.replace(/^#/,"");const i=document.querySelector(e);i&&(i.scrollIntoView(),i.focus())}}showHeader(){this.isShown||(this.el.classList.remove("hidden"),this.isShown=!0)}hideHeader(){this.isShown&&!this.isMegaMenuOpen&&(this.el.classList.add("hidden"),this.isShown=!1,this.closeKebab())}handleLandscapeIOS(){const e=document.documentElement.clientHeight;if(e>window.innerHeight){const t=window.innerHeight/e*100;this.elems.mobileMenuContainer.style.height=`${t}%`}else this.elems.mobileMenuContainer.style.height="100%"}focusSkipContent(e){switch(e.type){case Di:e.target.parentElement.classList.add(Pi.skipContentActive);break;case Ri:e.target.parentElement.classList.remove(Pi.skipContentActive)}}focusCloseHamburguerMenu(){var e,t;null===(e=this.elems.closeButton)||void 0===e||e.focus(),null===(t=this.elems.iconHamburger)||void 0===t||t.setAttribute("aria-expanded","true")}}var Mi=qi;const Ni=".uni-navigation__list-mobile",Vi="moved";var Fi=class{constructor(e){let{element:t=null,target:s="",triggers:i=[],isOpen:n=!1}=e;this.element=t,this.triggers=this.setTriggers(i),this.target=this.setTarget(s),this.isOpen=n}init(){this.triggers.forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),this.showHide()}))}))}setTriggers(e){return e.map((e=>this.element.querySelector(e)))}setTarget(e){return this.element.querySelector(e)}show(){const e=this.element.querySelector(".uni-main-menu__subnav");this.target.classList.add(Wi.SHOW),this.element.classList.add(Wi.OPENED),document.querySelector(Ni).classList.add(Vi),e&&e.querySelector(".uni-main-menu__subnav-title").focus(),this.isOpen=!0}hide(){if(this.target.classList.remove(Wi.SHOW),this.element.classList.remove(Wi.OPENED),document.querySelector(Ni).classList.remove(Vi),this.isOpen){const[e]=this.triggers;e.focus()}this.isOpen=!1}showHide(){this.isOpen?this.hide():this.show()}};const $i=".uni-main-menu__item-label",Hi="overflow-hidden-menu--mobile",Wi={SHOW:"visible",HAS_SUBMENU:"has-submenu",OPENED:"opened"},Ui="aria-expanded",Zi="aria-hidden";class Ki extends de.Z{constructor(e){super(e),this.isClosed=!0}_elements(){this.keywordLogo=this.el.querySelector(".uni-header__site-title-link"),this.overlayBox=document.querySelector(".overlay-body-menu--mobile"),this.firstLevelLabels=this.el.querySelectorAll($i),this.kebabItems=this.el.querySelectorAll(".uni-header__kebab-menu-item a"),this.kebabSearch=document.querySelector(".uni-header__kebab-search"),this.newsCtas=this.el.querySelectorAll(".uni-main-menu__subnav-sublist-link--all"),this.seeAllProducts=this.el.querySelector("a.uni-main-menu__subnav-item-name--landing.uni-main-menu__subnav-item-name--mobile"),this.productLinks=this.el.querySelectorAll("[data-navigation='Product-updates']"),this.newsLinks=this.el.querySelectorAll("[data-navigation='Company-news']"),this.categorieTitles=this.el.querySelectorAll("h5.uni-main-menu__subnav-item-name--mobile"),this.secondLevelObjects=[...this.el.querySelectorAll(".uni-main-menu__item--mobile")].filter((e=>e.classList.contains(Wi.HAS_SUBMENU))).map((e=>new Fi({element:e,target:".uni-main-menu__subnav--mobile",triggers:[$i,".uni-main-menu__subnav-title--mobile"]}))),this.thirdLevelObjects=[...this.el.querySelectorAll(".uni-main-menu__subnav-item--mobile")].filter((e=>e.classList.contains(Wi.HAS_SUBMENU))).map((e=>new Fi({element:e,target:".uni-main-menu__subnav-sublist--mobile",triggers:[".uni-main-menu__subnav-item-name--mobile"]}))),this.closeBtn=this.el.querySelector(".uni-navigation__close"),this.window=window,this.newsletterBtn=this.el.querySelector(".uni-header__newsletter--cta--mobile")||null,this.menuHumburguerButton=document.querySelector(".uni-header__hamburguer-button"),this.mainContent=document.querySelector(".site-content"),this.focusElements=this.el.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),this.lastFocusable=this.focusElements[this.focusElements.length-1],this.footer=document.querySelector(".h-c-footer"),this.newsletter=document.querySelector(".uni-newsletter-toast"),this.header=document.querySelector(".uni-header")}_events(){this.overlayBox.addEventListener("click",(()=>{this.showHide(),this.store.dispatch(R,"close")})),this.secondLevelObjects.forEach((e=>{e.init(),e.triggers[e.triggers.length-1].addEventListener("click",(()=>{this.thirdLevelObjects.forEach((e=>{e.hide()}))}))})),this.thirdLevelObjects.forEach((e=>{e.init()})),this.closeBtn.addEventListener("click",(e=>{this.showHide(),this.store.dispatch(R,"close"),this.store.dispatch(D,e)})),this.firstLevelLabels.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(k,e)}))})),this.kebabItems.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(k,e)}))})),this.newsCtas.forEach((e=>{e.addEventListener("click",(t=>{const s={slug:e.getAttribute("data-navigation"),event:t};this.store.dispatch(P,s)}))})),this.seeAllProducts&&this.seeAllProducts.addEventListener("click",(e=>{this.store.dispatch(x,e)})),this.productLinks.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(I,e)}))})),this.newsLinks.forEach((e=>{e.addEventListener("click",(e=>{this.store.dispatch(O,e)}))})),this.categorieTitles.forEach((e=>{e.addEventListener("click",(t=>{e.parentNode.classList.contains("opened")&&this.store.dispatch(T,t)}))})),this.keywordLogo.addEventListener("click",(e=>{this.store.dispatch(L,e)})),this.newsletterBtn&&this.newsletterBtn.addEventListener("keydown",(e=>{this.moveFocusToTop(e)})),this.closeBtn.addEventListener("keydown",(e=>{this.moveFocusToBottom(e)}))}update(e){let{type:t}=e;t===Bi.H_CLICK&&this.showHide()}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.el;e.classList.add(Wi.SHOW),this.kebabSearch.setAttribute("tabindex",-1),this.toggleAccessibilityElements(e,!1),this.isClosed=!1,e===this.el&&this.toggleOverflowBody()}hide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.el;e.classList.remove(Wi.SHOW),this.kebabSearch.removeAttribute("tabindex"),this.toggleAccessibilityElements(e,!0),this.isClosed=!0,this.secondLevelObjects.forEach((e=>{e.hide()})),this.thirdLevelObjects.forEach((e=>{e.hide()})),e===this.el&&this.toggleOverflowBody()}showHide(){this.isClosed?(this.show(),this.show(this.overlayBox)):(this.hide(),this.hide(this.overlayBox))}toggleOverflowBody(){document.body.classList.toggle(Hi),document.documentElement.classList.toggle(Hi)}toggleAccessibilityElements(e,t){var s;e.setAttribute(Ui,!t),this.closeBtn.setAttribute(Ui,!t),this.mainContent.setAttribute(Zi,!t),this.kebabSearch.setAttribute(Zi,!t),this.closeBtn.setAttribute(Zi,t),this.el.setAttribute(Zi,t),this.footer.setAttribute(Zi,!t),null===(s=this.newsletter)||void 0===s||s.setAttribute(Zi,!t),this.header.setAttribute(Zi,!t)}focusHamburguerMenu(){this.menuHumburguerButton.focus(),this.closeBtn.classList.remove("focus-visible")}moveFocusToTop(e){pe.R.Tab&&!e.shiftKey&&(setTimeout((()=>{this.closeBtn.focus()}),5),this.lastFocusable.blur())}moveFocusToBottom(e){pe.R.Tab&&e.shiftKey&&(this.closeBtn.blur(),setTimeout((()=>{this.lastFocusable.focus()}),5))}}var Yi=Ki,Gi=s(155),ji=s(797);const zi="module-yt-homepage-multi-video",Xi="module-yt-homepage-video",Ji={VIDEO_PLAYER:`.${Xi}__video-player`,VIDEO_ITEM:`.${zi}__video`,VIDEO_TITLE:`.${zi}__video-title`,VIDEO_COVER:".uni-article-video__aspect-image",VIDEO_FOCUS:`.${Xi}__video-player .uni-article-video__custom-wrapper`,VIDEO_CTA:`.${Xi}__cta`,TITLE:`.${Xi}__info-title`,DESCRIPTION:`.${Xi}__info-description`,COVER:`.${Xi} .uni-article-video__aspect-image img`},Qi={VIDEO_ACTIVE:`${zi}__video--active`};class en extends de.Z{constructor(e){super(e),this._service=ji.Z,this._wasInView=!1,this._shouldBeInView=!1}init(){super.init();for(const[e,t]of this.elems.videos.entries()){const s=t.dataset.videoId;this._service.registerVideo(t,s,e+1,this.elems.videos.length)}return this._service.registerPlayer(this.elems.player).then((()=>{if(this._shouldBeInView&&!this._wasInView){const e=this._service.getPlayer(this.elems.player);this._handleInView(e)}else this._wasInView||this._testInView()})),this}update(e){let{type:t,data:s}=e,i=null;try{i=this._service.getPlayer(this.elems.player)}catch(e){}switch(t){case Gi.ArticleYoutubePlayerActions.VIDEO_PLAYING:i&&i.videoId!==s.videoId&&i.pauseVideo();break;case ce.V.SCROLLED:this._wasInView||this._testInView()}}_testInView(){if(this._shouldBeInView)return;const{y:e,height:t}=this.el.getBoundingClientRect();if(!(e+t<=0||e>=window.innerHeight))try{const e=this._service.getPlayer(this.elems.player);this._handleInView(e)}catch(e){this._shouldBeInView=!0}}_handleInView(e){this._wasInView=!0;const t=this._service.getVideoPosition(e.videoId);for(const[s,i]of this.elems.videos.entries())t.position=s+1,this._service.pushAction("in view",e.player,t,{videoTitle:i.querySelector(Ji.VIDEO_TITLE).innerText,videoUrl:i.dataset.videoUrl,duration:0===s?e.videoDuration:-1})}_updateInfo(e,t){if(e){const s=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||e;t?(e.style.display="",e.setAttribute("aria-hidden","false"),s.innerText=t):(e.style.display="none",e.setAttribute("aria-hidden","true"),s.innerText="")}}_switchVideo(e,t,s,i,n){this._updateInfo(this.elems.title,t),this._updateInfo(this.elems.description,s),this._updateInfo(this.elems.cta,n,this.elems.cta.querySelector("span")),this.elems.cover.src=i,this._service.playVideoIn(e,this.elems.player);for(const e of this.elems.videos)e.classList.remove(Qi.VIDEO_ACTIVE),e.setAttribute("aria-checked","false");e.classList.add(Qi.VIDEO_ACTIVE),e.setAttribute("aria-checked","true")}_elements(){this.elems={player:this.el.querySelector(Ji.VIDEO_PLAYER),playerFocus:this.el.querySelector(Ji.VIDEO_FOCUS),videos:this.el.querySelectorAll(Ji.VIDEO_ITEM),title:this.el.querySelector(Ji.TITLE),description:this.el.querySelector(Ji.DESCRIPTION),cover:this.el.querySelector(Ji.COVER),cta:this.el.querySelector(Ji.VIDEO_CTA)}}_events(){this.elems.cta&&this.elems.cta.addEventListener("click",(()=>{this._service.getPlayer(this.elems.player).playVideo("cta"),this.elems.playerFocus.focus()}));const e=e=>{const t=this._getVideoDetails(e);this._switchVideo(e,t.title,t.description,t.cover,t.cta),this.elems.playerFocus.focus()};for(const t of this.elems.videos)t.addEventListener("click",(()=>e(t)));const t=t=>{const s=Array.from(this.elems.videos).indexOf(document.activeElement);s>=0&&(t.preventDefault(),e(this.elems.videos[s]))};pe.Z.on(pe.R.Enter,t),pe.Z.on(pe.R.Space,t)}_getVideoDetails(e){return{title:e.querySelector(Ji.VIDEO_TITLE).innerText,description:e.dataset.videoDescription,cover:e.querySelector(`${Ji.VIDEO_COVER} img`).src,cta:e.dataset.videoCta}}}const tn="container-visible",sn="container-hidden",nn="click",on={alphaNumeric:/^[a-zA-Z0-9À-ÿ \u0110\u0111 \- ]*$/,validEmail:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},rn="Email address contains error(s).",an="Enter an email address.",ln={event:"page interaction",category:"newsletter",action:"homepage"},cn=window.matchMedia("(min-width: 1024px)");class hn extends de.Z{constructor(e){super(e),this.emailValue={}}init(){super.init()}_elements(){this.emailFields=this.el.querySelectorAll(".uni_subscribe_email"),this.emailFieldErrors=this.el.querySelectorAll(".uni_subscribe_email--error"),this.subscribeButton=this.el.querySelector(".newsletter-form__submit"),this.form=this.el.querySelector(".newsletter-form__form"),this.formContainer=this.el.querySelector(".newsletter-form__form-container"),this.loading=this.el.querySelector(".newsletter-form__loading"),this.error=this.el.querySelector(".newsletter-form__error"),this.success=this.el.querySelector(".newsletter-form__success"),this.differentEmailButton=this.el.querySelector(".newsletter-form__different-email"),this.parallaxHomepageNewsletter=this.el.querySelector(".newsletter-homepage-form__icon-wrapper"),this.chatboxHomepageNewsletter=this.el.querySelector(".newsletter-homepage-form__icon-wrapper .chat-icon")}_events(){this.subscribeButton.addEventListener(nn,(e=>{e.preventDefault(),e.stopPropagation(),this.emailFields.forEach((e=>{this.validateEmail(e)}))})),this.emailFields.forEach((e=>{e.addEventListener(nn,(()=>{this.resetFieldValidation()})),e.addEventListener("keydown",(()=>{this.resetFieldValidation()}))})),this.differentEmailButton.addEventListener(nn,(()=>{this.emailFields.forEach((e=>{e.value=""})),this.success.classList.remove(tn),this.formContainer.classList.remove(sn),this.parallaxHomepageNewsletter.classList.remove(sn)}))}update(e){let{type:t}=e;t===Ze&&cn.matches&&this.onScroll()}onScroll(){const{y:e}=this.el.getBoundingClientRect(),t=3*window.innerHeight/4,s=t>e,i=.1*(t-e);s&&i<30&&(this.parallaxHomepageNewsletter.style.transform=`translateY(-${i}px)`),s&&this.chatboxHomepageNewsletter.classList.add("chat-icon--animated")}validateEmail(e){const t=e.value,[s,i]=t.split("@");t?!on.validEmail.test(t)||s.length>64||i.length>255?(this.setEmailValue({isValid:!1,message:rn,value:t}),this.setEmailError(e),this.pushSubscribeAnalytics("error: Email address contains error(s).")):(this.pushSubscribeAnalytics("subscribe"),this.setEmailValue({isValid:!0,message:"",value:t}),this.formContainer.classList.add(sn),window.innerWidth<768&&this.parallaxHomepageNewsletter.classList.add(sn),this.manageLoader({show:!0}),this.postData()):(this.setEmailValue({isValid:!1,message:an,value:t}),this.setEmailError(e),this.pushSubscribeAnalytics("error: Enter an email address."))}setEmailValue(e){let{isValid:t=!0,message:s="",value:i=""}=e;this.emailValue={isValid:t,message:s,value:i}}setEmailError(e){e.setCustomValidity("Invalid"),this.emailFieldErrors.forEach((e=>{e.innerText=this.emailValue.message,e.classList.add(tn)})),e.focus()}manageNetworkError(e){let{show:t=!0}=e;t?(this.networkerror=!0,this.error.innerText="Something went wrong when connecting. Please try again.",this.error.classList.add(tn)):(this.networkerror=!1,this.error.classList.add(sn))}manageLoader(e){let{show:t=!0}=e;t?this.loading.classList.add(tn):this.loading.classList.remove(tn)}postData(){const e={url:this.form.getAttribute("data-action"),method:this.form.getAttribute("data-method")};new si(e).postToFBX({EmailAddress:this.emailValue.value,LanguagePreference:"en-US",TheKeywordNews:"UNCONFIRMED"}).then((()=>{this.store.dispatch("NEWSLETTER/SUBSCRIBED"),this.manageLoader({show:!1}),this.success.classList.add(tn)})).catch((e=>{e&&e.errors.EmailAddress?(this.setEmailValue({isValid:!1,message:rn,value:""}),this.error.innerText=this.emailValue.message):(this.manageNetworkError({show:!0}),this.emailFields.forEach((e=>{e.value=""})),this.formContainer.classList.remove("hidden")),this.manageLoader({show:!1})}))}resetFieldValidation(){this.emailFields.forEach((e=>{e.setCustomValidity("")})),this.error.classList.remove(tn),this.emailFieldErrors.forEach((e=>{e.classList.add(sn)}))}pushSubscribeAnalytics(e){const t={...ln};t.label=`screen 1: ${e}`,t.contentType=this.subscribeButton.getAttribute("data-content-type"),r.ZP.dispatchEvent(t)}}var un=hn;const dn={1:{haveInput:"Other"},2:{haveInput:"Other",restrictions:["Select an option"]},4:{haveInput:"Other"}},mn="uni-survey__helper-hide";class pn extends de.Z{constructor(e){super(e),this.typeInput=this.el.dataset.surveyType,this.step=this.el.dataset.surveyStep,this.value="",this.openInput=!1,this.dataTypeInput={radiobutton:{fnValidator:this.validateInput.bind(this),selectorItem:`input[name=uni-input-${this.step}]`,eventTracker:"change"},dropdown:{fnValidator:this.validateInput.bind(this),selectorItem:`.uni-dropdown-${this.step}`,eventTracker:"change"},checkbox:{fnValidator:this.validateCheckbox.bind(this),selectorItem:`input[name=uni-input-${this.step}]`,eventTracker:"change"},textfield:{fnValidator:this.validateTextfield.bind(this),selectorItem:`.uni-textfield-${this.step}`,eventTracker:"keyup"}}}_elements(){}_events(){this.dataTypeInput[this.typeInput].fnValidator()}update(e){let{type:t}=e;switch(t){case Le.S_SUBMIT:c.Z.dispatch(ii,[this.step,this.value]),c.Z.dispatch(w,{step:this.step,value:this.value});break;case Le.S_NEXT:if(this.openInput){const e=this.document.querySelector(`.uni-survey-input__helper--${this.step}`).querySelector("input").value;"checkbox"===this.typeInput?this.value=e.length>0?this.value.replace("Other",`OthR/${e}`):this.value:this.value=e.length>0?`Oth/${e}`:this.value}break;case Le.S_CLOSE_COLLECT:c.Z.dispatch(S,{step:this.step,value:this.value})}}validateInput(){[...this.el.querySelectorAll(this.dataTypeInput[this.typeInput].selectorItem)].forEach((e=>{e.addEventListener(this.dataTypeInput[this.typeInput].eventTracker,(t=>{const s=t.target;switch(this.typeInput){case"radiobutton":this.value=t.target.value;break;case"dropdown":this.value=e.options[s.selectedIndex].value}this.extraValidationInput(),this.validateRestrictionsInput()}))}))}validateRestrictionsInput(){dn[this.step]&&dn[this.step].restrictions&&dn[this.step].restrictions.includes(this.value)?this.store.dispatch(Le.S_DISABLE,{step:this.step}):this.store.dispatch(Le.S_ENABLE,{step:this.step})}validateCheckbox(){[...this.el.querySelectorAll(this.dataTypeInput[this.typeInput].selectorItem)].forEach((e=>{e.addEventListener(this.dataTypeInput[this.typeInput].eventTracker,(()=>{const e=[...this.el.querySelectorAll(`input[name=uni-input-${this.step}]:checked`)],t=e.map((e=>e.value));this.value=t.join(", "),this.extraValidationInput(),0===e.length?this.store.dispatch(Le.S_DISABLE,{step:this.step}):this.store.dispatch(Le.S_ENABLE,{step:this.step})}))}))}validateTextfield(){const e=this.el.querySelector(this.dataTypeInput[this.typeInput].selectorItem);e.addEventListener(this.dataTypeInput[this.typeInput].eventTracker,(()=>{this.value=e.value,""===this.value?this.store.dispatch(Le.S_DISABLE,{step:this.step}):this.store.dispatch(Le.S_ENABLE,{step:this.step})})),e.addEventListener("focus",(()=>this.store.dispatch(Le.S_FOCUS_CHANGED,{item:e})))}extraValidationInput(){dn[this.step]&&(dn[this.step].haveInput&&0!==this.value.length&&this.value.includes(dn[this.step].haveInput)?(this.manageHelperInputText(!0),this.store.dispatch(Le.S_ENABLE,{step:this.step})):this.manageHelperInputText(!1))}manageHelperInputText(e){const t=this.document.querySelector(`.uni-survey-input__helper--${this.step} input`);e?(this.openInput=!0,this.document.querySelector(`.uni-survey-input__helper--${this.step}`).classList.remove(mn),t.removeAttribute("disabled"),this.document.querySelector(`.uni-survey__helper-text--${this.step}`).classList.remove(mn),this.store.dispatch(Le.S_SHOW_OTHER,{step:this.step})):(this.openInput=!1,this.document.querySelector(`.uni-survey-input__helper--${this.step}`).classList.add(mn),t.setAttribute("disabled",!0),this.document.querySelector(`.uni-survey__helper-text--${this.step}`).classList.add(mn))}}class gn extends a.Z{constructor(){super(),this.analyticsEvent={event:"page interaction",category:"navigation"}}pushAction(e,t){this.analyticsEvent.action=e,this.analyticsEvent.label=t.labelTag,this.analyticsEvent.pagePath=t.pagePath,this.pushClickEvent()}}class vn extends de.Z{constructor(e){super(e),this.elems={},this.analyticsDropDown=new gn}_elements(){this.elems.select=this.el.querySelector(".uni-picker__order-menu")}_events(){this.elems.select.addEventListener("change",(e=>{let{target:t}=e;this.setAnalytics(t),this.redirectPage()}))}redirectPage(){window.location.href=this.elems.select.value}setAnalytics(e){if(!e)return;const t=e.options[e.selectedIndex],s={labelTag:`${t.text} | ${t.value}`,pagePath:t.value};this.analyticsDropDown.pushAction("footer",s)}}var yn=vn;const bn={"all-products":".uni-blog-landing-hero__subheading-link"};class fn extends de.Z{constructor(e){super(e)}init(){super.init(),this.validateActiveLinkSection()}_elements(){this.mainHTML=this.document.body.parentNode}validateActiveLinkSection(){for(const e in bn){if(this.document.querySelector(`#${e}`)){const t=bn[e],s=this.document.querySelector(t);this.showLink(s)}this.mainHTML.classList.add("smooth-scroll")}}showLink(e){e&&e.classList.add("uni-blog-landing-hero__subheading-link--show")}}var wn=fn,Sn={a:{color:"#148cb8"},b:{color:"#d93025"},c:{color:"#1e8e3e"},d:{color:"#ea8600"},e:{color:"#9c27b0"},f:{color:"#ad1457"},g:{color:"#0097a7"},h:{color:"#3c4043"},i:{color:"#1d649c"},j:{color:"#be214e"},k:{color:"#368a61"},l:{color:"#d3472d"},m:{color:"#726fd6"},n:{color:"#b2546a"},o:{color:"#507492"},p:{color:"#5f6368"},q:{color:"#7d8fae"},r:{color:"#c84c80"},s:{color:"#367666"},t:{color:"#7f3017"},u:{color:"#ac1e9b"},v:{color:"#668d95"},w:{color:"#c46b6b"},x:{color:"#004d3f"},y:{color:"#ab5a99"},z:{color:"#375874"},"ا":{color:"#148cb8"},"ب":{color:"#c74031"},"ت":{color:"#1e8e3e"},"ث":{color:"#ea8600"},"ج":{color:"#9c27b0"},"ح":{color:"#ad1457"},"خ":{color:"#479cac"},"د":{color:"#3c4043"},"ذ":{color:"#1d649c"},"ر":{color:"#be214e"},"ز":{color:"#368a61"},"س":{color:"#d3472d"},"ش":{color:"#726fd6"},"ص":{color:"#b2546a"},"ض":{color:"#507492"},"ط":{color:"#5f6368"},"ظ":{color:"#7d8fae"},"ع":{color:"#c84c80"},"غ":{color:"#367666"},"ف":{color:"#7f3017"},"ق":{color:"#ac1e9b"},"ك":{color:"#668d95"},"ل":{color:"#c46b6b"},"م":{color:"#004d3f"},"ن":{color:"#aB5a99"},"ه":{color:"#375874",fullMonogram:"هـ"},"و":{color:"#1a237e"},"ي":{color:"#512da8"}};class _n extends de.Z{afterInit(){const e=(this.el.dataset.author||"").charAt(0).toLowerCase(),t=Sn[e],s=(null==t?void 0:t.color)||"#757575",i=(null==t?void 0:t.fullMonogram)||e;this.el.style.backgroundColor=s,this.el.innerHTML=i.toUpperCase()}}var En=_n;class An extends de.Z{_elements(){this.links=this.el.querySelectorAll("a")}_events(){this.links.forEach((e=>{e.addEventListener("click",this._handleClick)}))}_handleClick(e){e.preventDefault()}}var Ln=An;const Cn="container-visible",kn="container-hidden",Tn="success-icon-visible",In="user-subscribed",On="click",xn={alphaNumeric:/^[a-zA-Z0-9À-ÿ \u0110\u0111 \- ]*$/,validEmail:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/},Pn="Email address contains error(s).",Bn="Enter an email address.",Dn={event:"page interaction",category:"newsletter"};class Rn extends de.Z{constructor(e){super(e),this.emailValue={}}init(){super.init(),this.checkUserSubscribedOnCurrentBrowser()}_elements(){this.emailFields=this.el.querySelectorAll(".uni_subscribe_email"),this.emailFieldErrors=this.el.querySelectorAll(".uni_subscribe_email--error"),this.subscribeButton=this.el.querySelector(".newsletter-form__submit"),this.form=this.el.querySelector(".newsletter-form__form"),this.formContainer=this.el.querySelector(".newsletter-form__form-container"),this.loading=this.el.querySelector(".newsletter-form__loading"),this.error=this.el.querySelector(".newsletter-form__error"),this.success=this.el.querySelector(".newsletter-form__success"),this.differentEmailButton=this.el.querySelector(".newsletter-form__different-email"),this.stickyEnvelope=this.el.querySelector(".newsletter-form__envelope.sticky"),this.successText=this.el.querySelector("#subscribe_box_success_label"),this.isInSticky=this.subscribeButton.parentElement.parentElement.parentElement.classList.contains("sticky")}_events(){this.subscribeButton.addEventListener(On,(e=>{e.preventDefault(),e.stopPropagation(),this.emailFields.forEach((e=>{this.validateEmail(e)}))})),this.emailFields.forEach((e=>{e.addEventListener("focus",(()=>{this.resetFieldValidation()})),e.addEventListener("keydown",(()=>{this.resetFieldValidation()}))})),this.differentEmailButton.addEventListener(On,(()=>{this.emailFields.forEach((e=>{e.value=""})),this.success.classList.remove(Cn),this.formContainer.classList.remove(kn),this.el.classList.remove(Tn,In)}))}validateEmail(e){const t=e.value,[s,i]=e.value.split("@");t?!xn.validEmail.test(t)||s.length>64||i.length>255?(this.setEmailValue({isValid:!1,message:Pn,value:t}),this.setEmailError(e),this.pushSubscribeAnalytics("error: Email address contains error(s).")):(null!==this.stickyEnvelope&&window.innerWidth>=1024&&this.isInSticky&&this.stickyEnvelope.classList.add(kn),this.pushSubscribeAnalytics("subscribe"),this.setEmailValue({isValid:!0,message:"",value:t}),this.formContainer.classList.add(kn),this.manageLoader({show:!0}),this.postData()):(this.setEmailValue({isValid:!1,message:Bn,value:t}),this.setEmailError(e),this.pushSubscribeAnalytics("error: Enter an email address."))}setEmailValue(e){let{isValid:t=!0,message:s="",value:i=""}=e;this.emailValue={isValid:t,message:s,value:i}}setEmailError(e){e.setCustomValidity("Invalid"),this.emailFieldErrors.forEach((e=>{e.innerText=this.emailValue.message,e.classList.add(Cn)}))}manageNetworkError(e){let{show:t=!0}=e;t?(this.networkerror=!0,this.error.innerText="Something went wrong when connecting. Please try again.",this.error.classList.add(Cn)):(this.networkerror=!1,this.error.classList.add(kn))}manageLoader(e){let{show:t=!0}=e;t?this.loading.classList.add(Cn):this.loading.classList.remove(Cn)}postData(){const e={url:this.form.getAttribute("data-action"),method:this.form.getAttribute("data-method")};new si(e).postToFBX({EmailAddress:this.emailValue.value,LanguagePreference:"en-US",TheKeywordNews:"UNCONFIRMED"}).then((()=>{this.store.dispatch("NEWSLETTER/SUBSCRIBED"),this.manageLoader({show:!1}),this.success.classList.add(Cn),this.el.classList.add(Tn),this.setUserSubscriptionTracker(),this.pushSubscribeAnalytics("subscribe success","screen 2:"),this.successText&&(this.successText.innerHTML="<span>Done. Just one step more.</span> Check your inbox to confirm your subscription."),this.stickyEnvelope&&window.innerWidth<1024&&this.isInSticky&&this.stickyEnvelope.querySelector(".envelope-letter-google").classList.add(kn)})).catch((e=>{e&&e.errors&&(e&&e.errors.EmailAddress?(this.setEmailValue({isValid:!1,message:Pn,value:""}),this.error.innerText=this.emailValue.message):(this.manageNetworkError({show:!0}),this.emailFields.forEach((e=>{e.value=""})),this.formContainer.classList.remove("hidden"))),this.manageLoader({show:!1})}))}resetFieldValidation(){this.emailFields.forEach((e=>{e.setCustomValidity("")})),this.error.classList.remove(Cn),this.emailFieldErrors.forEach((e=>{e.classList.add(kn)}))}pushSubscribeAnalytics(e,t){const s={...Dn};s.action=`\n      ${this.subscribeButton.getAttribute("data-page-type")||"standalone page"}\n      - ${this.subscribeButton.getAttribute("data-page")}`,s.label=`${t||"screen 1:"} ${e}`,s.contentType=this.subscribeButton.getAttribute("data-content-type"),r.ZP.dispatchEvent(s)}checkUserSubscribedOnCurrentBrowser(){window.localStorage.getItem("wasSubscribedOnThisBrowser")&&this.el.classList.add(In,Tn)}setUserSubscriptionTracker(){window.localStorage.setItem("wasSubscribedOnThisBrowser",!0)}}var qn=Rn;const Mn="sticky-form__background",Nn="sticky-form__container--grow",Vn="sticky-form__mobile-cta--hidden",Fn="sticky-form__container--visible",$n="click";class Hn extends de.Z{constructor(e){super(e)}init(){super.init(),this.stickyBarVisible()}_elements(){this.stickyForm=this.el.querySelector(".sticky-form__container"),this.mobileCta=this.el.querySelector(".sticky-form__mobile-cta"),this.buttonCta=this.el.querySelector(".sticky-form__subscribe-cta"),this.closeButton=this.el.querySelector(".newsletter-form__close")}_events(){this.buttonCta.addEventListener($n,(()=>{this.stickyForm.classList.add(Nn),this.mobileCta.classList.add(Vn),this.createBackground()})),this.closeButton.addEventListener($n,(()=>{this.stickyForm.classList.remove(Nn),this.mobileCta.classList.remove(Vn),this.el.removeChild(this.el.querySelector(".sticky-form__background"))}))}createBackground(){const e=document.createElement("div");e.setAttribute("class",Mn),this.el.insertBefore(e,this.stickyForm)}stickyBarVisible(){new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&!this.stickyForm.classList.contains(Nn)?this.stickyForm.classList.remove(Fn):void 0!==window.localStorage.cookieConsent&&this.stickyForm.classList.add(Fn)}))})).observe(document.querySelector(".newsletter-form-section"))}}var Wn=Hn;const Un={textOnlyComponent:".uni-related-article-tout__content--text-only",text:".uni-related-article-tout__text",arrow:".uni-related-article-tout__arrow"};class Zn extends de.Z{constructor(e){super(e)}_elements(){this.elems=this.loadElements(Un)}init(){return super.init(),this.elems.textOnlyComponent&&this.removeArrowLineBreak(),this}removeArrowLineBreak(){const e=this.elems.text.innerText.split(" "),t=e.pop(),s=document.createElement("span");this.elems.text.innerText=e.join(" "),this.elems.text.innerText+=" ",s.classList.add("uni-related-article-tout__eol"),s.innerText=t,s.appendChild(this.elems.arrow),this.elems.text.appendChild(s),this.elems.textOnlyComponent.classList.add("uni-related-article-tout__content--visible")}}const Kn="uni-scrollable-tab__tab--active",Yn="click";class Gn extends de.Z{constructor(e){super(e),this.activeTabValue=""}init(){super.init(),this.setStateOfActiveTab(),this.handleChevrons(),this.triggerLoadTab()}_elements(){this.currentInitTab=null,this.tabsPageWidth=72,this.tabs=[...this.el.querySelectorAll(".uni-scrollable-tab__tab")],this.navigator=this.el.querySelector(".uni-scrollable-tab"),this.leftArrow=this.el.querySelector(".uni-scrollable-arrow-left"),this.rightArrow=this.el.querySelector(".uni-scrollable-arrow-right")}_events(){window.addEventListener("hashchange",(()=>{this.setStateOfActiveTab("all"),this.triggerLoadTab()}));for(const e of this.tabs)e.addEventListener(Yn,(e=>{let{target:t}=e;return this.handleTabSelection(t)})),e.addEventListener("keydown",(e=>this.onKeyDown(e)));this.navigator.addEventListener("scroll",(()=>this.handleChevrons())),this.leftArrow.addEventListener(Yn,(()=>this.leftClickChevron())),this.rightArrow.addEventListener(Yn,(()=>this.rightClickChevron()))}transformTextTab(e){return e.replace(/\s/g,"").toLowerCase()}setCurrentActiveTab(e){const t=decodeURIComponent(window.location.hash.slice(1));for(const e of this.tabs)this.transformTextTab(e.innerText)===t&&(this.activeTabValue=e.getAttribute("value"));!this.activeTabValue&&e&&(this.activeTabValue=e)}setStateOfActiveTab(e){this.setCurrentActiveTab(e);for(const e of this.tabs){const t=e.getAttribute("value");this.activeTabValue!==t&&"all"!==t||(this.setActiveSelectedTab(e),this.currentInitTab=e)}}setActiveSelectedTab(e){const t=this.el.querySelector(".uni-scrollable-tab__tab--active");t&&t.classList.remove(Kn),e&&e.classList.add(Kn),this.currentInitTab=e,this.moveTabNextSection()}onKeyDown(e){switch(e.keyCode){case 13:{const t=e.target;this.handleTabSelection(t);break}}}triggerLoadTab(){const e=new CustomEvent("SCROLLABLE/LOAD_TAB",{detail:{eventData:this.activeTabValue}});document.body.dispatchEvent(e)}handleAnalytics(e){const t=new a.Z;t.setAdditionalValues(e),t.pushClickEvent()}getAnalyticsAttribute(e){return JSON.parse(e.getAttribute("data-analytics"))}handleTabAnalyticsEvent(e){const t=this.getAnalyticsAttribute(e);t.label=t.label?`${location.pathname}#${t.label}`:location.pathname,this.handleAnalytics(t)}handleTabSelection(e){const t=this.transformTextTab(e.innerText);window.history.pushState({},"",window.location.pathname),window.history.pushState({},"",`#${t}`),this.setCurrentActiveTab(),this.setActiveSelectedTab(e),this.triggerLoadTab(),this.handleTabAnalyticsEvent(e)}handleChevrons(){const e=this.navigator.scrollLeft,t=this.navigator.offsetWidth+this.navigator.scrollLeft>=this.navigator.scrollWidth-1,s={element:this.rightArrow,activeClass:"uni-scrollable-arrow-right--active",condition:t},i={element:this.leftArrow,activeClass:"uni-scrollable-arrow-left--active",condition:!e};this.changeStateArrow(s),this.changeStateArrow(i)}changeStateArrow(e){e.condition?e.element.classList.remove(e.activeClass):e.element.classList.add(e.activeClass)}rightClickChevron(){const e=this.tabs.indexOf(this.currentInitTab);this.tabsPageWidth=72;for(let t=e;t<this.tabs.length;t++){const e=this.tabs[t];if(this.isMaxWidthOfNavigator(e)){this.setFirstElementToLastPage(e),this.moveTabNextSection(e);break}}this.handleChevrons(),this.handleAnalytics(this.getAnalyticsAttribute(this.rightArrow))}leftClickChevron(){const e=this.tabs.indexOf(this.currentInitTab);this.tabsPageWidth=72;for(let t=e;t>=0;t--){if(this.currentInitTab=this.tabs[t],this.isMaxWidthOfNavigator(this.currentInitTab)){this.moveTabNextSection();break}0===t&&this.moveTabNextSection()}this.handleChevrons(),this.handleAnalytics(this.getAnalyticsAttribute(this.leftArrow))}isMaxWidthOfNavigator(e){return this.tabsPageWidth=this.tabsPageWidth+e.offsetWidth+32,this.tabsPageWidth>=this.navigator.offsetWidth}setFirstElementToLastPage(e){this.tabs.indexOf(e)!==this.tabs.length-1&&(this.currentInitTab=e)}moveTabNextSection(e){const t=e?e.offsetLeft:this.currentInitTab.offsetLeft;this.navigator.scrollTo({left:t-72,behavior:"smooth"})}}var jn=Gn;const zn="uni-search__auto-complete-link";const Xn='<svg class="h-c-icon h-c-icon--18px feed-article__icon" viewBox="0 0 24 24">\n                  <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#mi-arrow-reply-right"></use>\n                 </svg>';class Jn extends de.Z{constructor(e){super(e),this.currentRequest={},this.autoCompleteMarkup="",this.query="",this.page_sitespace=this.el.getAttribute("data-sitespace"),this.siteId=this.el.getAttribute("data-siteid"),this.siteName=this.el.getAttribute("data-sitename"),this.request=new XMLHttpRequest,this.accessibility=new class{constructor(e){this.auto=e,this.handleKeyboard=!1}activate(){this.handleKeyboard=!0}deactivate(){this.handleKeyboard=!1}attach(){pe.Z.on(pe.R.Up,(e=>this.proxy(e,this.focusPreviousSuggestion))),pe.Z.on(pe.R.Down,(e=>this.proxy(e,this.focusNextSuggestion)))}proxy(e,t){let{preventDefault:s}=e;return(()=>{this.handleKeyboard&&(s(),t.apply(this))})()}focusedIsSuggestion(){const e=document.activeElement;return e&&e.classList.contains(zn)}getSuggestions(){return Array.from(this.auto.el.querySelectorAll(".uni-search__auto-complete-item"))}getFocusedSuggestionIndex(){const e=document.activeElement,t=this.getSuggestions();return{suggestions:t,index:t.indexOf(e.parentElement)}}getFirstSuggestion(){return this.getSuggestions()[0].querySelector(".uni-search__auto-complete-link")}getNextSuggestion(){const{suggestions:e,index:t}=this.getFocusedSuggestionIndex();return t>=0&&t+1<e.length?e[t+1].querySelector(".uni-search__auto-complete-link"):null}getPreviousSuggestion(){const{suggestions:e,index:t}=this.getFocusedSuggestionIndex();return t>0?e[t-1].querySelector(".uni-search__auto-complete-link"):null}focusNextSuggestion(){if(this.focusedIsSuggestion()){const e=this.getNextSuggestion();e&&e.focus()}else this.getFirstSuggestion().focus()}focusPreviousSuggestion(){if(this.focusedIsSuggestion()){const e=this.getPreviousSuggestion();e&&e.focus()}}}(this),this.visible=!1}_events(){this.accessibility.attach(),window.addEventListener("orientationchange",(()=>{this.manageScrollChange()})),window.addEventListener("resize",(()=>{this.manageScrollChange()}))}_elements(){this.header=document.querySelector(".uni-header")}update(e){let{type:t,data:s}=e;switch(t){case Si.INPUT_CLEARED:this.request.abort(),this.cleanQuery(),this.clearMarkup(),this.clearStyles();break;case Si.INPUT_FILLED:this.query=s,this.showSugestions();break;case Si.BOX_OPENED:this.show();break;case Si.BOX_CLOSED:this.cleanQuery(),this.clearMarkup(),this.hide()}}show(){this.el.classList.add("uni-search__auto-complete--visible"),this.visible=!0,this.accessibility.activate()}getWindowHeight(){return window.innerHeight}getHeaderHeight(){return this.header.clientHeight}getHeight(){return this.el.clientHeight+this.getHeaderHeight()}manageScroll(){this.getHeaderHeight()+this.getHeight()>this.getWindowHeight()&&(this.el.style.height=this.getWindowHeight()-this.getHeaderHeight()+"px"),this.el.style.overflow="auto"}manageScrollChange(){this.visible&&(this.clearStyles(),setTimeout((()=>{this.manageScroll()}),20))}clearStyles(){this.el.removeAttribute("style")}hide(){this.el.classList.remove("uni-search__auto-complete--visible"),this.visible=!1,this.clearStyles(),this.accessibility.deactivate()}cleanQuery(){this.query=""}clearMarkup(){this.el.innerHTML=""}showSugestions(){const e="rtl"===document.documentElement.getAttribute("dir");this.currentRequest=this.createApiRequest(),this.currentRequest.then((t=>{const s=[...t.results].map((t=>this.validateEyebrow(t,this.page_sitespace,e))).map(((e,t)=>`<li class="uni-search__auto-complete-item">\n                  <a class="uni-search__auto-complete-link"\n                     href="${e.url}"\n                     data-index="${t+1}"\n                     data-navigation="${e.url}">\n                    <span class="uni-search__auto-complete-date">${e.client_eyebrow}</span>\n                    <h4 class="uni-search__auto-complete-title">${e.headline}</h4>\n                  </a>\n                </li>`));this.el.innerHTML=s.join(""),this.manageScroll(),this.setAnaliticsTrack()})).catch((e=>{console.error(e)}))}setAnaliticsTrack(){[...this.el.querySelectorAll(".uni-search__auto-complete-link")].forEach((e=>{e.addEventListener("click",(()=>{const t={index:e.getAttribute("data-index"),slug:e.getAttribute("data-navigation")};this.store.dispatch(B,t)}))}))}createApiRequest(){const e=`/api/v2/search-suggestions/?${new URLSearchParams({query:this.query}).toString()}&site_id=${this.siteId}&format=json`;this.request.open("GET",e),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");const t=new Promise(function(e,t){this.request.onload=function(){if(200===this.status){const t=JSON.parse(this.responseText),s=t.query.replace(/#/g,"%23");t.query=s,e(t)}},this.request.onerror=function(){t({status:this.status,statusText:this.statusText})},this.request.send()}.bind(this));return t.abort=()=>{this.request.abort()},t}validateEyebrow(e,t,s){const i=s?"-":"/",n=""!==e.sitespace,o=e.sitespace===t,r=Xn;return e.client_eyebrow="",e.client_eyebrow=""===t&&n||""!==t&&n&&!o?`${e.published_node} ${i} ${r} From ${e.sitespace_render}`:""!==t&&!1===n?`${e.published_node} ${i} ${r} From The Keyword`:""!==t&&n&&o?`${e.published_node} ${i} ${e.sitespace_render}`:s?e.eyebrow.replace(/[ ]+[/]+[ ]/g," - "):e.eyebrow,e}}var Qn=Jn;const eo="overflow-hidden-menu--mobile",to="uni-social-share__show-dialog",so="active",io="aria-expanded",no="open";class oo extends de.Z{constructor(e){super(e),this.elements={},this.socialShareState}afterInit(){this.store.dispatch(H,{id:this.id,handle:this.el})}update(e){let{type:t,data:s}=e;t===W&&s===this.id&&this.socialShareState===no&&this.toggleDialog(!1)}_elements(){this.elements.dialog=this.el.querySelector(".uni-social-share__dialog"),this.elements.linksSocialShare=this.el.querySelectorAll(".article-share__link-text"),this.elements.socialShareTrigger=this.el.querySelector(".uni-social-share__trigger"),this.elements.links=[...this.el.querySelector(".uni-social-share__content").getElementsByTagName("a")]}_events(){this.elements.socialShareTrigger.addEventListener("click",(()=>{this.handleShowSocialShare(),this.trackSocialShareTriggerButtonEvent()})),this.elements.linksSocialShare.forEach((e=>{e.addEventListener("click",(()=>{this.toggleDialog(!1)}))})),this.elements.socialShareTrigger.addEventListener("keypress",(()=>{this.handleShowSocialShare(),this.trackSocialShareTriggerButtonEvent()})),document.addEventListener("keyup",(e=>this.handleKeyUpDown(e)))}handleKeyUpDown(e){const t=this.document.activeElement;if(this.socialShareState===no)switch(e.key){case"ArrowDown":{const s=t.nextElementSibling;s&&(s.classList.contains("copy-link")?s.firstElementChild.focus():s.focus(),e.preventDefault());break}case"ArrowUp":{const s=t.previousElementSibling,i=t.parentElement.previousElementSibling;s?s.focus():i&&i.focus(),e.preventDefault();break}case"Tab":this.elements.links.includes(t)||this.handleShowSocialShare(),e.preventDefault()}}handleShowSocialShare(){if(!this.elements.dialog.classList.contains(to))return this.toggleDialog(!0),this.socialShareState=no,void this.elements.socialShareTrigger.setAttribute(io,!0);this.toggleDialog(!1),this.socialShareState="close",this.elements.socialShareTrigger.setAttribute(io,!1)}toggleDialog(e){e?(this.elements.dialog.classList.add(to),this.elements.socialShareTrigger.classList.add(so),this.disableScroll()):(this.elements.dialog.classList.remove(to),this.elements.socialShareTrigger.classList.remove(so),this.enableScroll())}checkClickInside(e){return this.el.contains(e)}handleAnalytics(e){const t=new a.Z;t.setAdditionalValues(e),t.pushClickEvent()}getAnalyticsAttribute(e){return JSON.parse(e.getAttribute("data-analytics"))}trackSocialShareTriggerButtonEvent(){const e=this.getAnalyticsAttribute(this.elements.socialShareTrigger);e.label=this.socialShareState,this.handleAnalytics(e)}trackSocialShareLinkEvent(e){const t=this.getAnalyticsAttribute(e);t.action="share - progress bar ",t.event="page interaction",this.handleAnalytics(t)}enableScroll(){document.body.classList.remove(eo),document.documentElement.classList.remove(eo)}disableScroll(){document.body.classList.add(eo),document.documentElement.classList.add(eo)}}class ro extends de.Z{constructor(e){super(e)}init(){super.init(),this.richTextElements&&this.insertTombStone()}_elements(){this.richTextElements=[...this.el.querySelectorAll(".uni-paragraph > .rich-text")]}searchForLastText(e){for(const t of e.reverse())if(t.textContent.trim().length){const e=[...t.childNodes];if(e.length)return this.searchForLastText(e);if(t.nodeType===Node.TEXT_NODE)return t}}insertTombStone(){const e=this.searchForLastText(this.richTextElements);if(e){const t=document.createElement("span");t.className="tombstone",e.after(t)}}}var ao=ro;const lo=window.matchMedia(Pt),co="topics-list-module__bullets--active",ho="click";class uo extends de.Z{constructor(e){super(e)}init(){super.init(),this.chunkIndex=0,this.resizeFirstRowHeights(),this.resizeSecondRowHeights()}_elements(){this.topicsListModule=this.el,this.carouselWrapper=this.el.querySelector(".topics-list-module__list-container"),this.carouselChunks=[...this.el.querySelectorAll(".topics-list-module__list .list")],this.arrowLeft=this.el.querySelector(".topics-list-module__left-arrow"),this.arrowRight=this.el.querySelector(".topics-list-module__right-arrow"),this.tags=[...this.el.querySelectorAll(".tag")],this.firstTags=[...this.el.querySelectorAll(".tag-container:first-child")],this.secondTags=[...this.el.querySelectorAll(".tag-container:nth-child(2)")],this.fifthTags=[...this.el.querySelectorAll(".tag-container:nth-child(5)")],this.bullets=this.el.querySelectorAll(".topics-list-module__bullets li"),this.chunks=this.bullets.length,this.chunkIndex=0,this.setArrowsAnalytics()}_events(){this.arrowLeft&&this.arrowRight&&(this.arrowLeft.addEventListener(ho,this.moveToLeft.bind(this)),this.arrowRight.addEventListener(ho,this.moveToRight.bind(this))),lo.addEventListener("change",this.onResize.bind(this)),this.bullets&&this.bullets.forEach(((e,t)=>{e.addEventListener(ho,(()=>{this.modifyBulletsAnalytics(e,this.chunkIndex,t),this.setBullet(this.chunkIndex,t),this.setArrowsAnalytics(),this.chunkIndex=t,this.scrollChunks()}))}))}resizeFirstRowHeights(){this.tags.length<8||(lo.matches?this.tags.forEach(((e,t)=>{t%2==0&&(e.style.height=`${this.getRowHeight(this.firstTags)}px`)})):this.carouselChunks.forEach((e=>{e.children[0].children[0].style.height=`${this.getRowHeight(this.firstTags)}px`})))}resizeSecondRowHeights(){this.tags.length<8||(lo.matches?this.tags.forEach(((e,t)=>{t%2!=0&&(e.style.height=`${this.getRowHeight(this.secondTags)}px`)})):this.carouselChunks.forEach((e=>{void 0!==e.children[4]?e.children[4].children[0].style.height=`${this.getRowHeight(this.fifthTags)}px`:e.style.gridTemplateRows=`auto ${this.getRowHeight(this.fifthTags)}px`})))}getRowHeight(e){const t=e.filter((e=>e.offsetHeight>=80)).map((e=>e.offsetHeight));return Math.max(...t)}clearCustomTagHeights(){this.tags.map((e=>e.removeAttribute("style")))}moveToRight(){this.chunkIndex!==this.chunks-1&&(this.setBullet(this.chunkIndex,this.chunkIndex+1),this.chunkIndex++,this.scrollChunks(),this.setArrowsAnalytics())}moveToLeft(){0!==this.chunkIndex&&(this.setBullet(this.chunkIndex,this.chunkIndex-1),this.chunkIndex--,this.scrollChunks(),this.setArrowsAnalytics())}setBullet(e,t){this.bullets[e].classList.remove(co),this.bullets[t].classList.add(co)}setArrowsAnalytics(){this.arrowLeft&&this.modifyArrowsAnalytics(this.arrowLeft),this.arrowRight&&this.modifyArrowsAnalytics(this.arrowRight)}modifyArrowsAnalytics(e){const t=this.getElementAnalyticsOnClick(e),s=t.label;if(t.position=`${this.chunkIndex+1} of ${this.bullets.length}`,s.length<=16)t.label+=`${this.chunkIndex+1} of ${this.bullets.length}`;else{const e=s.slice(0,-6);t.label=`${e}${this.chunkIndex+1} of ${this.bullets.length}`}e.setAttribute("data-analytics-onclick",JSON.stringify(t))}modifyBulletsAnalytics(e,t,s){if(t===s)return;const i=t<s?"- right":"- left",n=this.getElementAnalyticsOnClick(e),o=n.action;if(19!==o.length){const e=o.slice(0,19);n.action=`${e} ${i}`}else n.action+=`${i}`;e.setAttribute("data-analytics-onclick",JSON.stringify(n))}getElementAnalyticsOnClick(e){const t=e.getAttribute("data-analytics-onclick")||"";let s;try{s=JSON.parse(t)}catch{s={}}return s}onResize(){this.carouselWrapper.scrollLeft=0,this.setBullet(this.chunkIndex,0),this.chunkIndex=0,this.scrollChunks(),this.clearCustomTagHeights(),this.resizeFirstRowHeights(),this.resizeSecondRowHeights()}scrollChunks(){const e=this.carouselChunks[this.chunkIndex].offsetLeft-32;this.carouselWrapper.scrollTo({left:e,behavior:"smooth"}),this.arrowLeft.style.display=0===this.chunkIndex?"none":"flex",this.arrowRight.style.display=this.chunkIndex===Math.ceil(this.tags.length/8)-1?"none":"flex"}}var mo=uo;const po="MMM/DD/YYYY",go="DD/MMM/YYYY",vo={"en-us":po,"en-africa":po,"en-in":go,"en-ca":po,"en-au":po,"de-de":go,"fr-ca":go,"pt-br":go,"es-419":go,"fr-fr":go,"it-it":go,"ar-mena":go,"en-mena":go},yo={"fr-ca":["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"],"pt-br":["Jan","Fev","Març","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],"es-419":["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],"fr-fr":["Jan","Fév","Mar","Avr","Mai","Jui","Jul","Aoû","Sep","Oct","Nov","Déc"],"it-it":["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]},bo={"ar-mena":"en-us","en-mena":"en-us"},fo=t=>{const s=(t=>{const s=e(),i=new Date(t),n=bo[s]||s;return new Intl.DateTimeFormat(n,{year:"numeric"}).format(i)})(t),i=(t=>{const s=e(),i=new Date(t),n=yo[s];return n?n[t.getMonth()]:new Intl.DateTimeFormat(s,{month:"short"}).format(i).replace(".","").replace(/^\w/,(e=>e.toUpperCase()))})(t),n=(t=>{const s=e(),i=new Date(t),n=bo[s]||s;return new Intl.DateTimeFormat(n,{day:"2-digit"}).format(i)})(t);return{year:s,month:i,day:n}},wo=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";const i=e(),{year:n,month:o,day:r}=fo(t);let a="";const l={"DD/MMM/YYYY":()=>a=`${r}${s}${o}${s}${n}`,"MMM/DD/YYYY":()=>a=`${o}${s}${r}${s}${n}`};return vo[i]&&l[vo[i]](),a},So=["retweet","reply","like"];class _o extends de.Z{constructor(e){super(e),this.isRTL_="rtl"===document.documentElement.getAttribute("dir"),this.intentActions_=this.isRTL_?So.reverse():So}async sendRequest(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.source=t;let i=encodeURIComponent(e.replace(/^@/,""));s&&(i+=`&status=${s}`);const n="/social/api/feed/twitter/?user_id="+i,o=he.accessCookie("csrftoken");return fetch(n,{method:"GET",headers:{"X-CSRFToken":o}}).catch((e=>this.handleError(e)))}formatText(e){return e.text=e.text.replace(/(<a href="(?:.*?)")/g,'$1 target="_blank"'),e}formatDate(e){(e.hasEmbeddedTweet||e.isRetweet)&&(e.embeddedTweet=this.formatDate(e.embeddedTweet));const t=e.created_at;let s=t;try{const e=new Date(t.replace(/-/g,"/")).toISOString().replace(" ","T"),i=new Date(e);s=s=this.formatSource(i)}catch(e){this.handleError(e)}return{...e,formated_date:s}}formatSource(e){let t=null;const s={kw:()=>t=wo(e),yt:()=>t=wo(e,".")};return this.source&&s[this.source](),t}formatResults(e){return e.length?e.map((e=>this.formatText(e))).map((e=>this.formatDate(e))):[]}handleError(e){console.error(e)}}var Eo=_o;const Ao={event:"page interaction",category:"in-article links",action:"link click"};class Lo extends de.Z{constructor(e){super(e)}init(){super.init(),this.setLinksAnalytics()}_elements(){this.links=[...this.el.getElementsByTagName("a")]}_events(){}update(){}setLinksAnalytics(){this.links.forEach((e=>{Ao.label=e.getAttribute("href"),e.setAttribute("data-analytics-onclick",JSON.stringify(Ao))}))}}var Co=Lo;class ko extends a.Z{constructor(){super(),this.analyticsEvent={event:"page interaction",category:"interaction",contentType:"article page"}}pushAction(e){this.analyticsEvent.action=e.action,this.analyticsEvent.label=e.labelTag,this.pushClickEvent()}}const To="clicked",Io="web stories - carousel",Oo="web stories - icon click ",xo="arrowPrevious",Po="arrowNext",Bo="audioMute",Do="audioUnmuted";let Ro=-1;class qo extends de.Z{_events(){this.el.addEventListener("storyNavigation",(e=>{let{detail:t,target:s}=e;const i=s.querySelector(".webstory__overlay");i.classList.contains(To)?this.validateTypeArrowClick(t.progress):i.classList.add(To)}))}afterInit(){this.el.querySelector("#story_embed_external")&&this.el.rewind&&this.el.rewind(),this.playerShadowIntermediary=this.el.getElementsByClassName("i-amphtml-story-player-shadow-root-intermediary"),this.playerShadowIntermediary&&this.playerShadowIntermediary.length&&(this.playerShadowIntermediary[0].shadowRoot.querySelector(".i-amphtml-story-player-main-container").style.borderRadius="16px"),this.el.addEventListener("amp-story-muted-state",(e=>{let{detail:t}=e;const s=t.muted?Bo:Do;0===this.el.getElementsByClassName("internal-embed").length&&this.setAnalytics(s)}))}validateTypeArrowClick(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<=Ro&&this.setAnalytics(xo),e>=Ro&&this.setAnalytics(Po),Ro=e}setAnalytics(e){const t=new ko;let s={};switch(e){case xo:s={action:Io,labelTag:"arrow - left click"};break;case Po:s={action:Io,labelTag:"arrow - right click"};break;case Bo:s={action:Oo,labelTag:"mute"};break;case Do:s={action:Oo,labelTag:"unmute"}}t.pushAction(s)}}var Mo=qo;class No extends de.Z{constructor(e){super(e),this.elements={},this.wasInView=!1}_elements(){this.elements.webstoryContainer=this.el.querySelector(".linked-webstory__container")}_events(){this.elements.webstoryContainer.addEventListener("click",(()=>{this.trackClickWebstoryContainer()}))}handleAnalytics(e){const t=new a.Z;t.setAdditionalValues(e),t.pushClickEvent()}getAnalyticsAttribute(e){return JSON.parse(e.getAttribute("data-analytics"))}trackClickWebstoryContainer(){const e=this.getAnalyticsAttribute(this.elements.webstoryContainer);this.handleAnalytics(e)}}var Vo=No;Re=new De,E=new _,N=new M,m=new p,(async()=>{await new Promise((e=>{const t=setInterval((()=>{window.google&&(clearInterval(t),e())}),100)})),new google.CookieConsentBar(U[e()])})(),new class{constructor(){this.id=(0,l.Z)(),this.listeners={},c.Z.subscribe(this.id,this.update.bind(this))}update(e){let{type:t,data:s}=e;switch(t){case V:this.onBodyClicked(s);break;case H:this.onNewRegister(s)}}onBodyClicked(e){Object.keys(this.listeners).forEach((t=>!$(e,this.listeners[t])&&c.Z.dispatch(W,t)))}onNewRegister(e){let{id:t,handle:s}=e;this.listeners[t]=s}},(0,r.iZ)(),We=new He,new le,new Me,new ee,new Q,(()=>{const t=document.querySelector("[data-reading-time-render]"),s=document.querySelector(".article-meta__read-time--number"),i=e();if(t)if("de-de"===i){const e=t.textContent;t.textContent=e.replace(".",n())}else s.innerHTML=`${n()} `})(),function(e){const t=window.G00G={};(0,o.Z)(document,"[data-component]").forEach((s=>{let i=[];i=i.concat(s.getAttribute("data-component").split("|"));for(const n of i){const i=e[n]||null;if(!i)return;const o=new i(s);t[o.id]=o,o.init()}})),Object.keys(t).forEach((e=>t[e].afterInit()))}({"uni-article-paragraph":Co,"uni-article-yt-player":Xe.Z,"uni-audio-player":yt,"uni-button-survey":class extends bt{constructor(e){super(e),this.step=this.el.dataset.surveyStep,this.action=this.el.dataset.surveyAction}_events(){this.el.addEventListener("click",(()=>this.store.dispatch(ft[this.action],{step:this.step})))}update(e){let{type:t,data:s}=e;switch(t){case Le.S_ENABLE:this.step===s.step&&"forward"===this.action&&(this.el.disabled=!1);break;case Le.S_DISABLE:this.step===s.step&&"forward"===this.action&&(this.el.disabled=!0)}}},"uni-copy-popup-component":kt,"uni-descriptive-dynamic-up":It,"uni-drop-cap":xt,"uni-dynamic-carousel":Mt,"uni-featured-article-carousel":ns,"uni-featured-article":Qt,"uni-follow-us-popup":os,"uni-footer-component":ws,"uni-footnotes":class extends Us{constructor(e){super(e),this.isCollapsed=!1}init(){super.initWindow()}update(e){let{type:t}=e;switch(t){case cs:case ys:this.changePopUpPosition(),this.handleScroll()}}_elements(){this.footnotesArrow=this.el.querySelector(".uni-chevron-menu__button"),this.footnotesBody=this.el.querySelector(".uni-footnotes__content"),this.collapseButton=this.el.querySelector(".uni-footnotes__collapse-btn"),this.chevronMenu=this.el.querySelector(".uni-footnotes__chevron-menu"),this.footnoteIndexes=document.querySelectorAll(Zs),this.superScripts=document.querySelectorAll(".superscript sup"),this.readMore=document.querySelector(".uni-window__read"),this.closeWindow=document.querySelector(".uni-window__close"),this.footNoteSpace=document.querySelector(Ys)}_events(){this.chevronMenu.addEventListener(js,(e=>{this.collapseInformation(e)})),this.collapseButton.addEventListener(js,(e=>{this.collapseInformation(e)})),this.footnotesArrow.addEventListener(zs,(e=>{this.onKeyDown(e,(()=>this.collapseInformation(e)))})),this.collapseButton.addEventListener(zs,(e=>{this.onKeyDown(e,(()=>this.collapseInformation(e)))})),this.footnoteIndexes.forEach((e=>{e.addEventListener(js,(t=>{t.preventDefault();const s=e.getAttribute("href");this.scrollToReferencedText(s)}))}));for(const e of this.superScripts){const t=e.parentElement;this.eventsForSuperscript(t)}this.closeWindow.addEventListener(js,(()=>{this.closePopup()})),this.readMore.addEventListener(js,(e=>{this.displayFootnotes(),this.moreInformation(e),this.handleAnalyticsReadMore(e.target)})),this.footNoteSpace.addEventListener(js,(e=>{let{target:t}=e;"a"===t.nodeName.toLowerCase()&&this.handleAnalyticsAnchor(ti,t)}))}eventsForSuperscript(e){e.addEventListener(js,(e=>this.onClickSuperScript(e))),e.addEventListener(zs,(e=>{this.onKeyDown(e,(()=>this.moreInformation(e)))})),e.addEventListener("mouseenter",(e=>{let{target:t}=e;if(!this.isMediumViewport()){const e=this.getContentWindow(t,!0);this.setPopOver(t,e)}})),e.addEventListener("mouseleave",(()=>{!this.isMediumViewport()&&this.closePopOver()})),e.removeAttribute("data-analytics-onclick")}onClickSuperScript(e){const t=e.target,s=t.closest(".superscript"),i=t.nodeName.toLowerCase();if(Ps=s,"button"!==(s&&i)&&this.handleAnalyticsWindow(Ds,s),"a"===i&&this.handleAnalyticsAnchor(ei,t),!this.isMediumViewport()&&e&&this.moreInformation(e),this.isMediumViewport()){const e=this.getContentWindow(s);this.setPopUp(s,e),this.handleAnalyticsWindow(Bs,s)}}getContentWindow(e,t){const s=this.getContentOfLink(e);if(s){let e=s.querySelector("div").firstElementChild;const i=e.cloneNode(!0);return e=t?this.maxOfCharacters(i):i,e}}displayFootnotes(){this.footnotesBody.style.display="block",this.isCollapsed=!0}hideFootnotes(){this.footnotesBody.style.display="none",this.isCollapsed=!1}rotateArrow(){const e=this.isCollapsed?"rotate(0deg)":"rotate(-180deg)";this.footnotesArrow.style.transform=e}moreInformation(e){const t=e.target.closest("[href]").getAttribute(Xs);if(this.displayFootnotes(),!t.includes("footnote"))return;e.preventDefault();const s=document.querySelector(t).querySelectorAll("p"),i=t.replace("-","-source-"),n=document.querySelector(`[href='${i}']`);for(const e of s)e.classList.add("uni-window--p-highlight"),this.scrollToFootnoteIndex(n),setTimeout((()=>{e.removeAttribute("class")}),4e3)}scrollToReferencedText(e){const t=document.querySelector(e);t.focus();const s=t.parentElement.getBoundingClientRect().top-64+window.pageYOffset;window.scrollTo({top:s,behavior:"smooth"})}scrollToFootnoteIndex(e){const t=e.parentElement.offsetTop;e.focus(),window.scrollTo({top:t-64-100,behavior:"smooth"})}onKeyDown(e,t){13===e.code&&(t(),e.preventDefault())}collapseInformation(){if(this.rotateArrow(),this.footnotesArrow.focus(),this.isCollapsed)return this.hideFootnotes(),this.footnotesArrow.ariaExpanded=!1,this.collapseButton.ariaExpanded=!1,void this.handleAnalyticCollapse("close");this.displayFootnotes(),this.footnotesArrow.ariaExpanded=!0,this.collapseButton.ariaExpanded=!0,this.handleAnalyticCollapse("open")}setTagsAnalytics(e,t){return{...Js,action:t,label:e}}handleAnalyticsReadMore(e){const t=e.closest(".superscript").querySelector(Gs).textContent;this.setDataAnalytics(`${t} - read more`,Qs)}handleAnalyticsWindow(e,t){const s=t.classList.contains(Ks)?t.querySelector(Gs).textContent:t.textContent;switch(e){case Ds:this.setDataAnalytics(s,"footnotes - superscript click");break;case Bs:this.setDataAnalytics(s,"footnotes - superscript modal click")}}handleAnalyticsAnchor(e,t){const s=t.getAttribute("href"),i=t.closest(".superscript").querySelector(Gs).textContent,n=t.closest(Ys).querySelector(Zs).querySelector("span").textContent;switch(e){case ei:this.setDataAnalytics(`${i} - ${s}`,Qs);break;case ti:this.setDataAnalytics(`${n} - ${s}`,"footnotes - accordion link click")}}handleAnalyticCollapse(e){this.setDataAnalytics(e,"footnotes - accordion")}setDataAnalytics(e,t){const s=new a.Z;s.setAdditionalValues(this.setTagsAnalytics(e,t)),s.pushClickEvent()}},"uni-formbox-survey":oi,"uni-header":Mi,"uni-homepage-newsletter":un,"uni-homepage-multi-video":en,"uni-image-carousel":ze,"uni-input":pn,"uni-lang-picker":yn,"uni-link-section":wn,"uni-monogram":En,"uni-navigation-mobile":Yi,"uni-navigation":wi,"uni-newsletter-demo":Ln,"uni-newsletter-toast":bs,"uni-progress-bar":xi,"uni-related-article-tout":Zn,"uni-related-articles":Ct,"uni-scrollable-tab":jn,"uni-search-autocomplete":Qn,"uni-search-box":Ei,"uni-social-share-dropdowm":oo,"uni-subscribe-sticky":Wn,"uni-subscribe":qn,"uni-survey":Be,"uni-topics-list":mo,"uni-tombstone":ao,"uni-twitter-feed":class extends Eo{constructor(e){super(e)}init(){super.init(),this.getTwitterFeed()}_elements(){this.options=JSON.parse(this.el.getAttribute("uni-options")),this.l10n=JSON.parse(this.el.getAttribute("uni-l10n")),this.dateTime=this.el.getAttribute("datetime"),this.twitterFeed=this.el.querySelector("twitter-feed__tweet"),this.twitterMedia=this.el.querySelector("twitter-feed__tweet-media--link"),this.twitterWrapper=this.el.querySelector(".twitter-feed__wrapper"),this.feedContainer=this.getFeedContainer()}_events(){}getFeedContainer(){const{feedContainerClass:e}=this.options,t=this.el.getElementsByClassName(e)[0];return e?t:this.el}getTwitterFeed(){const{userId:e,statusLink:t}=this.options,s={user:null==t?void 0:t.split(/[?,\/]/)[3],status:null==t?void 0:t.split(/[?,\/]/)[5]};this.sendRequest(e||s.user,"kw",s.status).then((e=>e.json())).then((e=>{const t=this.getValidTweets(e);t.length||this.handleError();const s=this.formatResults(t);this.addResults(s)})).catch((e=>this.handleError(e)))}getValidTweets(e){return e.object_list.filter((e=>!1===e.error))}handleError(e){this.twitterWrapper.style.display="none",e&&console.error(e)}addResults(e){const{feedLength:t}=this.options;if(e)for(let s=0;s<t;s++)this.renderIntoTemplate(e[s]);else this.hideComponent()}renderIntoTemplate(e){const{template:t}=this.options;if(e){const s={tweet:e.isRetweet?{...e,hasEmbeddedTweet:!0}:e,l10n:this.l10n,intentActions:this.intentActions_},i=window.uniblogSoy.templates[t](s);this.feedContainer.innerHTML+=i,this.setTweetAnalytics(this.feedContainer)}}hideComponent(){this.el.parentNode.removeChild(this.el)}setTweetAnalytics(e){const t=Array.from(e.querySelectorAll("a")),s="twitter-feed__content--single"===this.options.feedContainerClass?"in-line twitter":"twitter feed";t.length&&t.forEach((e=>{const t={event:"page interaction",category:"social",action:`${s} component click`,label:e.getAttribute("href")};e.addEventListener("click",(()=>{this.handleTabAnalyticsEvent(!1,t)}))}))}handleTabAnalyticsEvent(e,t){const s=t||this.getAnalyticsAttribute(e),i=new a.Z;i.setAdditionalValues(s),i.pushClickEvent()}getAnalyticsAttribute(e){return JSON.parse(e.getAttribute("data-analytics"))}},"uni-webstory-iframe":Mo,"uni-webstory-link":Vo,"uni-window-popup":Us}),new ce.Z,new class{constructor(){document.addEventListener("focus",this.onFocusChanged,!0)}onFocusChanged(e){let{relatedTarget:t,target:s,srcElement:i}=e;c.Z.dispatch(me,{from:t,to:s||i})}},new class{constructor(){document.body.addEventListener("click",this.onDocumentClicked)}onDocumentClicked(e){c.Z.dispatch(V,e)}},new class{constructor(){window.addEventListener("resize",(()=>this.onResize())),window.addEventListener("orientationchange",(()=>this.onOrientation()))}onResize(){c.Z.dispatch(Ke)}onOrientation(){c.Z.dispatch(Ye)}},new class{constructor(){this.lastWidth=this.getViewportWidth(),this.lastHeight=this.getViewportHeight(),window.addEventListener("resize",(()=>this.onResize()))}getViewportWidth(){return Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)}getWidthDelta(e){const t=e-this.lastWidth;return this.lastWidth=e,t}getViewportHeight(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}getHeightDelta(e){const t=e-this.lastHeight;return this.lastHeight=e,t}getData(){const e=this.getViewportWidth(),t=this.getViewportHeight();return{width:e,widthDelta:this.getWidthDelta(e),height:t,heightDelta:this.getHeightDelta(t)}}onResize(){const e=this.getData();c.Z.dispatch("RESIZE_TRACKER/VIEWPORT_RESIZED",e)}},new class{constructor(){this.init()}init(){this.setElementsToTrack(),this.setBodyCustomEventListener()}setElementsToTrack(){(0,o.Z)(document,"[data-analytics-onclick]").forEach((e=>{e.addEventListener("click",(()=>{this.sendClickAnalytics(e.getAttribute("data-analytics-onclick"))}))}))}setBodyCustomEventListener(){document.body.addEventListener("ANALYTICS/CLICK",(e=>{this.sendClickAnalytics(e.detail["data-analytics"])}))}sendClickAnalytics(e){const t=e.replace(Ue,"");try{const e=JSON.parse(t),s=new a.Z;s.setAdditionalValues(e),s.pushClickEvent()}catch(t){console.error(`Failing parsing: ${e}`)}}},new class{constructor(){this.init()}init(){this.setElementsToTrack()}setElementsToTrack(){(0,o.Z)(document,"[data-analytics-onvisble]").forEach((e=>{new MutationObserver((()=>{if("visible"===e.style.visibility){const t=JSON.parse(e.getAttribute("data-analytics-onvisble")),s=new a.Z;s.setAdditionalValues(t),s.pushClickEvent()}})).observe(e,{attributes:!0,childList:!0})}))}},new class{constructor(){this.thresholds=[],this.id=`scroll-tracker_${(0,l.Z)()}`,this.update=this.update.bind(this),this.init()}init(){c.Z.subscribe(this.id,this.update)}update(e){let{type:t,data:s}=e;if(t===Ze){const e=s.pagePercent;this.checkPercentage(e,25),this.checkPercentage(e,50),this.checkPercentage(e,75),this.checkPercentage(e,100)}}getAttributes(e){return{event:"page interaction",category:"scroll tracking",action:`${e}% viewed`,label:`${e}% viewed`}}checkPercentage(e,t){const s=t/100;if(e>=s&&!this.thresholds.includes(s)){this.thresholds.push(s);const e=new a.Z;e.setAdditionalValues(this.getAttributes(t)),e.pushClickEvent()}}}}()}();